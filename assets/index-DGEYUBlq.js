(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function NA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rd={exports:{}},yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function MA(){if(yv)return yl;yv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return yl.Fragment=e,yl.jsx=n,yl.jsxs=n,yl}var vv;function kA(){return vv||(vv=1,Rd.exports=MA()),Rd.exports}var K=kA(),Cd={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function xA(){if(_v)return Ce;_v=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function D(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,q={};function j(k,X,ae){this.props=k,this.context=X,this.refs=q,this.updater=ae||x}j.prototype.isReactComponent={},j.prototype.setState=function(k,X){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,X,"setState")},j.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function B(){}B.prototype=j.prototype;function ee(k,X,ae){this.props=k,this.context=X,this.refs=q,this.updater=ae||x}var Z=ee.prototype=new B;Z.constructor=ee,L(Z,j.prototype),Z.isPureReactComponent=!0;var ue=Array.isArray,ce={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function R(k,X,ae,oe,re,_e){return ae=_e.ref,{$$typeof:r,type:k,key:X,ref:ae!==void 0?ae:null,props:_e}}function w(k,X){return R(k.type,X,void 0,void 0,void 0,k.props)}function S(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function C(k){var X={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ae){return X[ae]})}var N=/\/+/g;function M(k,X){return typeof k=="object"&&k!==null&&k.key!=null?C(""+k.key):X.toString(36)}function O(){}function Ve(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(O,O):(k.status="pending",k.then(function(X){k.status==="pending"&&(k.status="fulfilled",k.value=X)},function(X){k.status==="pending"&&(k.status="rejected",k.reason=X)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function qe(k,X,ae,oe,re){var _e=typeof k;(_e==="undefined"||_e==="boolean")&&(k=null);var ye=!1;if(k===null)ye=!0;else switch(_e){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(k.$$typeof){case r:case e:ye=!0;break;case E:return ye=k._init,qe(ye(k._payload),X,ae,oe,re)}}if(ye)return re=re(k),ye=oe===""?"."+M(k,0):oe,ue(re)?(ae="",ye!=null&&(ae=ye.replace(N,"$&/")+"/"),qe(re,X,ae,"",function($e){return $e})):re!=null&&(S(re)&&(re=w(re,ae+(re.key==null||k&&k.key===re.key?"":(""+re.key).replace(N,"$&/")+"/")+ye)),X.push(re)),1;ye=0;var Ye=oe===""?".":oe+":";if(ue(k))for(var Ie=0;Ie<k.length;Ie++)oe=k[Ie],_e=Ye+M(oe,Ie),ye+=qe(oe,X,ae,_e,re);else if(Ie=D(k),typeof Ie=="function")for(k=Ie.call(k),Ie=0;!(oe=k.next()).done;)oe=oe.value,_e=Ye+M(oe,Ie++),ye+=qe(oe,X,ae,_e,re);else if(_e==="object"){if(typeof k.then=="function")return qe(Ve(k),X,ae,oe,re);throw X=String(k),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ye}function ne(k,X,ae){if(k==null)return k;var oe=[],re=0;return qe(k,oe,"","",function(_e){return X.call(ae,_e,re++)}),oe}function me(k){if(k._status===-1){var X=k._result;X=X(),X.then(function(ae){(k._status===0||k._status===-1)&&(k._status=1,k._result=ae)},function(ae){(k._status===0||k._status===-1)&&(k._status=2,k._result=ae)}),k._status===-1&&(k._status=0,k._result=X)}if(k._status===1)return k._result.default;throw k._result}var he=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function be(){}return Ce.Children={map:ne,forEach:function(k,X,ae){ne(k,function(){X.apply(this,arguments)},ae)},count:function(k){var X=0;return ne(k,function(){X++}),X},toArray:function(k){return ne(k,function(X){return X})||[]},only:function(k){if(!S(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ce.Component=j,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=ee,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(k){return function(){return k.apply(null,arguments)}},Ce.cloneElement=function(k,X,ae){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var oe=L({},k.props),re=k.key,_e=void 0;if(X!=null)for(ye in X.ref!==void 0&&(_e=void 0),X.key!==void 0&&(re=""+X.key),X)!ie.call(X,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&X.ref===void 0||(oe[ye]=X[ye]);var ye=arguments.length-2;if(ye===1)oe.children=ae;else if(1<ye){for(var Ye=Array(ye),Ie=0;Ie<ye;Ie++)Ye[Ie]=arguments[Ie+2];oe.children=Ye}return R(k.type,re,void 0,void 0,_e,oe)},Ce.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ce.createElement=function(k,X,ae){var oe,re={},_e=null;if(X!=null)for(oe in X.key!==void 0&&(_e=""+X.key),X)ie.call(X,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(re[oe]=X[oe]);var ye=arguments.length-2;if(ye===1)re.children=ae;else if(1<ye){for(var Ye=Array(ye),Ie=0;Ie<ye;Ie++)Ye[Ie]=arguments[Ie+2];re.children=Ye}if(k&&k.defaultProps)for(oe in ye=k.defaultProps,ye)re[oe]===void 0&&(re[oe]=ye[oe]);return R(k,_e,void 0,void 0,null,re)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(k){return{$$typeof:m,render:k}},Ce.isValidElement=S,Ce.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:me}},Ce.memo=function(k,X){return{$$typeof:y,type:k,compare:X===void 0?null:X}},Ce.startTransition=function(k){var X=ce.T,ae={};ce.T=ae;try{var oe=k(),re=ce.S;re!==null&&re(ae,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(be,he)}catch(_e){he(_e)}finally{ce.T=X}},Ce.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Ce.use=function(k){return ce.H.use(k)},Ce.useActionState=function(k,X,ae){return ce.H.useActionState(k,X,ae)},Ce.useCallback=function(k,X){return ce.H.useCallback(k,X)},Ce.useContext=function(k){return ce.H.useContext(k)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(k,X){return ce.H.useDeferredValue(k,X)},Ce.useEffect=function(k,X){return ce.H.useEffect(k,X)},Ce.useId=function(){return ce.H.useId()},Ce.useImperativeHandle=function(k,X,ae){return ce.H.useImperativeHandle(k,X,ae)},Ce.useInsertionEffect=function(k,X){return ce.H.useInsertionEffect(k,X)},Ce.useLayoutEffect=function(k,X){return ce.H.useLayoutEffect(k,X)},Ce.useMemo=function(k,X){return ce.H.useMemo(k,X)},Ce.useOptimistic=function(k,X){return ce.H.useOptimistic(k,X)},Ce.useReducer=function(k,X,ae){return ce.H.useReducer(k,X,ae)},Ce.useRef=function(k){return ce.H.useRef(k)},Ce.useState=function(k){return ce.H.useState(k)},Ce.useSyncExternalStore=function(k,X,ae){return ce.H.useSyncExternalStore(k,X,ae)},Ce.useTransition=function(){return ce.H.useTransition()},Ce.version="19.0.0",Ce}var Ev;function rh(){return Ev||(Ev=1,Cd.exports=xA()),Cd.exports}var $=rh(),Id={exports:{}},vl={},Dd={exports:{}},Od={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function VA(){return Tv||(Tv=1,function(r){function e(ne,me){var he=ne.length;ne.push(me);e:for(;0<he;){var be=he-1>>>1,k=ne[be];if(0<o(k,me))ne[be]=me,ne[he]=k,he=be;else break e}}function n(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var me=ne[0],he=ne.pop();if(he!==me){ne[0]=he;e:for(var be=0,k=ne.length,X=k>>>1;be<X;){var ae=2*(be+1)-1,oe=ne[ae],re=ae+1,_e=ne[re];if(0>o(oe,he))re<k&&0>o(_e,oe)?(ne[be]=_e,ne[re]=he,be=re):(ne[be]=oe,ne[ae]=he,be=ae);else if(re<k&&0>o(_e,he))ne[be]=_e,ne[re]=he,be=re;else break e}}return me}function o(ne,me){var he=ne.sortIndex-me.sortIndex;return he!==0?he:ne.id-me.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,b=null,D=3,x=!1,L=!1,q=!1,j=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function Z(ne){for(var me=n(y);me!==null;){if(me.callback===null)s(y);else if(me.startTime<=ne)s(y),me.sortIndex=me.expirationTime,e(p,me);else break;me=n(y)}}function ue(ne){if(q=!1,Z(ne),!L)if(n(p)!==null)L=!0,Ve();else{var me=n(y);me!==null&&qe(ue,me.startTime-ne)}}var ce=!1,ie=-1,R=5,w=-1;function S(){return!(r.unstable_now()-w<R)}function C(){if(ce){var ne=r.unstable_now();w=ne;var me=!0;try{e:{L=!1,q&&(q=!1,B(ie),ie=-1),x=!0;var he=D;try{t:{for(Z(ne),b=n(p);b!==null&&!(b.expirationTime>ne&&S());){var be=b.callback;if(typeof be=="function"){b.callback=null,D=b.priorityLevel;var k=be(b.expirationTime<=ne);if(ne=r.unstable_now(),typeof k=="function"){b.callback=k,Z(ne),me=!0;break t}b===n(p)&&s(p),Z(ne)}else s(p);b=n(p)}if(b!==null)me=!0;else{var X=n(y);X!==null&&qe(ue,X.startTime-ne),me=!1}}break e}finally{b=null,D=he,x=!1}me=void 0}}finally{me?N():ce=!1}}}var N;if(typeof ee=="function")N=function(){ee(C)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,O=M.port2;M.port1.onmessage=C,N=function(){O.postMessage(null)}}else N=function(){j(C,0)};function Ve(){ce||(ce=!0,N())}function qe(ne,me){ie=j(function(){ne(r.unstable_now())},me)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ne){ne.callback=null},r.unstable_continueExecution=function(){L||x||(L=!0,Ve())},r.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ne?Math.floor(1e3/ne):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(ne){switch(D){case 1:case 2:case 3:var me=3;break;default:me=D}var he=D;D=me;try{return ne()}finally{D=he}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var he=D;D=ne;try{return me()}finally{D=he}},r.unstable_scheduleCallback=function(ne,me,he){var be=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?be+he:be):he=be,ne){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=he+k,ne={id:E++,callback:me,priorityLevel:ne,startTime:he,expirationTime:k,sortIndex:-1},he>be?(ne.sortIndex=he,e(y,ne),n(p)===null&&ne===n(y)&&(q?(B(ie),ie=-1):q=!0,qe(ue,he-be))):(ne.sortIndex=k,e(p,ne),L||x||(L=!0,Ve())),ne},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(ne){var me=D;return function(){var he=D;D=me;try{return ne.apply(this,arguments)}finally{D=he}}}}(Od)),Od}var Sv;function PA(){return Sv||(Sv=1,Dd.exports=VA()),Dd.exports}var Nd={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function LA(){if(Av)return Wt;Av=1;var r=rh();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Wt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Wt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,x=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:D,fetchPriority:x}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:D,fetchPriority:x,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Wt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,y){return p(y)},Wt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.0.0",Wt}var wv;function UA(){if(wv)return Nd.exports;wv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nd.exports=LA(),Nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function zA(){if(bv)return vl;bv=1;var r=PA(),e=rh(),n=UA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),x=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),ue=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function ie(t){return t===null||typeof t!="object"?null:(t=ce&&t[ce]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function w(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case q:return"Suspense";case j:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x:return(t.displayName||"Context")+".Provider";case D:return(t._context.displayName||"Context")+".Consumer";case L:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case B:return i=t.displayName||null,i!==null?i:w(t.type)||"Memo";case ee:i=t._payload,t=t._init;try{return w(t(i))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,N,M;function O(t){if(N===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);N=i&&i[1]||"",M=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+N+t+M}var Ve=!1;function qe(t,i){if(!t||Ve)return"";Ve=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var F=Q}Reflect.construct(t,[],te)}else{try{te.call()}catch(Q){F=Q}t.call(te.prototype)}}else{try{throw Error()}catch(Q){F=Q}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),P=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===P.length)for(l=I.length-1,h=P.length-1;1<=l&&0<=h&&I[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==P[h]){var Y=`
`+I[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Ve=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?O(a):""}function ne(t){switch(t.tag){case 26:case 27:case 5:return O(t.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return t=qe(t.type,!1),t;case 11:return t=qe(t.type.render,!1),t;case 1:return t=qe(t.type,!0),t;default:return""}}function me(t){try{var i="";do i+=ne(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function he(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function be(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function k(t){if(he(t)!==t)throw Error(s(188))}function X(t){var i=t.alternate;if(!i){if(i=he(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return k(h),t;if(d===l)return k(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function ae(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=ae(t),i!==null)return i;t=t.sibling}return null}var oe=Array.isArray,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},ye=[],Ye=-1;function Ie(t){return{current:t}}function $e(t){0>Ye||(t.current=ye[Ye],ye[Ye]=null,Ye--)}function ke(t,i){Ye++,ye[Ye]=t.current,t.current=i}var ct=Ie(null),Mt=Ie(null),nt=Ie(null),Ht=Ie(null);function it(t,i){switch(ke(nt,i),ke(Mt,t),ke(ct,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Ky(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=Ky(t),i=$y(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}$e(ct),ke(ct,i)}function Je(){$e(ct),$e(Mt),$e(nt)}function qt(t){t.memoizedState!==null&&ke(Ht,t);var i=ct.current,a=$y(i,t.type);i!==a&&(ke(Mt,t),ke(ct,a))}function kt(t){Mt.current===t&&($e(ct),$e(Mt)),Ht.current===t&&($e(Ht),fl._currentValue=_e)}var rt=Object.prototype.hasOwnProperty,gn=r.unstable_scheduleCallback,Xs=r.unstable_cancelCallback,Ch=r.unstable_shouldYield,fo=r.unstable_requestPaint,cn=r.unstable_now,Zl=r.unstable_getCurrentPriorityLevel,wt=r.unstable_ImmediatePriority,xt=r.unstable_UserBlockingPriority,bi=r.unstable_NormalPriority,Wl=r.unstable_LowPriority,mo=r.unstable_IdlePriority,Ih=r.log,ss=r.unstable_setDisableYieldValue,sr=null,Xt=null;function po(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(sr,t,void 0,(t.current.flags&128)===128)}catch{}}function Wn(t){if(typeof Ih=="function"&&ss(t),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(sr,t)}catch{}}var rn=Math.clz32?Math.clz32:eu,go=Math.log,Jl=Math.LN2;function eu(t){return t>>>=0,t===0?32:31-(go(t)/Jl|0)|0}var Jn=128,ar=4194304;function Hn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bn(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,_=t.warmLanes;t=t.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=Hn(a):(d&=T,d!==0?l=Hn(d):t||(_=T&~_,_!==0&&(l=Hn(_))))):(T=a&~h,T!==0?l=Hn(T):d!==0?l=Hn(d):t||(_=a&~_,_!==0&&(l=Hn(_)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,_=i&-i,h>=_||h===32&&(_&4194176)!==0)?i:l}function or(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Zs(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yo(){var t=Jn;return Jn<<=1,(Jn&4194176)===0&&(Jn=128),t}function lr(){var t=ar;return ar<<=1,(ar&62914560)===0&&(ar=4194304),t}function Ws(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function gt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tu(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,P=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-rn(a),te=1<<Y;T[Y]=0,I[Y]=-1;var F=P[Y];if(F!==null)for(P[Y]=null,Y=0;Y<F.length;Y++){var Q=F[Y];Q!==null&&(Q.lane&=-536870913)}a&=~te}l!==0&&ur(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function ur(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-rn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function cr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-rn(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function nu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function iu(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:hv(t.type))}function hr(t,i){var a=re.p;try{return re.p=t,i()}finally{re.p=a}}var ei=Math.random().toString(36).slice(2),Vt="__reactFiber$"+ei,bt="__reactProps$"+ei,Ri="__reactContainer$"+ei,as="__reactEvents$"+ei,Js="__reactListeners$"+ei,ti="__reactHandles$"+ei,vo="__reactResources$"+ei,fr="__reactMarker$"+ei;function os(t){delete t[Vt],delete t[bt],delete t[as],delete t[Js],delete t[ti]}function qn(t){var i=t[Vt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ri]||a[Vt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Xy(t);t!==null;){if(a=t[Vt])return a;t=Xy(t)}return i}t=a,a=t.parentNode}return null}function Ci(t){if(t=t[Vt]||t[Ri]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function dr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function mr(t){var i=t[vo];return i||(i=t[vo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function st(t){t[fr]=!0}var _o=new Set,ea={};function yn(t,i){hn(t,i),hn(t+"Capture",i)}function hn(t,i){for(ea[t]=i,t=0;t<i.length;t++)_o.add(i[t])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eo={},To={};function ru(t){return rt.call(To,t)?!0:rt.call(Eo,t)?!1:Dh.test(t)?To[t]=!0:(Eo[t]=!0,!1)}function pr(t,i,a){if(ru(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Rn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function su(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Oh(t){var i=su(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ls(t){t._valueTracker||(t._valueTracker=Oh(t))}function So(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=su(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ta(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ii=/[\n"\\]/g;function ht(t){return t.replace(Ii,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function yr(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+sn(i)):t.value!==""+sn(i)&&(t.value=""+sn(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?na(t,_,sn(i)):a!=null?na(t,_,sn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+sn(T):t.removeAttribute("name")}function us(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+sn(a):"",i=i!=null?""+sn(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function na(t,i,a){i==="number"&&ta(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Fe(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+sn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function cs(t,i,a){if(i!=null&&(i=""+sn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+sn(a):""}function vr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=sn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Cn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Nh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Nh.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function au(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ao(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ao(t,d,i[d])}function wo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ni(t){return kh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var In=null;function ia(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Di=null,Oi=null;function Ni(t){var i=Ci(t);if(i&&(t=i.stateNode)){var a=t[bt]||null;e:switch(t=i.stateNode,i.type){case"input":if(yr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ht(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[bt]||null;if(!h)throw Error(s(90));yr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&So(l)}break e;case"textarea":cs(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Fe(t,!!a.multiple,i,!1)}}}var bo=!1;function ou(t,i,a){if(bo)return t(i,a);bo=!0;try{var l=t(i);return l}finally{if(bo=!1,(Di!==null||Oi!==null)&&(Wu(),Di&&(i=Di,t=Oi,Oi=Di=null,Ni(i),t)))for(i=0;i<t.length;i++)Ni(t[i])}}function hs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[bt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Dn=!1;if(vn)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{Dn=!1}var ii=null,_r=null,Mi=null;function Ro(){if(Mi)return Mi;var t,i=_r,a=i.length,l,h="value"in ii?ii.value:ii.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Mi=h.slice(t,1<l?1-l:void 0)}function ri(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function si(){return!0}function Co(){return!1}function Pt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?si:Co,this.isPropagationStopped=Co,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),i}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ra=Pt(Qe),ds=C({},Qe,{view:0,detail:0}),lu=Pt(ds),sa,aa,ai,ms=C({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&t.type==="mousemove"?(sa=t.screenX-ai.screenX,aa=t.screenY-ai.screenY):aa=sa=0,ai=t),sa)},movementY:function(t){return"movementY"in t?t.movementY:aa}}),On=Pt(ms),uu=C({},ms,{dataTransfer:0}),xh=Pt(uu),ps=C({},ds,{relatedTarget:0}),oa=Pt(ps),Io=C({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),la=Pt(Io),cu=C({},Qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ua=Pt(cu),Vh=C({},Qe,{data:0}),Do=Pt(Vh),gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=fu[t])?!!i[t]:!1}function ys(){return Oo}var du=C({},ds,{key:function(t){if(t.key){var i=gs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ri(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(t){return t.type==="keypress"?ri(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ri(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ca=Pt(du),mu=C({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),No=Pt(mu),ki=C({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),pu=Pt(ki),gu=C({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),yu=Pt(gu),vu=C({},ms,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ha=Pt(vu),an=C({},Qe,{newState:0,oldState:0}),_u=Pt(an),Eu=[9,13,27,32],oi=vn&&"CompositionEvent"in window,c=null;vn&&"documentMode"in document&&(c=document.documentMode);var g=vn&&"TextEvent"in window&&!c,v=vn&&(!oi||c&&8<c&&11>=c),A=" ",z=!1;function G(t,i){switch(t){case"keyup":return Eu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function Rt(t,i){switch(t){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(z=!0,A);case"textInput":return t=i.data,t===A&&z?null:t;default:return null}}function Le(t,i){if(Pe)return t==="compositionend"||!oi&&G(t,i)?(t=Ro(),Mi=_r=ii=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Lt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Lt[t.type]:i==="textarea"}function xi(t,i,a,l){Di?Oi?Oi.push(l):Oi=[l]:Di=l,i=ic(i,"onChange"),0<i.length&&(a=new ra("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ft=null,li=null;function Mo(t){By(t,0)}function Tu(t){var i=dr(t);if(So(i))return t}function gp(t,i){if(t==="change")return i}var yp=!1;if(vn){var Ph;if(vn){var Lh="oninput"in document;if(!Lh){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),Lh=typeof vp.oninput=="function"}Ph=Lh}else Ph=!1;yp=Ph&&(!document.documentMode||9<document.documentMode)}function _p(){Ft&&(Ft.detachEvent("onpropertychange",Ep),li=Ft=null)}function Ep(t){if(t.propertyName==="value"&&Tu(li)){var i=[];xi(i,li,t,ia(t)),ou(Mo,i)}}function oS(t,i,a){t==="focusin"?(_p(),Ft=i,li=a,Ft.attachEvent("onpropertychange",Ep)):t==="focusout"&&_p()}function lS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tu(li)}function uS(t,i){if(t==="click")return Tu(i)}function cS(t,i){if(t==="input"||t==="change")return Tu(i)}function hS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:hS;function ko(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!rt.call(i,h)||!_n(t[h],i[h]))return!1}return!0}function Tp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sp(t,i){var a=Tp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tp(a)}}function Ap(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ap(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function wp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ta(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ta(t.document)}return i}function Uh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function fS(t,i){var a=wp(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&Ap(i.ownerDocument.documentElement,i)){if(l!==null&&Uh(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=Sp(i,d);var _=Sp(i,l);h&&_&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var dS=vn&&"documentMode"in document&&11>=document.documentMode,fa=null,zh=null,xo=null,jh=!1;function bp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jh||fa==null||fa!==ta(l)||(l=fa,"selectionStart"in l&&Uh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xo&&ko(xo,l)||(xo=l,l=ic(zh,"onSelect"),0<l.length&&(i=new ra("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=fa)))}function vs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var da={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},Bh={},Rp={};vn&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function _s(t){if(Bh[t])return Bh[t];if(!da[t])return t;var i=da[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Rp)return Bh[t]=i[a];return t}var Cp=_s("animationend"),Ip=_s("animationiteration"),Dp=_s("animationstart"),mS=_s("transitionrun"),pS=_s("transitionstart"),gS=_s("transitioncancel"),Op=_s("transitionend"),Np=new Map,Mp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Fn(t,i){Np.set(t,i),yn(i,[t])}var Nn=[],ma=0,Hh=0;function Su(){for(var t=ma,i=Hh=ma=0;i<t;){var a=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&kp(a,h,d)}}function Au(t,i,a,l){Nn[ma++]=t,Nn[ma++]=i,Nn[ma++]=a,Nn[ma++]=l,Hh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function qh(t,i,a,l){return Au(t,i,a,l),wu(t)}function Er(t,i){return Au(t,null,null,i),wu(t)}function kp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-rn(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function wu(t){if(50<sl)throw sl=0,Xf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var pa={},xp=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var a=xp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:me(i)},xp.set(t,i),i)}return{value:t,source:i,stack:me(i)}}var ga=[],ya=0,bu=null,Ru=0,kn=[],xn=0,Es=null,Vi=1,Pi="";function Ts(t,i){ga[ya++]=Ru,ga[ya++]=bu,bu=t,Ru=i}function Vp(t,i,a){kn[xn++]=Vi,kn[xn++]=Pi,kn[xn++]=Es,Es=t;var l=Vi;t=Pi;var h=32-rn(l)-1;l&=~(1<<h),a+=1;var d=32-rn(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Vi=1<<32-rn(i)+h|a<<h|l,Pi=d+t}else Vi=1<<d|a<<h|l,Pi=t}function Fh(t){t.return!==null&&(Ts(t,1),Vp(t,1,0))}function Gh(t){for(;t===bu;)bu=ga[--ya],ga[ya]=null,Ru=ga[--ya],ga[ya]=null;for(;t===Es;)Es=kn[--xn],kn[xn]=null,Pi=kn[--xn],kn[xn]=null,Vi=kn[--xn],kn[xn]=null}var on=null,Gt=null,Ge=!1,Gn=null,ui=!1,Kh=Error(s(519));function Ss(t){var i=Error(s(418,""));throw Lo(Mn(i,t)),Kh}function Pp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Vt]=t,i[bt]=l,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<ol.length;a++)xe(ol[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),us(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ls(i);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),vr(i,l.value,l.defaultValue,l.children),ls(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Gy(i.textContent,a)?(l.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),l.onScroll!=null&&xe("scroll",i),l.onScrollEnd!=null&&xe("scrollend",i),l.onClick!=null&&(i.onclick=rc),i=!0):i=!1,i||Ss(t)}function Lp(t){for(on=t.return;on;)switch(on.tag){case 3:case 27:ui=!0;return;case 5:case 13:ui=!1;return;default:on=on.return}}function Vo(t){if(t!==on)return!1;if(!Ge)return Lp(t),Ge=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||dd(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&Gt&&Ss(t),Lp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Gt=$n(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Gt=null}}else Gt=on?$n(t.stateNode.nextSibling):null;return!0}function Po(){Gt=on=null,Ge=!1}function Lo(t){Gn===null?Gn=[t]:Gn.push(t)}var Uo=Error(s(460)),Up=Error(s(474)),$h={then:function(){}};function zp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cu(){}function jp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Cu,Cu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Uo?Error(s(483)):t;default:if(typeof i.status=="string")i.then(Cu,Cu);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Uo?Error(s(483)):t}throw zo=i,Uo}}var zo=null;function Bp(){if(zo===null)throw Error(s(459));var t=zo;return zo=null,t}var va=null,jo=0;function Iu(t){var i=jo;return jo+=1,va===null&&(va=[]),jp(va,t,i)}function Bo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Du(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Hp(t){var i=t._init;return i(t._payload)}function qp(t){function i(U,V){if(t){var H=U.deletions;H===null?(U.deletions=[V],U.flags|=16):H.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=Mr(U,V),U.index=0,U.sibling=null,U}function d(U,V,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<V?(U.flags|=33554434,V):H):(U.flags|=33554434,V)):(U.flags|=1048576,V)}function _(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function T(U,V,H,W){return V===null||V.tag!==6?(V=Hf(H,U.mode,W),V.return=U,V):(V=h(V,H),V.return=U,V)}function I(U,V,H,W){var de=H.type;return de===p?Y(U,V,H.props.children,W,H.key):V!==null&&(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ee&&Hp(de)===V.type)?(V=h(V,H.props),Bo(V,H),V.return=U,V):(V=$u(H.type,H.key,H.props,null,U.mode,W),Bo(V,H),V.return=U,V)}function P(U,V,H,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=qf(H,U.mode,W),V.return=U,V):(V=h(V,H.children||[]),V.return=U,V)}function Y(U,V,H,W,de){return V===null||V.tag!==7?(V=Ms(H,U.mode,W,de),V.return=U,V):(V=h(V,H),V.return=U,V)}function te(U,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Hf(""+V,U.mode,H),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case f:return H=$u(V.type,V.key,V.props,null,U.mode,H),Bo(H,V),H.return=U,H;case m:return V=qf(V,U.mode,H),V.return=U,V;case ee:var W=V._init;return V=W(V._payload),te(U,V,H)}if(oe(V)||ie(V))return V=Ms(V,U.mode,H,null),V.return=U,V;if(typeof V.then=="function")return te(U,Iu(V),H);if(V.$$typeof===x)return te(U,Fu(U,V),H);Du(U,V)}return null}function F(U,V,H,W){var de=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return de!==null?null:T(U,V,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return H.key===de?I(U,V,H,W):null;case m:return H.key===de?P(U,V,H,W):null;case ee:return de=H._init,H=de(H._payload),F(U,V,H,W)}if(oe(H)||ie(H))return de!==null?null:Y(U,V,H,W,null);if(typeof H.then=="function")return F(U,V,Iu(H),W);if(H.$$typeof===x)return F(U,V,Fu(U,H),W);Du(U,H)}return null}function Q(U,V,H,W,de){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(H)||null,T(V,U,""+W,de);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case f:return U=U.get(W.key===null?H:W.key)||null,I(V,U,W,de);case m:return U=U.get(W.key===null?H:W.key)||null,P(V,U,W,de);case ee:var Oe=W._init;return W=Oe(W._payload),Q(U,V,H,W,de)}if(oe(W)||ie(W))return U=U.get(H)||null,Y(V,U,W,de,null);if(typeof W.then=="function")return Q(U,V,H,Iu(W),de);if(W.$$typeof===x)return Q(U,V,H,Fu(V,W),de);Du(V,W)}return null}function pe(U,V,H,W){for(var de=null,Oe=null,ge=V,Ee=V=0,jt=null;ge!==null&&Ee<H.length;Ee++){ge.index>Ee?(jt=ge,ge=null):jt=ge.sibling;var Ke=F(U,ge,H[Ee],W);if(Ke===null){ge===null&&(ge=jt);break}t&&ge&&Ke.alternate===null&&i(U,ge),V=d(Ke,V,Ee),Oe===null?de=Ke:Oe.sibling=Ke,Oe=Ke,ge=jt}if(Ee===H.length)return a(U,ge),Ge&&Ts(U,Ee),de;if(ge===null){for(;Ee<H.length;Ee++)ge=te(U,H[Ee],W),ge!==null&&(V=d(ge,V,Ee),Oe===null?de=ge:Oe.sibling=ge,Oe=ge);return Ge&&Ts(U,Ee),de}for(ge=l(ge);Ee<H.length;Ee++)jt=Q(ge,U,Ee,H[Ee],W),jt!==null&&(t&&jt.alternate!==null&&ge.delete(jt.key===null?Ee:jt.key),V=d(jt,V,Ee),Oe===null?de=jt:Oe.sibling=jt,Oe=jt);return t&&ge.forEach(function(zr){return i(U,zr)}),Ge&&Ts(U,Ee),de}function Ae(U,V,H,W){if(H==null)throw Error(s(151));for(var de=null,Oe=null,ge=V,Ee=V=0,jt=null,Ke=H.next();ge!==null&&!Ke.done;Ee++,Ke=H.next()){ge.index>Ee?(jt=ge,ge=null):jt=ge.sibling;var zr=F(U,ge,Ke.value,W);if(zr===null){ge===null&&(ge=jt);break}t&&ge&&zr.alternate===null&&i(U,ge),V=d(zr,V,Ee),Oe===null?de=zr:Oe.sibling=zr,Oe=zr,ge=jt}if(Ke.done)return a(U,ge),Ge&&Ts(U,Ee),de;if(ge===null){for(;!Ke.done;Ee++,Ke=H.next())Ke=te(U,Ke.value,W),Ke!==null&&(V=d(Ke,V,Ee),Oe===null?de=Ke:Oe.sibling=Ke,Oe=Ke);return Ge&&Ts(U,Ee),de}for(ge=l(ge);!Ke.done;Ee++,Ke=H.next())Ke=Q(ge,U,Ee,Ke.value,W),Ke!==null&&(t&&Ke.alternate!==null&&ge.delete(Ke.key===null?Ee:Ke.key),V=d(Ke,V,Ee),Oe===null?de=Ke:Oe.sibling=Ke,Oe=Ke);return t&&ge.forEach(function(OA){return i(U,OA)}),Ge&&Ts(U,Ee),de}function mt(U,V,H,W){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case f:e:{for(var de=H.key;V!==null;){if(V.key===de){if(de=H.type,de===p){if(V.tag===7){a(U,V.sibling),W=h(V,H.props.children),W.return=U,U=W;break e}}else if(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ee&&Hp(de)===V.type){a(U,V.sibling),W=h(V,H.props),Bo(W,H),W.return=U,U=W;break e}a(U,V);break}else i(U,V);V=V.sibling}H.type===p?(W=Ms(H.props.children,U.mode,W,H.key),W.return=U,U=W):(W=$u(H.type,H.key,H.props,null,U.mode,W),Bo(W,H),W.return=U,U=W)}return _(U);case m:e:{for(de=H.key;V!==null;){if(V.key===de)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(U,V.sibling),W=h(V,H.children||[]),W.return=U,U=W;break e}else{a(U,V);break}else i(U,V);V=V.sibling}W=qf(H,U.mode,W),W.return=U,U=W}return _(U);case ee:return de=H._init,H=de(H._payload),mt(U,V,H,W)}if(oe(H))return pe(U,V,H,W);if(ie(H)){if(de=ie(H),typeof de!="function")throw Error(s(150));return H=de.call(H),Ae(U,V,H,W)}if(typeof H.then=="function")return mt(U,V,Iu(H),W);if(H.$$typeof===x)return mt(U,V,Fu(U,H),W);Du(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(U,V.sibling),W=h(V,H),W.return=U,U=W):(a(U,V),W=Hf(H,U.mode,W),W.return=U,U=W),_(U)):a(U,V)}return function(U,V,H,W){try{jo=0;var de=mt(U,V,H,W);return va=null,de}catch(ge){if(ge===Uo)throw ge;var Oe=Un(29,ge,null,U.mode);return Oe.lanes=W,Oe.return=U,Oe}finally{}}}var As=qp(!0),Fp=qp(!1),_a=Ie(null),Ou=Ie(0);function Gp(t,i){t=$i,ke(Ou,t),ke(_a,i),$i=t|i.baseLanes}function Qh(){ke(Ou,$i),ke(_a,_a.current)}function Yh(){$i=Ou.current,$e(_a),$e(Ou)}var Vn=Ie(null),ci=null;function Tr(t){var i=t.alternate;ke(It,It.current&1),ke(Vn,t),ci===null&&(i===null||_a.current!==null||i.memoizedState!==null)&&(ci=t)}function Kp(t){if(t.tag===22){if(ke(It,It.current),ke(Vn,t),ci===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ci=t)}}else Sr()}function Sr(){ke(It,It.current),ke(Vn,Vn.current)}function Li(t){$e(Vn),ci===t&&(ci=null),$e(It)}var It=Ie(0);function Nu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var yS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},vS=r.unstable_scheduleCallback,_S=r.unstable_NormalPriority,Dt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new yS,data:new Map,refCount:0}}function Ho(t){t.refCount--,t.refCount===0&&vS(_S,function(){t.controller.abort()})}var qo=null,Zh=0,Ea=0,Ta=null;function ES(t,i){if(qo===null){var a=qo=[];Zh=0,Ea=rd(),Ta={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Zh++,i.then($p,$p),i}function $p(){if(--Zh===0&&qo!==null){Ta!==null&&(Ta.status="fulfilled");var t=qo;qo=null,Ea=0,Ta=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function TS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Qp=S.S;S.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ES(t,i),Qp!==null&&Qp(t,i)};var ws=Ie(null);function Wh(){var t=ws.current;return t!==null?t:et.pooledCache}function Mu(t,i){i===null?ke(ws,ws.current):ke(ws,i.pool)}function Yp(){var t=Wh();return t===null?null:{parent:Dt._currentValue,pool:t}}var Ar=0,De=null,Xe=null,Et=null,ku=!1,Sa=!1,bs=!1,xu=0,Fo=0,Aa=null,SS=0;function yt(){throw Error(s(321))}function Jh(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function ef(t,i,a,l,h,d){return Ar=d,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=t===null||t.memoizedState===null?Rs:wr,bs=!1,d=a(l,h),bs=!1,Sa&&(d=Zp(i,a,l,h)),Xp(t),d}function Xp(t){S.H=hi;var i=Xe!==null&&Xe.next!==null;if(Ar=0,Et=Xe=De=null,ku=!1,Fo=0,Aa=null,i)throw Error(s(300));t===null||Ut||(t=t.dependencies,t!==null&&qu(t)&&(Ut=!0))}function Zp(t,i,a,l){De=t;var h=0;do{if(Sa&&(Aa=null),Fo=0,Sa=!1,25<=h)throw Error(s(301));if(h+=1,Et=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=Cs,d=i(a,l)}while(Sa);return d}function AS(){var t=S.H,i=t.useState()[0];return i=typeof i.then=="function"?Go(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(De.flags|=1024),i}function tf(){var t=xu!==0;return xu=0,t}function nf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function rf(t){if(ku){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ku=!1}Ar=0,Et=Xe=De=null,Sa=!1,Fo=xu=0,Aa=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?De.memoizedState=Et=t:Et=Et.next=t,Et}function Tt(){if(Xe===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=Et===null?De.memoizedState:Et.next;if(i!==null)Et=i,Xe=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Et===null?De.memoizedState=Et=t:Et=Et.next=t}return Et}var Vu;Vu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Go(t){var i=Fo;return Fo+=1,Aa===null&&(Aa=[]),t=jp(Aa,t,i),i=De,(Et===null?i.memoizedState:Et.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?Rs:wr),t}function Pu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Go(t);if(t.$$typeof===x)return Zt(t)}throw Error(s(438,String(t)))}function sf(t){var i=null,a=De.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Vu(),De.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=ue;return i.index++,a}function Ui(t,i){return typeof i=="function"?i(t):i}function Lu(t){var i=Tt();return af(i,Xe,t)}function af(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,I=null,P=i,Y=!1;do{var te=P.lane&-536870913;if(te!==P.lane?(Ue&te)===te:(Ar&te)===te){var F=P.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),te===Ea&&(Y=!0);else if((Ar&F)===F){P=P.next,F===Ea&&(Y=!0);continue}else te={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(T=I=te,_=d):I=I.next=te,De.lanes|=F,kr|=F;te=P.action,bs&&a(d,te),d=P.hasEagerState?P.eagerState:a(d,te)}else F={lane:te,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(T=I=F,_=d):I=I.next=F,De.lanes|=te,kr|=te;P=P.next}while(P!==null&&P!==i);if(I===null?_=d:I.next=T,!_n(d,t.memoizedState)&&(Ut=!0,Y&&(a=Ta,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function of(t){var i=Tt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);_n(d,i.memoizedState)||(Ut=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Wp(t,i,a){var l=De,h=Tt(),d=Ge;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!_n((Xe||h).memoizedState,a);if(_&&(h.memoizedState=a,Ut=!0),h=h.queue,cf(tg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,wa(9,eg.bind(null,l,h,a,i),{destroy:void 0},null),et===null)throw Error(s(349));d||(Ar&60)!==0||Jp(l,i,a)}return a}function Jp(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i=Vu(),De.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function eg(t,i,a,l){i.value=a,i.getSnapshot=l,ng(i)&&ig(t)}function tg(t,i,a){return a(function(){ng(i)&&ig(t)})}function ng(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function ig(t){var i=Er(t,2);i!==null&&ln(i,t,2)}function lf(t){var i=fn();if(typeof t=="function"){var a=t;if(t=a(),bs){Wn(!0);try{a()}finally{Wn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},i}function rg(t,i,a,l){return t.baseState=a,af(t,Xe,typeof l=="function"?l:Ui)}function wS(t,i,a,l,h){if(ju(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};S.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,sg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function sg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=S.T,_={};S.T=_;try{var T=a(h,l),I=S.S;I!==null&&I(_,T),ag(t,i,T)}catch(P){uf(t,i,P)}finally{S.T=d}}else try{d=a(h,l),ag(t,i,d)}catch(P){uf(t,i,P)}}function ag(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){og(t,i,l)},function(l){return uf(t,i,l)}):og(t,i,a)}function og(t,i,a){i.status="fulfilled",i.value=a,lg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,sg(t,a)))}function uf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,lg(i),i=i.next;while(i!==l)}t.action=null}function lg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ug(t,i){return i}function cg(t,i){if(Ge){var a=et.formState;if(a!==null){e:{var l=De;if(Ge){if(Gt){t:{for(var h=Gt,d=ui;h.nodeType!==8;){if(!d){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Gt=$n(h.nextSibling),l=h.data==="F!";break e}}Ss(l)}l=!1}l&&(i=a[0])}}return a=fn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ug,lastRenderedState:i},a.queue=l,a=Ig.bind(null,De,l),l.dispatch=a,l=lf(!1),d=pf.bind(null,De,!1,l.queue),l=fn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=wS.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function hg(t){var i=Tt();return fg(i,Xe,t)}function fg(t,i,a){i=af(t,i,ug)[0],t=Lu(Ui)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Go(i):i;var l=Tt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(De.flags|=2048,wa(9,bS.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function bS(t,i){t.action=i}function dg(t){var i=Tt(),a=Xe;if(a!==null)return fg(i,a,t);Tt(),i=i.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function wa(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=De.updateQueue,i===null&&(i=Vu(),De.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function mg(){return Tt().memoizedState}function Uu(t,i,a,l){var h=fn();De.flags|=t,h.memoizedState=wa(1|i,a,{destroy:void 0},l===void 0?null:l)}function zu(t,i,a,l){var h=Tt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&Jh(l,Xe.memoizedState.deps)?h.memoizedState=wa(i,a,d,l):(De.flags|=t,h.memoizedState=wa(1|i,a,d,l))}function pg(t,i){Uu(8390656,8,t,i)}function cf(t,i){zu(2048,8,t,i)}function gg(t,i){return zu(4,2,t,i)}function yg(t,i){return zu(4,4,t,i)}function vg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function _g(t,i,a){a=a!=null?a.concat([t]):null,zu(4,4,vg.bind(null,i,t),a)}function hf(){}function Eg(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Jh(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Tg(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Jh(i,l[1]))return l[0];if(l=t(),bs){Wn(!0);try{t()}finally{Wn(!1)}}return a.memoizedState=[l,i],l}function ff(t,i,a){return a===void 0||(Ar&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Ay(),De.lanes|=t,kr|=t,a)}function Sg(t,i,a,l){return _n(a,i)?a:_a.current!==null?(t=ff(t,a,l),_n(t,i)||(Ut=!0),t):(Ar&42)===0?(Ut=!0,t.memoizedState=a):(t=Ay(),De.lanes|=t,kr|=t,i)}function Ag(t,i,a,l,h){var d=re.p;re.p=d!==0&&8>d?d:8;var _=S.T,T={};S.T=T,pf(t,!1,i,a);try{var I=h(),P=S.S;if(P!==null&&P(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=TS(I,l);Ko(t,i,Y,An(t))}else Ko(t,i,l,An(t))}catch(te){Ko(t,i,{then:function(){},status:"rejected",reason:te},An())}finally{re.p=d,S.T=_}}function RS(){}function df(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=wg(t).queue;Ag(t,h,i,_e,a===null?RS:function(){return bg(t),a(l)})}function wg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:_e},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function bg(t){var i=wg(t).next.queue;Ko(t,i,{},An())}function mf(){return Zt(fl)}function Rg(){return Tt().memoizedState}function Cg(){return Tt().memoizedState}function CS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=Cr(a);var l=Ir(i,t,a);l!==null&&(ln(l,i,a),Yo(l,i,a)),i={cache:Xh()},t.payload=i;return}i=i.return}}function IS(t,i,a){var l=An();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ju(t)?Dg(i,a):(a=qh(t,i,a,l),a!==null&&(ln(a,t,l),Og(a,i,l)))}function Ig(t,i,a){var l=An();Ko(t,i,a,l)}function Ko(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ju(t))Dg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,_n(T,_))return Au(t,i,h,0),et===null&&Su(),!1}catch{}finally{}if(a=qh(t,i,h,l),a!==null)return ln(a,t,l),Og(a,i,l),!0}return!1}function pf(t,i,a,l){if(l={lane:2,revertLane:rd(),action:l,hasEagerState:!1,eagerState:null,next:null},ju(t)){if(i)throw Error(s(479))}else i=qh(t,a,l,2),i!==null&&ln(i,t,2)}function ju(t){var i=t.alternate;return t===De||i!==null&&i===De}function Dg(t,i){Sa=ku=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Og(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,cr(t,a)}}var hi={readContext:Zt,use:Pu,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt};hi.useCacheRefresh=yt,hi.useMemoCache=yt,hi.useHostTransitionStatus=yt,hi.useFormState=yt,hi.useActionState=yt,hi.useOptimistic=yt;var Rs={readContext:Zt,use:Pu,useCallback:function(t,i){return fn().memoizedState=[t,i===void 0?null:i],t},useContext:Zt,useEffect:pg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Uu(4194308,4,vg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Uu(4194308,4,t,i)},useInsertionEffect:function(t,i){Uu(4,2,t,i)},useMemo:function(t,i){var a=fn();i=i===void 0?null:i;var l=t();if(bs){Wn(!0);try{t()}finally{Wn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=fn();if(a!==void 0){var h=a(i);if(bs){Wn(!0);try{a(i)}finally{Wn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=IS.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var i=fn();return t={current:t},i.memoizedState=t},useState:function(t){t=lf(t);var i=t.queue,a=Ig.bind(null,De,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:hf,useDeferredValue:function(t,i){var a=fn();return ff(a,t,i)},useTransition:function(){var t=lf(!1);return t=Ag.bind(null,De,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=De,h=fn();if(Ge){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Ue&60)!==0||Jp(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,pg(tg.bind(null,l,d,t),[t]),l.flags|=2048,wa(9,eg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=fn(),i=et.identifierPrefix;if(Ge){var a=Pi,l=Vi;a=(l&~(1<<32-rn(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=xu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=SS++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return fn().memoizedState=CS.bind(null,De)}};Rs.useMemoCache=sf,Rs.useHostTransitionStatus=mf,Rs.useFormState=cg,Rs.useActionState=cg,Rs.useOptimistic=function(t){var i=fn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=pf.bind(null,De,!0,a),a.dispatch=i,[t,i]};var wr={readContext:Zt,use:Pu,useCallback:Eg,useContext:Zt,useEffect:cf,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:Lu,useRef:mg,useState:function(){return Lu(Ui)},useDebugValue:hf,useDeferredValue:function(t,i){var a=Tt();return Sg(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Lu(Ui)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:Go(t),i]},useSyncExternalStore:Wp,useId:Rg};wr.useCacheRefresh=Cg,wr.useMemoCache=sf,wr.useHostTransitionStatus=mf,wr.useFormState=hg,wr.useActionState=hg,wr.useOptimistic=function(t,i){var a=Tt();return rg(a,Xe,t,i)};var Cs={readContext:Zt,use:Pu,useCallback:Eg,useContext:Zt,useEffect:cf,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:of,useRef:mg,useState:function(){return of(Ui)},useDebugValue:hf,useDeferredValue:function(t,i){var a=Tt();return Xe===null?ff(a,t,i):Sg(a,Xe.memoizedState,t,i)},useTransition:function(){var t=of(Ui)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:Go(t),i]},useSyncExternalStore:Wp,useId:Rg};Cs.useCacheRefresh=Cg,Cs.useMemoCache=sf,Cs.useHostTransitionStatus=mf,Cs.useFormState=dg,Cs.useActionState=dg,Cs.useOptimistic=function(t,i){var a=Tt();return Xe!==null?rg(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])};function gf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:C({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var yf={isMounted:function(t){return(t=t._reactInternals)?he(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),h=Cr(l);h.payload=i,a!=null&&(h.callback=a),i=Ir(t,h,l),i!==null&&(ln(i,t,l),Yo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),h=Cr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ir(t,h,l),i!==null&&(ln(i,t,l),Yo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=Cr(a);l.tag=2,i!=null&&(l.callback=i),i=Ir(t,l,a),i!==null&&(ln(i,t,a),Yo(i,t,a))}};function Ng(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!ko(a,l)||!ko(h,d):!0}function Mg(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&yf.enqueueReplaceState(i,i.state,null)}function Is(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=C({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Bu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function kg(t){Bu(t)}function xg(t){console.error(t)}function Vg(t){Bu(t)}function Hu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Pg(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function vf(t,i,a){return a=Cr(a),a.tag=3,a.payload={element:null},a.callback=function(){Hu(t,i)},a}function Lg(t){return t=Cr(t),t.tag=3,t}function Ug(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Pg(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Pg(i,a,l),typeof h!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function DS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Qo(i,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return ci===null?Jf():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===$h?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),td(t,l,h)),!1;case 22:return a.flags|=65536,l===$h?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),td(t,l,h)),!1}throw Error(s(435,a.tag))}return td(t,l,h),Jf(),!1}if(Ge)return i=Vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Kh&&(t=Error(s(422),{cause:l}),Lo(Mn(t,a)))):(l!==Kh&&(i=Error(s(423),{cause:l}),Lo(Mn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Mn(l,a),h=vf(t.stateNode,l,h),kf(t,h),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),il===null?il=[d]:il.push(d),dt!==4&&(dt=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=vf(a.stateNode,l,t),kf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(xr===null||!xr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Lg(h),Ug(h,t,a,l),kf(a,h),!1}a=a.return}while(a!==null);return!1}var zg=Error(s(461)),Ut=!1;function Kt(t,i,a,l){i.child=t===null?Fp(i,null,a,l):As(i,t.child,a,l)}function jg(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Os(i),l=ef(t,i,a,_,d,h),T=tf(),t!==null&&!Ut?(nf(t,i,h),zi(t,i,h)):(Ge&&T&&Fh(i),i.flags|=1,Kt(t,i,l,h),i.child)}function Bg(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Bf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Hg(t,i,d,l,h)):(t=$u(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Cf(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ko,a(_,l)&&t.ref===i.ref)return zi(t,i,h)}return i.flags|=1,t=Mr(d,l),t.ref=i.ref,t.return=i,i.child=t}function Hg(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(ko(d,l)&&t.ref===i.ref)if(Ut=!1,i.pendingProps=l=d,Cf(t,h))(t.flags&131072)!==0&&(Ut=!0);else return i.lanes=t.lanes,zi(t,i,h)}return _f(t,i,a,l,h)}function qg(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,_=t!==null?t.memoizedState:null;if($o(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=_!==null?_.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Fg(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mu(i,_!==null?_.cachePool:null),_!==null?Gp(i,_):Qh(),Kp(i);else return i.lanes=i.childLanes=536870912,Fg(t,i,_!==null?_.baseLanes|a:a,a)}else _!==null?(Mu(i,_.cachePool),Gp(i,_),Sr(),i.memoizedState=null):(t!==null&&Mu(i,null),Qh(),Sr());return Kt(t,i,h,a),i.child}function Fg(t,i,a,l){var h=Wh();return h=h===null?null:{parent:Dt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Mu(i,null),Qh(),Kp(i),t!==null&&Qo(t,i,l,!0),null}function $o(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function _f(t,i,a,l,h){return Os(i),a=ef(t,i,a,l,void 0,h),l=tf(),t!==null&&!Ut?(nf(t,i,h),zi(t,i,h)):(Ge&&l&&Fh(i),i.flags|=1,Kt(t,i,a,h),i.child)}function Gg(t,i,a,l,h,d){return Os(i),i.updateQueue=null,a=Zp(i,l,a,h),Xp(t),l=tf(),t!==null&&!Ut?(nf(t,i,d),zi(t,i,d)):(Ge&&l&&Fh(i),i.flags|=1,Kt(t,i,a,d),i.child)}function Kg(t,i,a,l,h){if(Os(i),i.stateNode===null){var d=pa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Zt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Nf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Zt(_):pa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(gf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&yf.enqueueReplaceState(d,d.state,null),Zo(i,l,d,h),Xo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=Is(a,T);d.props=I;var P=d.context,Y=a.contextType;_=pa,typeof Y=="object"&&Y!==null&&(_=Zt(Y));var te=a.getDerivedStateFromProps;Y=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||P!==_)&&Mg(i,d,l,_),Rr=!1;var F=i.memoizedState;d.state=F,Zo(i,l,d,h),Xo(),P=i.memoizedState,T||F!==P||Rr?(typeof te=="function"&&(gf(i,a,te,l),P=i.memoizedState),(I=Rr||Ng(i,a,I,l,F,P,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=P),d.props=l,d.state=P,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Mf(t,i),_=i.memoizedProps,Y=Is(a,_),d.props=Y,te=i.pendingProps,F=d.context,P=a.contextType,I=pa,typeof P=="object"&&P!==null&&(I=Zt(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||F!==I)&&Mg(i,d,l,I),Rr=!1,F=i.memoizedState,d.state=F,Zo(i,l,d,h),Xo();var Q=i.memoizedState;_!==te||F!==Q||Rr||t!==null&&t.dependencies!==null&&qu(t.dependencies)?(typeof T=="function"&&(gf(i,a,T,l),Q=i.memoizedState),(Y=Rr||Ng(i,a,Y,l,F,Q,I)||t!==null&&t.dependencies!==null&&qu(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=I,l=Y):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,$o(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=As(i,t.child,null,h),i.child=As(i,null,a,h)):Kt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=zi(t,i,h),t}function $g(t,i,a,l){return Po(),i.flags|=256,Kt(t,i,a,l),i.child}var Ef={dehydrated:null,treeContext:null,retryLane:0};function Tf(t){return{baseLanes:t,cachePool:Yp()}}function Sf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=zn),t}function Qg(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ge){if(h?Tr(i):Sr(),Ge){var T=Gt,I;if(I=T){e:{for(I=T,T=ui;I.nodeType!==8;){if(!T){T=null;break e}if(I=$n(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Es!==null?{id:Vi,overflow:Pi}:null,retryLane:536870912},I=Un(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,on=i,Gt=null,I=!0):I=!1}I||Ss(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;Li(i)}return T=l.children,l=l.fallback,h?(Sr(),h=i.mode,T=wf({mode:"hidden",children:T},h),l=Ms(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Tf(a),h.childLanes=Sf(t,_,a),i.memoizedState=Ef,l):(Tr(i),Af(i,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Tr(i),i.flags&=-257,i=bf(t,i,a)):i.memoizedState!==null?(Sr(),i.child=t.child,i.flags|=128,i=null):(Sr(),h=l.fallback,T=i.mode,l=wf({mode:"visible",children:l.children},T),h=Ms(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,As(i,t.child,null,a),l=i.child,l.memoizedState=Tf(a),l.childLanes=Sf(t,_,a),i.memoizedState=Ef,i=h);else if(Tr(i),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var P=_.dgst;_=P,l=Error(s(419)),l.stack="",l.digest=_,Lo({value:l,source:null,stack:null}),i=bf(t,i,a)}else if(Ut||Qo(t,i,a,!1),_=(a&t.childLanes)!==0,Ut||_){if(_=et,_!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,Er(t,l),ln(_,t,l),zg}T.data==="$?"||Jf(),i=bf(t,i,a)}else T.data==="$?"?(i.flags|=128,i.child=t.child,i=FS.bind(null,t),T._reactRetry=i,i=null):(t=I.treeContext,Gt=$n(T.nextSibling),on=i,Ge=!0,Gn=null,ui=!1,t!==null&&(kn[xn++]=Vi,kn[xn++]=Pi,kn[xn++]=Es,Vi=t.id,Pi=t.overflow,Es=i),i=Af(i,l.children),i.flags|=4096);return i}return h?(Sr(),h=l.fallback,T=i.mode,I=t.child,P=I.sibling,l=Mr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,P!==null?h=Mr(P,h):(h=Ms(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Tf(a):(I=T.cachePool,I!==null?(P=Dt._currentValue,I=I.parent!==P?{parent:P,pool:P}:I):I=Yp(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Sf(t,_,a),i.memoizedState=Ef,l):(Tr(i),a=t.child,t=a.sibling,a=Mr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Af(t,i){return i=wf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function wf(t,i){return Ey(t,i,0,null)}function bf(t,i,a){return As(i,t.child,null,a),t=Af(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Yg(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Df(t.return,i,a)}function Rf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Xg(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Kt(t,i,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yg(t,a,i);else if(t.tag===19)Yg(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ke(It,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Nu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Rf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Nu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Rf(i,!0,a,null,d);break;case"together":Rf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),kr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Qo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Mr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Mr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Cf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&qu(t)))}function OS(t,i,a){switch(i.tag){case 3:it(i,i.stateNode.containerInfo),br(i,Dt,t.memoizedState.cache),Po();break;case 27:case 5:qt(i);break;case 4:it(i,i.stateNode.containerInfo);break;case 10:br(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Tr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Qg(t,i,a):(Tr(i),t=zi(t,i,a),t!==null?t.sibling:null);Tr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Qo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Xg(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ke(It,It.current),l)break;return null;case 22:case 23:return i.lanes=0,qg(t,i,a);case 24:br(i,Dt,t.memoizedState.cache)}return zi(t,i,a)}function Zg(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ut=!0;else{if(!Cf(t,a)&&(i.flags&128)===0)return Ut=!1,OS(t,i,a);Ut=(t.flags&131072)!==0}else Ut=!1,Ge&&(i.flags&1048576)!==0&&Vp(i,Ru,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Bf(l)?(t=Is(l,t),i.tag=1,i=Kg(null,i,l,t,a)):(i.tag=0,i=_f(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===L){i.tag=11,i=jg(null,i,l,t,a);break e}else if(h===B){i.tag=14,i=Bg(null,i,l,t,a);break e}}throw i=w(l)||l,Error(s(306,i,""))}}return i;case 0:return _f(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Is(l,i.pendingProps),Kg(t,i,l,h,a);case 3:e:{if(it(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,Mf(t,i),Zo(i,d,null,a);var _=i.memoizedState;if(d=_.cache,br(i,Dt,d),d!==h.cache&&Of(i,[Dt],a,!0),Xo(),d=_.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=$g(t,i,d,a);break e}else if(d!==l){l=Mn(Error(s(424)),i),Lo(l),i=$g(t,i,d,a);break e}else for(Gt=$n(i.stateNode.containerInfo.firstChild),on=i,Ge=!0,Gn=null,ui=!0,a=Fp(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Po(),d===l){i=zi(t,i,a);break e}Kt(t,i,d,a)}i=i.child}return i;case 26:return $o(t,i),t===null?(a=ev(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ge||(a=i.type,t=i.pendingProps,l=sc(nt.current).createElement(a),l[Vt]=i,l[bt]=t,$t(l,a,t),st(l),i.stateNode=l):i.memoizedState=ev(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return qt(i),t===null&&Ge&&(l=i.stateNode=Zy(i.type,i.pendingProps,nt.current),on=i,ui=!0,Gt=$n(l.firstChild)),l=i.pendingProps.children,t!==null||Ge?Kt(t,i,l,a):i.child=As(i,null,l,a),$o(t,i),i.child;case 5:return t===null&&Ge&&((h=l=Gt)&&(l=aA(l,i.type,i.pendingProps,ui),l!==null?(i.stateNode=l,on=i,Gt=$n(l.firstChild),ui=!1,h=!0):h=!1),h||Ss(i)),qt(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,dd(h,d)?l=null:_!==null&&dd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=ef(t,i,AS,null,null,a),fl._currentValue=h),$o(t,i),Kt(t,i,l,a),i.child;case 6:return t===null&&Ge&&((t=a=Gt)&&(a=oA(a,i.pendingProps,ui),a!==null?(i.stateNode=a,on=i,Gt=null,t=!0):t=!1),t||Ss(i)),null;case 13:return Qg(t,i,a);case 4:return it(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=As(i,null,l,a):Kt(t,i,l,a),i.child;case 11:return jg(t,i,i.type,i.pendingProps,a);case 7:return Kt(t,i,i.pendingProps,a),i.child;case 8:return Kt(t,i,i.pendingProps.children,a),i.child;case 12:return Kt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,br(i,i.type,l.value),Kt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Os(i),h=Zt(h),l=l(h),i.flags|=1,Kt(t,i,l,a),i.child;case 14:return Bg(t,i,i.type,i.pendingProps,a);case 15:return Hg(t,i,i.type,i.pendingProps,a);case 19:return Xg(t,i,a);case 22:return qg(t,i,a);case 24:return Os(i),l=Zt(Dt),t===null?(h=Wh(),h===null&&(h=et,d=Xh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Nf(i),br(i,Dt,h)):((t.lanes&a)!==0&&(Mf(t,i),Zo(i,null,null,a),Xo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),br(i,Dt,l)):(l=d.cache,br(i,Dt,l),l!==h.cache&&Of(i,[Dt],a,!0))),Kt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var If=Ie(null),Ds=null,ji=null;function br(t,i,a){ke(If,i._currentValue),i._currentValue=a}function Bi(t){t._currentValue=If.current,$e(If)}function Df(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Of(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Df(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Df(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Qo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;_n(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ht.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(fl):t=[fl])}h=h.return}t!==null&&Of(i,t,a,l),i.flags|=262144}function qu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Os(t){Ds=t,ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return Wg(Ds,t)}function Fu(t,i){return Ds===null&&Os(t),Wg(t,i)}function Wg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ji===null){if(t===null)throw Error(s(308));ji=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ji=ji.next=i;return a}var Rr=!1;function Nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ot&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=wu(t),kp(t,null,a),i}return Au(t,l,i,a),wu(t)}function Yo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,cr(t,a)}}function kf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var xf=!1;function Xo(){if(xf){var t=Ta;if(t!==null)throw t}}function Zo(t,i,a,l){xf=!1;var h=t.updateQueue;Rr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,P=I.next;I.next=null,_===null?d=P:_.next=P,_=I;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==_&&(T===null?Y.firstBaseUpdate=P:T.next=P,Y.lastBaseUpdate=I))}if(d!==null){var te=h.baseState;_=0,Y=P=I=null,T=d;do{var F=T.lane&-536870913,Q=F!==T.lane;if(Q?(Ue&F)===F:(l&F)===F){F!==0&&F===Ea&&(xf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var pe=t,Ae=T;F=i;var mt=a;switch(Ae.tag){case 1:if(pe=Ae.payload,typeof pe=="function"){te=pe.call(mt,te,F);break e}te=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ae.payload,F=typeof pe=="function"?pe.call(mt,te,F):pe,F==null)break e;te=C({},te,F);break e;case 2:Rr=!0}}F=T.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(P=Y=Q,I=te):Y=Y.next=Q,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);Y===null&&(I=te),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),kr|=_,t.lanes=_,t.memoizedState=te}}function Jg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ey(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Jg(a[t],i)}function Wo(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){We(i,i.return,T)}}function Dr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var I=a;try{T()}catch(P){We(h,I,P)}}}l=l.next}while(l!==d)}}catch(P){We(i,i.return,P)}}function ty(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ey(i,a)}catch(l){We(t,t.return,l)}}}function ny(t,i,a){a.props=Is(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function Ns(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){We(t,i,d)}}function En(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function iy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function ry(t,i,a){try{var l=t.stateNode;tA(l,t.type,a,i),l[bt]=i}catch(h){We(t,t.return,h)}}function sy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Vf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=rc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Pf(t,i,a),t=t.sibling;t!==null;)Pf(t,i,a),t=t.sibling}function Gu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Gu(t,i,a),t=t.sibling;t!==null;)Gu(t,i,a),t=t.sibling}var Hi=!1,ft=!1,Lf=!1,ay=typeof WeakSet=="function"?WeakSet:Set,zt=null,oy=!1;function NS(t,i){if(t=t.containerInfo,hd=hc,t=wp(t),Uh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,I=-1,P=0,Y=0,te=t,F=null;t:for(;;){for(var Q;te!==a||h!==0&&te.nodeType!==3||(T=_+h),te!==d||l!==0&&te.nodeType!==3||(I=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(Q=te.firstChild)!==null;)F=te,te=Q;for(;;){if(te===t)break t;if(F===a&&++P===h&&(T=_),F===d&&++Y===l&&(I=_),(Q=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=Q}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(fd={focusedElem:t,selectionRange:a},hc=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pe=Is(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(pe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){We(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)gd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}return pe=oy,oy=!1,pe}function ly(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Fi(t,a),l&4&&Wo(5,a);break;case 1:if(Fi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){We(a,a.return,T)}else{var h=Is(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){We(a,a.return,T)}}l&64&&ty(a),l&512&&Ns(a,a.return);break;case 3:if(Fi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ey(l,t)}catch(T){We(a,a.return,T)}}break;case 26:Fi(t,a),l&512&&Ns(a,a.return);break;case 27:case 5:Fi(t,a),i===null&&l&4&&iy(a),l&512&&Ns(a,a.return);break;case 12:Fi(t,a);break;case 13:Fi(t,a),l&4&&hy(t,a);break;case 22:if(h=a.memoizedState!==null||Hi,!h){i=i!==null&&i.memoizedState!==null||ft;var d=Hi,_=ft;Hi=h,(ft=i)&&!_?Or(t,a,(a.subtreeFlags&8772)!==0):Fi(t,a),Hi=d,ft=_}l&512&&(a.memoizedProps.mode==="manual"?Ns(a,a.return):En(a,a.return));break;default:Fi(t,a)}}function uy(t){var i=t.alternate;i!==null&&(t.alternate=null,uy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&os(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var St=null,Tn=!1;function qi(t,i,a){for(a=a.child;a!==null;)cy(t,i,a),a=a.sibling}function cy(t,i,a){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(sr,a)}catch{}switch(a.tag){case 26:ft||En(a,i),qi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||En(a,i);var l=St,h=Tn;for(St=a.stateNode,qi(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);os(a),St=l,Tn=h;break;case 5:ft||En(a,i);case 6:h=St;var d=Tn;if(St=null,qi(t,i,a),St=h,Tn=d,St!==null)if(Tn)try{t=St,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(_){We(a,i,_)}else try{St.removeChild(a.stateNode)}catch(_){We(a,i,_)}break;case 18:St!==null&&(Tn?(i=St,a=a.stateNode,i.nodeType===8?pd(i.parentNode,a):i.nodeType===1&&pd(i,a),gl(i)):pd(St,a.stateNode));break;case 4:l=St,h=Tn,St=a.stateNode.containerInfo,Tn=!0,qi(t,i,a),St=l,Tn=h;break;case 0:case 11:case 14:case 15:ft||Dr(2,a,i),ft||Dr(4,a,i),qi(t,i,a);break;case 1:ft||(En(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ny(a,i,l)),qi(t,i,a);break;case 21:qi(t,i,a);break;case 22:ft||En(a,i),ft=(l=ft)||a.memoizedState!==null,qi(t,i,a),ft=l;break;default:qi(t,i,a)}}function hy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{gl(t)}catch(a){We(i,i.return,a)}}function MS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ay),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ay),i;default:throw Error(s(435,t.tag))}}function Uf(t,i){var a=MS(t);i.forEach(function(l){var h=GS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Pn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:case 5:St=T.stateNode,Tn=!1;break e;case 3:St=T.stateNode.containerInfo,Tn=!0;break e;case 4:St=T.stateNode.containerInfo,Tn=!0;break e}T=T.return}if(St===null)throw Error(s(160));cy(d,_,h),St=null,Tn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)fy(i,t),i=i.sibling}var Kn=null;function fy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pn(i,t),Ln(t),l&4&&(Dr(3,t,t.return),Wo(3,t),Dr(5,t,t.return));break;case 1:Pn(i,t),Ln(t),l&512&&(ft||a===null||En(a,a.return)),l&64&&Hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kn;if(Pn(i,t),Ln(t),l&512&&(ft||a===null||En(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[fr]||d[Vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),$t(d,l,a),d[Vt]=t,st(d),l=d;break e;case"link":var _=iv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),$t(d,l,a),h.head.appendChild(d);break;case"meta":if(_=iv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),$t(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Vt]=t,st(d),l=d}t.stateNode=l}else rv(h,t.type,t.stateNode);else t.stateNode=nv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?rv(h,t.type,t.stateNode):nv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ry(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var I=h.firstChild;I;){var P=I.nextSibling,Y=I.nodeName;I[fr]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=P}for(var te=t.type,F=h.attributes;F.length;)h.removeAttributeNode(F[0]);$t(h,te,d),h[Vt]=t,h[bt]=d}catch(pe){We(t,t.return,pe)}}case 5:if(Pn(i,t),Ln(t),l&512&&(ft||a===null||En(a,a.return)),t.flags&32){h=t.stateNode;try{Cn(h,"")}catch(pe){We(t,t.return,pe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ry(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Lf=!0);break;case 6:if(Pn(i,t),Ln(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(pe){We(t,t.return,pe)}}break;case 3:if(lc=null,h=Kn,Kn=ac(i.containerInfo),Pn(i,t),Kn=h,Ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{gl(i.containerInfo)}catch(pe){We(t,t.return,pe)}Lf&&(Lf=!1,dy(t));break;case 4:l=Kn,Kn=ac(t.stateNode.containerInfo),Pn(i,t),Ln(t),Kn=l;break;case 12:Pn(i,t),Ln(t);break;case 13:Pn(i,t),Ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($f=cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uf(t,l)));break;case 22:if(l&512&&(ft||a===null||En(a,a.return)),I=t.memoizedState!==null,P=a!==null&&a.memoizedState!==null,Y=Hi,te=ft,Hi=Y||I,ft=te||P,Pn(i,t),ft=te,Hi=Y,Ln(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=I?i._visibility&-2:i._visibility|1,I&&(i=Hi||ft,a===null||P||i||ba(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){P=a=i;try{if(h=P.stateNode,I)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=P.stateNode,T=P.memoizedProps.style;var Q=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pe){We(P,P.return,pe)}}}else if(i.tag===6){if(a===null){P=i;try{P.stateNode.nodeValue=I?"":P.memoizedProps}catch(pe){We(P,P.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Uf(t,a))));break;case 19:Pn(i,t),Ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uf(t,l)));break;case 21:break;default:Pn(i,t),Ln(t)}}function Ln(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(sy(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=Vf(t);Gu(t,d,h);break;case 5:var _=l.stateNode;l.flags&32&&(Cn(_,""),l.flags&=-33);var T=Vf(t);Gu(t,T,_);break;case 3:case 4:var I=l.stateNode.containerInfo,P=Vf(t);Pf(t,P,I);break;default:throw Error(s(161))}}}catch(Y){We(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function dy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;dy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Fi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ly(t,i.alternate,i),i=i.sibling}function ba(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Dr(4,i,i.return),ba(i);break;case 1:En(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ny(i,i.return,a),ba(i);break;case 26:case 27:case 5:En(i,i.return),ba(i);break;case 22:En(i,i.return),i.memoizedState===null&&ba(i);break;default:ba(i)}t=t.sibling}}function Or(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Or(h,d,a),Wo(4,d);break;case 1:if(Or(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){We(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Jg(I[h],T)}catch(P){We(l,l.return,P)}}a&&_&64&&ty(d),Ns(d,d.return);break;case 26:case 27:case 5:Or(h,d,a),a&&l===null&&_&4&&iy(d),Ns(d,d.return);break;case 12:Or(h,d,a);break;case 13:Or(h,d,a),a&&_&4&&hy(h,d);break;case 22:d.memoizedState===null&&Or(h,d,a),Ns(d,d.return);break;default:Or(h,d,a)}i=i.sibling}}function zf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ho(a))}function jf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ho(t))}function Nr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)my(t,i,a,l),i=i.sibling}function my(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Nr(t,i,a,l),h&2048&&Wo(9,i);break;case 3:Nr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ho(t)));break;case 12:if(h&2048){Nr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){We(i,i.return,I)}}else Nr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Nr(t,i,a,l):Jo(t,i):d._visibility&4?Nr(t,i,a,l):(d._visibility|=4,Ra(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&zf(i.alternate,i);break;case 24:Nr(t,i,a,l),h&2048&&jf(i.alternate,i);break;default:Nr(t,i,a,l)}}function Ra(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,_=i,T=a,I=l,P=_.flags;switch(_.tag){case 0:case 11:case 15:Ra(d,_,T,I,h),Wo(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&4?Ra(d,_,T,I,h):Jo(d,_):(Y._visibility|=4,Ra(d,_,T,I,h)),h&&P&2048&&zf(_.alternate,_);break;case 24:Ra(d,_,T,I,h),h&&P&2048&&jf(_.alternate,_);break;default:Ra(d,_,T,I,h)}i=i.sibling}}function Jo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Jo(a,l),h&2048&&zf(l.alternate,l);break;case 24:Jo(a,l),h&2048&&jf(l.alternate,l);break;default:Jo(a,l)}i=i.sibling}}var el=8192;function Ca(t){if(t.subtreeFlags&el)for(t=t.child;t!==null;)py(t),t=t.sibling}function py(t){switch(t.tag){case 26:Ca(t),t.flags&el&&t.memoizedState!==null&&EA(Kn,t.memoizedState,t.memoizedProps);break;case 5:Ca(t);break;case 3:case 4:var i=Kn;Kn=ac(t.stateNode.containerInfo),Ca(t),Kn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=el,el=16777216,Ca(t),el=i):Ca(t));break;default:Ca(t)}}function gy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function tl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,vy(l,t)}gy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yy(t),t=t.sibling}function yy(t){switch(t.tag){case 0:case 11:case 15:tl(t),t.flags&2048&&Dr(9,t,t.return);break;case 3:tl(t);break;case 12:tl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,Ku(t)):tl(t);break;default:tl(t)}}function Ku(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,vy(l,t)}gy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Dr(8,i,i.return),Ku(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Ku(i));break;default:Ku(i)}t=t.sibling}}function vy(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Dr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ho(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var h=l.sibling,d=l.return;if(uy(l),l===a){zt=null;break e}if(h!==null){h.return=d,zt=h;break e}zt=d}}}function kS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,i,a,l){return new kS(t,i,a,l)}function Bf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mr(t,i){var a=t.alternate;return a===null?(a=Un(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function _y(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function $u(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Bf(t)&&(_=1);else if(typeof t=="string")_=vA(t,a,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Ms(a.children,h,d,i);case y:_=8,h|=24;break;case E:return t=Un(12,a,i,h|2),t.elementType=E,t.lanes=d,t;case q:return t=Un(13,a,i,h),t.elementType=q,t.lanes=d,t;case j:return t=Un(19,a,i,h),t.elementType=j,t.lanes=d,t;case Z:return Ey(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case x:_=10;break e;case D:_=9;break e;case L:_=11;break e;case B:_=14;break e;case ee:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Un(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ms(t,i,a,l){return t=Un(7,t,l,i),t.lanes=a,t}function Ey(t,i,a,l){t=Un(22,t,l,i),t.elementType=Z,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var _=Er(d,2);_!==null&&(h._pendingVisibility|=2,ln(_,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var _=Er(d,2);_!==null&&(h._pendingVisibility&=-3,ln(_,d,2))}}};return t.stateNode=h,t}function Hf(t,i,a){return t=Un(6,t,null,i),t.lanes=a,t}function qf(t,i,a){return i=Un(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Gi(t){t.flags|=4}function Ty(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!sv(i)){if(i=Vn.current,i!==null&&((Ue&4194176)===Ue?ci!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==ci))throw zo=$h,Up;t.flags|=8192}}function Qu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?lr():536870912,t.lanes|=i,Da|=i)}function nl(t,i){if(!Ge)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function xS(t,i,a){var l=i.pendingProps;switch(Gh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Bi(Dt),Je(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Vo(i)?Gi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Gn!==null&&(Zf(Gn),Gn=null))),at(i),null;case 26:return a=i.memoizedState,t===null?(Gi(i),a!==null?(at(i),Ty(i,a)):(at(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Gi(i),at(i),Ty(i,a)):(at(i),i.flags&=-16777217):(t.memoizedProps!==l&&Gi(i),at(i),i.flags&=-16777217),null;case 27:kt(i),a=nt.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}t=ct.current,Vo(i)?Pp(i):(t=Zy(h,l,a),i.stateNode=t,Gi(i))}return at(i),null;case 5:if(kt(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(t=ct.current,Vo(i))Pp(i);else{switch(h=sc(nt.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Vt]=i,t[bt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch($t(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Gi(i)}}return at(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Gi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=nt.current,Vo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=on,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Vt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Gy(t.nodeValue,a)),t||Ss(i)}else t=sc(t).createTextNode(l),t[Vt]=i,i.stateNode=t}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Vo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Vt]=i}else Po(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else Gn!==null&&(Zf(Gn),Gn=null),h=!0;if(!h)return i.flags&256?(Li(i),i):(Li(i),null)}if(Li(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Qu(i,i.updateQueue),at(i),null;case 4:return Je(),t===null&&ld(i.stateNode.containerInfo),at(i),null;case 10:return Bi(i.type),at(i),null;case 19:if($e(It),h=i.memoizedState,h===null)return at(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)nl(h,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Nu(t),d!==null){for(i.flags|=128,nl(h,!1),t=d.updateQueue,i.updateQueue=t,Qu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)_y(a,t),a=a.sibling;return ke(It,It.current&1|2),i.child}t=t.sibling}h.tail!==null&&cn()>Yu&&(i.flags|=128,l=!0,nl(h,!1),i.lanes=4194304)}else{if(!l)if(t=Nu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Qu(i,t),nl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ge)return at(i),null}else 2*cn()-h.renderingStartTime>Yu&&a!==536870912&&(i.flags|=128,l=!0,nl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=cn(),i.sibling=null,t=It.current,ke(It,l?t&1|2:t&1),i):(at(i),null);case 22:case 23:return Li(i),Yh(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&Qu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&$e(ws),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Bi(Dt),at(i),null;case 25:return null}throw Error(s(156,i.tag))}function VS(t,i){switch(Gh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Bi(Dt),Je(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return kt(i),null;case 13:if(Li(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Po()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return $e(It),null;case 4:return Je(),null;case 10:return Bi(i.type),null;case 22:case 23:return Li(i),Yh(),t!==null&&$e(ws),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Bi(Dt),null;case 25:return null;default:return null}}function Sy(t,i){switch(Gh(i),i.tag){case 3:Bi(Dt),Je();break;case 26:case 27:case 5:kt(i);break;case 4:Je();break;case 13:Li(i);break;case 19:$e(It);break;case 10:Bi(i.type);break;case 22:case 23:Li(i),Yh(),t!==null&&$e(ws);break;case 24:Bi(Dt)}}var PS={getCacheForType:function(t){var i=Zt(Dt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},LS=typeof WeakMap=="function"?WeakMap:Map,ot=0,et=null,Ne=null,Ue=0,tt=0,Sn=null,Ki=!1,Ia=!1,Ff=!1,$i=0,dt=0,kr=0,ks=0,Gf=0,zn=0,Da=0,il=null,fi=null,Kf=!1,$f=0,Yu=1/0,Xu=null,xr=null,Zu=!1,xs=null,rl=0,Qf=0,Yf=null,sl=0,Xf=null;function An(){if((ot&2)!==0&&Ue!==0)return Ue&-Ue;if(S.T!==null){var t=Ea;return t!==0?t:rd()}return iu()}function Ay(){zn===0&&(zn=(Ue&536870912)===0||Ge?yo():536870912);var t=Vn.current;return t!==null&&(t.flags|=32),zn}function ln(t,i,a){(t===et&&tt===2||t.cancelPendingCommit!==null)&&(Oa(t,0),Qi(t,Ue,zn,!1)),gt(t,a),((ot&2)===0||t!==et)&&(t===et&&((ot&2)===0&&(ks|=a),dt===4&&Qi(t,Ue,zn,!1)),di(t))}function wy(t,i,a){if((ot&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||or(t,i),h=l?jS(t,i):ed(t,i,!0),d=l;do{if(h===0){Ia&&!l&&Qi(t,i,0,!1);break}else if(h===6)Qi(t,i,0,!Ki);else{if(a=t.current.alternate,d&&!US(a)){h=ed(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=il;var I=T.current.memoizedState.isDehydrated;if(I&&(Oa(T,_).flags|=256),_=ed(T,_,!1),_!==2){if(Ff&&!I){T.errorRecoveryDisabledLanes|=d,ks|=d,h=4;break e}d=fi,fi=h,d!==null&&Zf(d)}h=_}if(d=!1,h!==2)continue}}if(h===1){Oa(t,0),Qi(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Qi(l,i,zn,!Ki);break e}break;case 2:fi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=$f+300-cn(),10<d)){if(Qi(l,i,zn,!Ki),bn(l,0)!==0)break e;l.timeoutHandle=Qy(by.bind(null,l,a,fi,Xu,Kf,i,zn,ks,Da,Ki,2,-0,0),d);break e}by(l,a,fi,Xu,Kf,i,zn,ks,Da,Ki,0,-0,0)}}break}while(!0);di(t)}function Zf(t){fi===null?fi=t:fi.push.apply(fi,t)}function by(t,i,a,l,h,d,_,T,I,P,Y,te,F){var Q=i.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(hl={stylesheets:null,count:0,unsuspend:_A},py(i),i=TA(),i!==null)){t.cancelPendingCommit=i(My.bind(null,t,a,l,h,_,T,I,1,te,F)),Qi(t,d,_,!P);return}My(t,a,l,h,_,T,I,Y,te,F)}function US(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qi(t,i,a,l){i&=~Gf,i&=~ks,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-rn(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ur(t,a,i)}function Wu(){return(ot&6)===0?(al(0),!1):!0}function Wf(){if(Ne!==null){if(tt===0)var t=Ne.return;else t=Ne,ji=Ds=null,rf(t),va=null,jo=0,t=Ne;for(;t!==null;)Sy(t.alternate,t),t=t.return;Ne=null}}function Oa(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,iA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Wf(),et=t,Ne=a=Mr(t.current,null),Ue=i,tt=0,Sn=null,Ki=!1,Ia=or(t,i),Ff=!1,Da=zn=Gf=ks=kr=dt=0,fi=il=null,Kf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-rn(l),d=1<<h;i|=t[h],l&=~d}return $i=i,Su(),a}function Ry(t,i){De=null,S.H=hi,i===Uo?(i=Bp(),tt=3):i===Up?(i=Bp(),tt=4):tt=i===zg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Ne===null&&(dt=1,Hu(t,Mn(i,t.current)))}function Cy(){var t=S.H;return S.H=hi,t===null?hi:t}function Iy(){var t=S.A;return S.A=PS,t}function Jf(){dt=4,Ki||(Ue&4194176)!==Ue&&Vn.current!==null||(Ia=!0),(kr&134217727)===0&&(ks&134217727)===0||et===null||Qi(et,Ue,zn,!1)}function ed(t,i,a){var l=ot;ot|=2;var h=Cy(),d=Iy();(et!==t||Ue!==i)&&(Xu=null,Oa(t,i)),i=!1;var _=dt;e:do try{if(tt!==0&&Ne!==null){var T=Ne,I=Sn;switch(tt){case 8:Wf(),_=6;break e;case 3:case 2:case 6:Vn.current===null&&(i=!0);var P=tt;if(tt=0,Sn=null,Na(t,T,I,P),a&&Ia){_=0;break e}break;default:P=tt,tt=0,Sn=null,Na(t,T,I,P)}}zS(),_=dt;break}catch(Y){Ry(t,Y)}while(!0);return i&&t.shellSuspendCounter++,ji=Ds=null,ot=l,S.H=h,S.A=d,Ne===null&&(et=null,Ue=0,Su()),_}function zS(){for(;Ne!==null;)Dy(Ne)}function jS(t,i){var a=ot;ot|=2;var l=Cy(),h=Iy();et!==t||Ue!==i?(Xu=null,Yu=cn()+500,Oa(t,i)):Ia=or(t,i);e:do try{if(tt!==0&&Ne!==null){i=Ne;var d=Sn;t:switch(tt){case 1:tt=0,Sn=null,Na(t,i,d,1);break;case 2:if(zp(d)){tt=0,Sn=null,Oy(i);break}i=function(){tt===2&&et===t&&(tt=7),di(t)},d.then(i,i);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:zp(d)?(tt=0,Sn=null,Oy(i)):(tt=0,Sn=null,Na(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var T=Ne;if(!_||sv(_)){tt=0,Sn=null;var I=T.sibling;if(I!==null)Ne=I;else{var P=T.return;P!==null?(Ne=P,Ju(P)):Ne=null}break t}}tt=0,Sn=null,Na(t,i,d,5);break;case 6:tt=0,Sn=null,Na(t,i,d,6);break;case 8:Wf(),dt=6;break e;default:throw Error(s(462))}}BS();break}catch(Y){Ry(t,Y)}while(!0);return ji=Ds=null,S.H=l,S.A=h,ot=a,Ne!==null?0:(et=null,Ue=0,Su(),dt)}function BS(){for(;Ne!==null&&!Ch();)Dy(Ne)}function Dy(t){var i=Zg(t.alternate,t,$i);t.memoizedProps=t.pendingProps,i===null?Ju(t):Ne=i}function Oy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Gg(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=Gg(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:rf(i);default:Sy(a,i),i=Ne=_y(i,$i),i=Zg(a,i,$i)}t.memoizedProps=t.pendingProps,i===null?Ju(t):Ne=i}function Na(t,i,a,l){ji=Ds=null,rf(i),va=null,jo=0;var h=i.return;try{if(DS(t,h,i,a,Ue)){dt=1,Hu(t,Mn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;dt=1,Hu(t,Mn(a,t.current)),Ne=null;return}i.flags&32768?(Ge||l===1?t=!0:Ia||(Ue&536870912)!==0?t=!1:(Ki=t=!0,(l===2||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ny(i,t)):Ju(i)}function Ju(t){var i=t;do{if((i.flags&32768)!==0){Ny(i,Ki);return}t=i.return;var a=xS(i.alternate,i,$i);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);dt===0&&(dt=5)}function Ny(t,i){do{var a=VS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);dt=6,Ne=null}function My(t,i,a,l,h,d,_,T,I,P){var Y=S.T,te=re.p;try{re.p=2,S.T=null,HS(t,i,a,l,te,h,d,_,T,I,P)}finally{S.T=Y,re.p=te}}function HS(t,i,a,l,h,d,_,T){do Ma();while(xs!==null);if((ot&6)!==0)throw Error(s(327));var I=t.finishedWork;if(l=t.finishedLanes,I===null)return null;if(t.finishedWork=null,t.finishedLanes=0,I===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var P=I.lanes|I.childLanes;if(P|=Hh,tu(t,l,P,d,_,T),t===et&&(Ne=et=null,Ue=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||Zu||(Zu=!0,Qf=P,Yf=a,KS(bi,function(){return Ma(),null})),a=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,d=re.p,re.p=2,_=ot,ot|=4,NS(t,I),fy(I,t),fS(fd,t.containerInfo),hc=!!hd,fd=hd=null,t.current=I,ly(t,I.alternate,I),fo(),ot=_,re.p=d,S.T=a):t.current=I,Zu?(Zu=!1,xs=t,rl=l):ky(t,P),P=t.pendingLanes,P===0&&(xr=null),po(I.stateNode),di(t),i!==null)for(h=t.onRecoverableError,I=0;I<i.length;I++)P=i[I],h(P.value,{componentStack:P.stack});return(rl&3)!==0&&Ma(),P=t.pendingLanes,(l&4194218)!==0&&(P&42)!==0?t===Xf?sl++:(sl=0,Xf=t):sl=0,al(0),null}function ky(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ho(i)))}function Ma(){if(xs!==null){var t=xs,i=Qf;Qf=0;var a=nu(rl),l=S.T,h=re.p;try{if(re.p=32>a?32:a,S.T=null,xs===null)var d=!1;else{a=Yf,Yf=null;var _=xs,T=rl;if(xs=null,rl=0,(ot&6)!==0)throw Error(s(331));var I=ot;if(ot|=4,yy(_.current),my(_,_.current,T,a),ot=I,al(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(sr,_)}catch{}d=!0}return d}finally{re.p=h,S.T=l,ky(t,i)}}return!1}function xy(t,i,a){i=Mn(a,i),i=vf(t.stateNode,i,2),t=Ir(t,i,2),t!==null&&(gt(t,2),di(t))}function We(t,i,a){if(t.tag===3)xy(t,t,a);else for(;i!==null;){if(i.tag===3){xy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xr===null||!xr.has(l))){t=Mn(a,t),a=Lg(2),l=Ir(i,a,2),l!==null&&(Ug(a,l,i,t),gt(l,2),di(l));break}}i=i.return}}function td(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new LS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ff=!0,h.add(a),t=qS.bind(null,t,i,a),i.then(t,t))}function qS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Ue&a)===a&&(dt===4||dt===3&&(Ue&62914560)===Ue&&300>cn()-$f?(ot&2)===0&&Oa(t,0):Gf|=a,Da===Ue&&(Da=0)),di(t)}function Vy(t,i){i===0&&(i=lr()),t=Er(t,i),t!==null&&(gt(t,i),di(t))}function FS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Vy(t,a)}function GS(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Vy(t,a)}function KS(t,i){return gn(t,i)}var ec=null,ka=null,nd=!1,tc=!1,id=!1,Vs=0;function di(t){t!==ka&&t.next===null&&(ka===null?ec=ka=t:ka=ka.next=t),tc=!0,nd||(nd=!0,QS($S))}function al(t,i){if(!id&&tc){id=!0;do for(var a=!1,l=ec;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-rn(42|t)+1)-1,d&=h&~(_&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Uy(l,d))}else d=Ue,d=bn(l,l===et?d:0),(d&3)===0||or(l,d)||(a=!0,Uy(l,d));l=l.next}while(a);id=!1}}function $S(){tc=nd=!1;var t=0;Vs!==0&&(nA()&&(t=Vs),Vs=0);for(var i=cn(),a=null,l=ec;l!==null;){var h=l.next,d=Py(l,i);d===0?(l.next=null,a===null?ec=h:a.next=h,h===null&&(ka=a)):(a=l,(t!==0||(d&3)!==0)&&(tc=!0)),l=h}al(t)}function Py(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-rn(d),T=1<<_,I=h[_];I===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Zs(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=et,a=Ue,a=bn(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&tt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Xs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||or(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Xs(l),nu(a)){case 2:case 8:a=xt;break;case 32:a=bi;break;case 268435456:a=mo;break;default:a=bi}return l=Ly.bind(null,t),a=gn(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Xs(l),t.callbackPriority=2,t.callbackNode=null,2}function Ly(t,i){var a=t.callbackNode;if(Ma()&&t.callbackNode!==a)return null;var l=Ue;return l=bn(t,t===et?l:0),l===0?null:(wy(t,l,i),Py(t,cn()),t.callbackNode!=null&&t.callbackNode===a?Ly.bind(null,t):null)}function Uy(t,i){if(Ma())return null;wy(t,i,!0)}function QS(t){rA(function(){(ot&6)!==0?gn(wt,t):t()})}function rd(){return Vs===0&&(Vs=yo()),Vs}function zy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ni(""+t)}function jy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function YS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=zy((h[bt]||null).action),_=l.submitter;_&&(i=(i=_[bt]||null)?zy(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new ra("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vs!==0){var I=_?jy(h,_):new FormData(h);df(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?jy(h,_):new FormData(h),df(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var sd=0;sd<Mp.length;sd++){var ad=Mp[sd],XS=ad.toLowerCase(),ZS=ad[0].toUpperCase()+ad.slice(1);Fn(XS,"on"+ZS)}Fn(Cp,"onAnimationEnd"),Fn(Ip,"onAnimationIteration"),Fn(Dp,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(mS,"onTransitionRun"),Fn(pS,"onTransitionStart"),Fn(gS,"onTransitionCancel"),Fn(Op,"onTransitionEnd"),hn("onMouseEnter",["mouseout","mouseover"]),hn("onMouseLeave",["mouseout","mouseover"]),hn("onPointerEnter",["pointerout","pointerover"]),hn("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function By(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,P=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(Y){Bu(Y)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,P=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(Y){Bu(Y)}h.currentTarget=null,d=I}}}}function xe(t,i){var a=i[as];a===void 0&&(a=i[as]=new Set);var l=t+"__bubble";a.has(l)||(Hy(i,t,2,!1),a.add(l))}function od(t,i,a){var l=0;i&&(l|=4),Hy(a,t,l,i)}var nc="_reactListening"+Math.random().toString(36).slice(2);function ld(t){if(!t[nc]){t[nc]=!0,_o.forEach(function(a){a!=="selectionchange"&&(WS.has(a)||od(a,!1,t),od(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[nc]||(i[nc]=!0,od("selectionchange",!1,i))}}function Hy(t,i,a,l){switch(hv(i)){case 2:var h=wA;break;case 8:h=bA;break;default:h=Td}a=h.bind(null,i,a,t),h=void 0,!Dn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function ud(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&(I=_.stateNode.containerInfo,I===h||I.nodeType===8&&I.parentNode===h))return;_=_.return}for(;T!==null;){if(_=qn(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue e}T=T.parentNode}}l=l.return}ou(function(){var P=d,Y=ia(a),te=[];e:{var F=Np.get(t);if(F!==void 0){var Q=ra,pe=t;switch(t){case"keypress":if(ri(a)===0)break e;case"keydown":case"keyup":Q=ca;break;case"focusin":pe="focus",Q=oa;break;case"focusout":pe="blur",Q=oa;break;case"beforeblur":case"afterblur":Q=oa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=pu;break;case Cp:case Ip:case Dp:Q=la;break;case Op:Q=yu;break;case"scroll":case"scrollend":Q=lu;break;case"wheel":Q=ha;break;case"copy":case"cut":case"paste":Q=ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=No;break;case"toggle":case"beforetoggle":Q=_u}var Ae=(i&4)!==0,mt=!Ae&&(t==="scroll"||t==="scrollend"),U=Ae?F!==null?F+"Capture":null:F;Ae=[];for(var V=P,H;V!==null;){var W=V;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||U===null||(W=hs(V,U),W!=null&&Ae.push(ll(V,W,H))),mt)break;V=V.return}0<Ae.length&&(F=new Q(F,pe,null,a,Y),te.push({event:F,listeners:Ae}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==In&&(pe=a.relatedTarget||a.fromElement)&&(qn(pe)||pe[Ri]))break e;if((Q||F)&&(F=Y.window===Y?Y:(F=Y.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(pe=a.relatedTarget||a.toElement,Q=P,pe=pe?qn(pe):null,pe!==null&&(mt=he(pe),Ae=pe.tag,pe!==mt||Ae!==5&&Ae!==27&&Ae!==6)&&(pe=null)):(Q=null,pe=P),Q!==pe)){if(Ae=On,W="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=No,W="onPointerLeave",U="onPointerEnter",V="pointer"),mt=Q==null?F:dr(Q),H=pe==null?F:dr(pe),F=new Ae(W,V+"leave",Q,a,Y),F.target=mt,F.relatedTarget=H,W=null,qn(Y)===P&&(Ae=new Ae(U,V+"enter",pe,a,Y),Ae.target=H,Ae.relatedTarget=mt,W=Ae),mt=W,Q&&pe)t:{for(Ae=Q,U=pe,V=0,H=Ae;H;H=xa(H))V++;for(H=0,W=U;W;W=xa(W))H++;for(;0<V-H;)Ae=xa(Ae),V--;for(;0<H-V;)U=xa(U),H--;for(;V--;){if(Ae===U||U!==null&&Ae===U.alternate)break t;Ae=xa(Ae),U=xa(U)}Ae=null}else Ae=null;Q!==null&&qy(te,F,Q,Ae,!1),pe!==null&&mt!==null&&qy(te,mt,pe,Ae,!0)}}e:{if(F=P?dr(P):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var de=gp;else if(Ct(F))if(yp)de=cS;else{de=lS;var Oe=oS}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?P&&wo(P.elementType)&&(de=gp):de=uS;if(de&&(de=de(t,P))){xi(te,de,a,Y);break e}Oe&&Oe(t,F,P),t==="focusout"&&P&&F.type==="number"&&P.memoizedProps.value!=null&&na(F,"number",F.value)}switch(Oe=P?dr(P):window,t){case"focusin":(Ct(Oe)||Oe.contentEditable==="true")&&(fa=Oe,zh=P,xo=null);break;case"focusout":xo=zh=fa=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,bp(te,a,Y);break;case"selectionchange":if(dS)break;case"keydown":case"keyup":bp(te,a,Y)}var ge;if(oi)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Pe?G(t,a)&&(Ee="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(v&&a.locale!=="ko"&&(Pe||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Pe&&(ge=Ro()):(ii=Y,_r="value"in ii?ii.value:ii.textContent,Pe=!0)),Oe=ic(P,Ee),0<Oe.length&&(Ee=new Do(Ee,t,null,a,Y),te.push({event:Ee,listeners:Oe}),ge?Ee.data=ge:(ge=se(a),ge!==null&&(Ee.data=ge)))),(ge=g?Rt(t,a):Le(t,a))&&(Ee=ic(P,"onBeforeInput"),0<Ee.length&&(Oe=new Do("onBeforeInput","beforeinput",null,a,Y),te.push({event:Oe,listeners:Ee}),Oe.data=ge)),YS(te,t,P,a,Y)}By(te,i)})}function ll(t,i,a){return{instance:t,listener:i,currentTarget:a}}function ic(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=hs(t,a),h!=null&&l.unshift(ll(t,h,d)),h=hs(t,i),h!=null&&l.push(ll(t,h,d))),t=t.return}return l}function xa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qy(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,I=T.alternate,P=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||P===null||(I=P,h?(P=hs(a,d),P!=null&&_.unshift(ll(a,P,I))):h||(P=hs(a,d),P!=null&&_.push(ll(a,P,I)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var JS=/\r\n?/g,eA=/\u0000|\uFFFD/g;function Fy(t){return(typeof t=="string"?t:""+t).replace(JS,`
`).replace(eA,"")}function Gy(t,i){return i=Fy(i),Fy(t)===i}function rc(){}function Ze(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Cn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Cn(t,""+l);break;case"className":gr(t,"class",l);break;case"tabIndex":gr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gr(t,a,l);break;case"style":au(t,l,d);break;case"data":if(i!=="object"){gr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ni(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",h.name,h,null),Ze(t,i,"formEncType",h.formEncType,h,null),Ze(t,i,"formMethod",h.formMethod,h,null),Ze(t,i,"formTarget",h.formTarget,h,null)):(Ze(t,i,"encType",h.encType,h,null),Ze(t,i,"method",h.method,h,null),Ze(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ni(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=rc);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ni(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),pr(t,"popover",l);break;case"xlinkActuate":Rn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mh.get(a)||a,pr(t,a,l))}}function cd(t,i,a,l,h,d){switch(a){case"style":au(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Cn(t,l):(typeof l=="number"||typeof l=="bigint")&&Cn(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ea.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[bt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):pr(t,a,l)}}}function $t(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,_,a,null)}}h&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var T=d=_=h=null,I=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":_=Y;break;case"checked":I=Y;break;case"defaultChecked":P=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Ze(t,i,l,Y,a,null)}}us(t,d,T,I,P,_,h,!1),ls(t);return;case"select":xe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Ze(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Fe(t,!!l,i,!1):a!=null&&Fe(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ze(t,i,_,T,a,null)}vr(t,l,h,d),ls(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,I,l,a,null)}return;case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<ol.length;l++)xe(ol[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,P,l,a,null)}return;default:if(wo(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&cd(t,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ze(t,i,T,l,a,null))}function tA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,P=null,Y=null;for(Q in a){var te=a[Q];if(a.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=te;default:l.hasOwnProperty(Q)||Ze(t,i,Q,null,l,te)}}for(var F in l){var Q=l[F];if(te=a[F],l.hasOwnProperty(F)&&(Q!=null||te!=null))switch(F){case"type":d=Q;break;case"name":h=Q;break;case"checked":P=Q;break;case"defaultChecked":Y=Q;break;case"value":_=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==te&&Ze(t,i,F,Q,l,te)}}yr(t,_,T,I,P,Y,d,h);return;case"select":Q=_=T=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&Ze(t,i,h,d,l,I)}i=T,a=_,l=Q,F!=null?Fe(t,!!a,F,!1):!!l!=!!a&&(i!=null?Fe(t,!!a,i,!0):Fe(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ze(t,i,_,h,l,d)}cs(t,F,Q);return;case"option":for(var pe in a)if(F=a[pe],a.hasOwnProperty(pe)&&F!=null&&!l.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:Ze(t,i,pe,null,l,F)}for(I in l)if(F=l[I],Q=a[I],l.hasOwnProperty(I)&&F!==Q&&(F!=null||Q!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Ze(t,i,I,F,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)F=a[Ae],a.hasOwnProperty(Ae)&&F!=null&&!l.hasOwnProperty(Ae)&&Ze(t,i,Ae,null,l,F);for(P in l)if(F=l[P],Q=a[P],l.hasOwnProperty(P)&&F!==Q&&(F!=null||Q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Ze(t,i,P,F,l,Q)}return;default:if(wo(i)){for(var mt in a)F=a[mt],a.hasOwnProperty(mt)&&F!==void 0&&!l.hasOwnProperty(mt)&&cd(t,i,mt,void 0,l,F);for(Y in l)F=l[Y],Q=a[Y],!l.hasOwnProperty(Y)||F===Q||F===void 0&&Q===void 0||cd(t,i,Y,F,l,Q);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&Ze(t,i,U,null,l,F);for(te in l)F=l[te],Q=a[te],!l.hasOwnProperty(te)||F===Q||F==null&&Q==null||Ze(t,i,te,F,l,Q)}var hd=null,fd=null;function sc(t){return t.nodeType===9?t:t.ownerDocument}function Ky(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $y(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function dd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var md=null;function nA(){var t=window.event;return t&&t.type==="popstate"?t===md?!1:(md=t,!0):(md=null,!1)}var Qy=typeof setTimeout=="function"?setTimeout:void 0,iA=typeof clearTimeout=="function"?clearTimeout:void 0,Yy=typeof Promise=="function"?Promise:void 0,rA=typeof queueMicrotask=="function"?queueMicrotask:typeof Yy<"u"?function(t){return Yy.resolve(null).then(t).catch(sA)}:Qy;function sA(t){setTimeout(function(){throw t})}function pd(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),gl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);gl(i)}function gd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gd(a),os(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function aA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function oA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=$n(t.nextSibling),t===null))return null;return t}function $n(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function Xy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Zy(t,i,a){switch(i=sc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var jn=new Map,Wy=new Set;function ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Yi=re.d;re.d={f:lA,r:uA,D:cA,C:hA,L:fA,m:dA,X:pA,S:mA,M:gA};function lA(){var t=Yi.f(),i=Wu();return t||i}function uA(t){var i=Ci(t);i!==null&&i.tag===5&&i.type==="form"?bg(i):Yi.r(t)}var Va=typeof document>"u"?null:document;function Jy(t,i,a){var l=Va;if(l&&typeof i=="string"&&i){var h=ht(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Wy.has(h)||(Wy.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),$t(i,"link",t),st(i),l.head.appendChild(i)))}}function cA(t){Yi.D(t),Jy("dns-prefetch",t,null)}function hA(t,i){Yi.C(t,i),Jy("preconnect",t,i)}function fA(t,i,a){Yi.L(t,i,a);var l=Va;if(l&&t&&i){var h='link[rel="preload"][as="'+ht(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ht(a.imageSizes)+'"]')):h+='[href="'+ht(t)+'"]';var d=h;switch(i){case"style":d=Pa(t);break;case"script":d=La(t)}jn.has(d)||(t=C({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),jn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(ul(d))||i==="script"&&l.querySelector(cl(d))||(i=l.createElement("link"),$t(i,"link",t),st(i),l.head.appendChild(i)))}}function dA(t,i){Yi.m(t,i);var a=Va;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ht(l)+'"][href="'+ht(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=La(t)}if(!jn.has(d)&&(t=C({rel:"modulepreload",href:t},i),jn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cl(d)))return}l=a.createElement("link"),$t(l,"link",t),st(l),a.head.appendChild(l)}}}function mA(t,i,a){Yi.S(t,i,a);var l=Va;if(l&&t){var h=mr(l).hoistableStyles,d=Pa(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(ul(d)))T.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":i},a),(a=jn.get(d))&&yd(t,a);var I=_=l.createElement("link");st(I),$t(I,"link",t),I._p=new Promise(function(P,Y){I.onload=P,I.onerror=Y}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,oc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function pA(t,i){Yi.X(t,i);var a=Va;if(a&&t){var l=mr(a).hoistableScripts,h=La(t),d=l.get(h);d||(d=a.querySelector(cl(h)),d||(t=C({src:t,async:!0},i),(i=jn.get(h))&&vd(t,i),d=a.createElement("script"),st(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function gA(t,i){Yi.M(t,i);var a=Va;if(a&&t){var l=mr(a).hoistableScripts,h=La(t),d=l.get(h);d||(d=a.querySelector(cl(h)),d||(t=C({src:t,async:!0,type:"module"},i),(i=jn.get(h))&&vd(t,i),d=a.createElement("script"),st(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ev(t,i,a,l){var h=(h=nt.current)?ac(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Pa(a.href),a=mr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Pa(a.href);var d=mr(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(ul(t)))&&!d._p&&(_.instance=d,_.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||yA(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=La(a),a=mr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Pa(t){return'href="'+ht(t)+'"'}function ul(t){return'link[rel="stylesheet"]['+t+"]"}function tv(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function yA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),$t(i,"link",a),st(i),t.head.appendChild(i))}function La(t){return'[src="'+ht(t)+'"]'}function cl(t){return"script[async]"+t}function nv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ht(a.href)+'"]');if(l)return i.instance=l,st(l),l;var h=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),st(l),$t(l,"style",h),oc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Pa(a.href);var d=t.querySelector(ul(h));if(d)return i.state.loading|=4,i.instance=d,st(d),d;l=tv(a),(h=jn.get(h))&&yd(l,h),d=(t.ownerDocument||t).createElement("link"),st(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),$t(d,"link",l),i.state.loading|=4,oc(d,a.precedence,t),i.instance=d;case"script":return d=La(a.src),(h=t.querySelector(cl(d)))?(i.instance=h,st(h),h):(l=a,(h=jn.get(d))&&(l=C({},a),vd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),st(h),$t(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,oc(l,a.precedence,t));return i.instance}function oc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function yd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function vd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var lc=null;function iv(t,i,a){if(lc===null){var l=new Map,h=lc=new Map;h.set(a,l)}else h=lc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[fr]||d[Vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function rv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function vA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function sv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var hl=null;function _A(){}function EA(t,i,a){if(hl===null)throw Error(s(475));var l=hl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Pa(a.href),d=t.querySelector(ul(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=uc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,st(d);return}d=t.ownerDocument||t,a=tv(a),(h=jn.get(h))&&yd(a,h),d=d.createElement("link"),st(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),$t(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=uc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function TA(){if(hl===null)throw Error(s(475));var t=hl;return t.stylesheets&&t.count===0&&_d(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&_d(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function uc(){if(this.count--,this.count===0){if(this.stylesheets)_d(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var cc=null;function _d(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,cc=new Map,i.forEach(SA,t),cc=null,uc.call(t))}function SA(t,i){if(!(i.state.loading&4)){var a=cc.get(t);if(a)var l=a.get(null);else{a=new Map,cc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var fl={$$typeof:x,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function AA(t,i,a,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ws(0),this.hiddenUpdates=Ws(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function av(t,i,a,l,h,d,_,T,I,P,Y,te){return t=new AA(t,i,a,_,T,I,P,te),i=1,d===!0&&(i|=24),d=Un(3,null,null,i),t.current=d,d.stateNode=t,i=Xh(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Nf(d),t}function ov(t){return t?(t=pa,t):pa}function lv(t,i,a,l,h,d){h=ov(h),l.context===null?l.context=h:l.pendingContext=h,l=Cr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ir(t,l,i),a!==null&&(ln(a,t,i),Yo(a,t,i))}function uv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Ed(t,i){uv(t,i),(t=t.alternate)&&uv(t,i)}function cv(t){if(t.tag===13){var i=Er(t,67108864);i!==null&&ln(i,t,67108864),Ed(t,67108864)}}var hc=!0;function wA(t,i,a,l){var h=S.T;S.T=null;var d=re.p;try{re.p=2,Td(t,i,a,l)}finally{re.p=d,S.T=h}}function bA(t,i,a,l){var h=S.T;S.T=null;var d=re.p;try{re.p=8,Td(t,i,a,l)}finally{re.p=d,S.T=h}}function Td(t,i,a,l){if(hc){var h=Sd(l);if(h===null)ud(t,i,l,fc,a),fv(t,l);else if(CA(h,t,i,a,l))l.stopPropagation();else if(fv(t,l),i&4&&-1<RA.indexOf(t)){for(;h!==null;){var d=Ci(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Hn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-rn(_);T.entanglements[1]|=I,_&=~I}di(d),(ot&6)===0&&(Yu=cn()+500,al(0))}}break;case 13:T=Er(d,2),T!==null&&ln(T,d,2),Wu(),Ed(d,2)}if(d=Sd(l),d===null&&ud(t,i,l,fc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else ud(t,i,l,null,a)}}function Sd(t){return t=ia(t),Ad(t)}var fc=null;function Ad(t){if(fc=null,t=qn(t),t!==null){var i=he(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=be(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return fc=t,null}function hv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zl()){case wt:return 2;case xt:return 8;case bi:case Wl:return 32;case mo:return 268435456;default:return 32}default:return 32}}var wd=!1,Vr=null,Pr=null,Lr=null,dl=new Map,ml=new Map,Ur=[],RA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fv(t,i){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(i.pointerId)}}function pl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ci(i),i!==null&&cv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function CA(t,i,a,l,h){switch(i){case"focusin":return Vr=pl(Vr,t,i,a,l,h),!0;case"dragenter":return Pr=pl(Pr,t,i,a,l,h),!0;case"mouseover":return Lr=pl(Lr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return dl.set(d,pl(dl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ml.set(d,pl(ml.get(d)||null,t,i,a,l,h)),!0}return!1}function dv(t){var i=qn(t.target);if(i!==null){var a=he(i);if(a!==null){if(i=a.tag,i===13){if(i=be(a),i!==null){t.blockedOn=i,hr(t.priority,function(){if(a.tag===13){var l=An(),h=Er(a,l);h!==null&&ln(h,a,l),Ed(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Sd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);In=l,a.target.dispatchEvent(l),In=null}else return i=Ci(a),i!==null&&cv(i),t.blockedOn=a,!1;i.shift()}return!0}function mv(t,i,a){dc(t)&&a.delete(i)}function IA(){wd=!1,Vr!==null&&dc(Vr)&&(Vr=null),Pr!==null&&dc(Pr)&&(Pr=null),Lr!==null&&dc(Lr)&&(Lr=null),dl.forEach(mv),ml.forEach(mv)}function mc(t,i){t.blockedOn===i&&(t.blockedOn=null,wd||(wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,IA)))}var pc=null;function pv(t){pc!==t&&(pc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){pc===t&&(pc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Ad(l||a)===null)continue;break}var d=Ci(a);d!==null&&(t.splice(i,3),i-=3,df(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function gl(t){function i(I){return mc(I,t)}Vr!==null&&mc(Vr,t),Pr!==null&&mc(Pr,t),Lr!==null&&mc(Lr,t),dl.forEach(i),ml.forEach(i);for(var a=0;a<Ur.length;a++){var l=Ur[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ur.length&&(a=Ur[0],a.blockedOn===null);)dv(a),a.blockedOn===null&&Ur.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[bt]||null;if(typeof d=="function")_||pv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[bt]||null)T=_.formAction;else if(Ad(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),pv(a)}}}function bd(t){this._internalRoot=t}gc.prototype.render=bd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=An();lv(a,l,t,i,null,null)},gc.prototype.unmount=bd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Ma(),lv(t.current,2,null,t,null,null),Wu(),i[Ri]=null}};function gc(t){this._internalRoot=t}gc.prototype.unstable_scheduleHydration=function(t){if(t){var i=iu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Ur.length&&i!==0&&i<Ur[a].priority;a++);Ur.splice(a,0,t),a===0&&dv(t)}};var gv=e.version;if(gv!=="19.0.0")throw Error(s(527,gv,"19.0.0"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=X(i),t=t!==null?ae(t):null,t=t===null?null:t.stateNode,t};var DA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:qn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{sr=yc.inject(DA),Xt=yc}catch{}}return vl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=kg,d=xg,_=Vg,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=av(t,1,!1,null,null,a,l,h,d,_,T,null),t[Ri]=i.current,ld(t.nodeType===8?t.parentNode:t),new bd(i)},vl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=kg,_=xg,T=Vg,I=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),i=av(t,1,!0,i,a??null,l,h,d,_,T,I,P),i.context=ov(null),a=i.current,l=An(),h=Cr(l),h.callback=null,Ir(a,h,l),i.current.lanes=l,gt(i,l),di(i),t[Ri]=i.current,ld(t),new gc(i)},vl.version="19.0.0",vl}var Rv;function jA(){if(Rv)return Id.exports;Rv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Id.exports=zA(),Id.exports}var BA=jA(),_l={},Cv;function HA(){if(Cv)return _l;Cv=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.parse=f,_l.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const D=function(){};return D.prototype=Object.create(null),D})();function f(D,x){const L=new u,q=D.length;if(q<2)return L;const j=(x==null?void 0:x.decode)||E;let B=0;do{const ee=D.indexOf("=",B);if(ee===-1)break;const Z=D.indexOf(";",B),ue=Z===-1?q:Z;if(ee>ue){B=D.lastIndexOf(";",ee-1)+1;continue}const ce=m(D,B,ee),ie=p(D,ee,ce),R=D.slice(ce,ie);if(L[R]===void 0){let w=m(D,ee+1,ue),S=p(D,ue,w);const C=j(D.slice(w,S));L[R]=C}B=ue+1}while(B<q);return L}function m(D,x,L){do{const q=D.charCodeAt(x);if(q!==32&&q!==9)return x}while(++x<L);return L}function p(D,x,L){for(;x>L;){const q=D.charCodeAt(--x);if(q!==32&&q!==9)return x+1}return L}function y(D,x,L){const q=(L==null?void 0:L.encode)||encodeURIComponent;if(!r.test(D))throw new TypeError(`argument name is invalid: ${D}`);const j=q(x);if(!e.test(j))throw new TypeError(`argument val is invalid: ${x}`);let B=D+"="+j;if(!L)return B;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);B+="; Max-Age="+L.maxAge}if(L.domain){if(!n.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);B+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);B+="; Path="+L.path}if(L.expires){if(!b(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);B+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(B+="; HttpOnly"),L.secure&&(B+="; Secure"),L.partitioned&&(B+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return B}function E(D){if(D.indexOf("%")===-1)return D;try{return decodeURIComponent(D)}catch{return D}}function b(D){return o.call(D)==="[object Date]"}return _l}HA();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Iv="popstate";function qA(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Wd("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ml(o)}return GA(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function _i(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FA(){return Math.random().toString(36).substring(2,10)}function Dv(r,e){return{usr:r.state,key:r.key,idx:e}}function Wd(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?io(e):e,state:n,key:e&&e.key||s||FA()}}function Ml({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function io(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function GA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let j=E(),B=j==null?null:j-y;y=j,p&&p({action:m,location:q.location,delta:B})}function D(j,B){m="PUSH";let ee=Wd(q.location,j,B);y=E()+1;let Z=Dv(ee,y),ue=q.createHref(ee);try{f.pushState(Z,"",ue)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(ue)}u&&p&&p({action:m,location:q.location,delta:1})}function x(j,B){m="REPLACE";let ee=Wd(q.location,j,B);y=E();let Z=Dv(ee,y),ue=q.createHref(ee);f.replaceState(Z,"",ue),u&&p&&p({action:m,location:q.location,delta:0})}function L(j){let B=o.location.origin!=="null"?o.location.origin:o.location.href,ee=typeof j=="string"?j:Ml(j);return ee=ee.replace(/ $/,"%20"),lt(B,`No window.location.(origin|href) available to create URL for href: ${ee}`),new URL(ee,B)}let q={get action(){return m},get location(){return r(o,f)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Iv,b),p=j,()=>{o.removeEventListener(Iv,b),p=null}},createHref(j){return e(o,j)},createURL:L,encodeLocation(j){let B=L(j);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:D,replace:x,go(j){return f.go(j)}};return q}function gE(r,e,n="/"){return KA(r,e,n,!1)}function KA(r,e,n,s){let o=typeof e=="string"?io(e):e,u=er(o.pathname||"/",n);if(u==null)return null;let f=yE(r);$A(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=rw(u);m=nw(f[p],y,s)}return m}function yE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Ji([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),yE(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:ew(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of vE(u.path))o(u,f,p)}),e}function vE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=vE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function $A(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:tw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var QA=/^:[\w-]+$/,YA=3,XA=2,ZA=1,WA=10,JA=-2,Ov=r=>r==="*";function ew(r,e){let n=r.split("/"),s=n.length;return n.some(Ov)&&(s+=JA),e&&(s+=XA),n.filter(o=>!Ov(o)).reduce((o,u)=>o+(QA.test(u)?YA:u===""?ZA:WA),s)}function tw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function nw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),D=p.route;if(!b&&y&&n&&!s[s.length-1].route.index&&(b=Uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:Ji([u,b.pathname]),pathnameBase:lw(Ji([u,b.pathnameBase])),route:D}),b.pathnameBase!=="/"&&(u=Ji([u,b.pathnameBase]))}return f}function Uc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=iw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},D)=>{if(E==="*"){let L=m[D]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const x=m[D];return b&&!x?y[E]=void 0:y[E]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function iw(r,e=!1,n=!0){_i(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function rw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _i(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function er(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function sw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?io(r):r;return{pathname:n?n.startsWith("/")?n:aw(n,e):e,search:uw(s),hash:cw(o)}}function aw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Md(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ow(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _E(r){let e=ow(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function EE(r,e,n,s=!1){let o;typeof r=="string"?o=io(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),Md("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Md("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Md("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let D=f.split("/");for(;D[0]==="..";)D.shift(),b-=1;o.pathname=D.join("/")}m=b>=0?e[b]:"/"}let p=sw(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Ji=r=>r.join("/").replace(/\/\/+/g,"/"),lw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),uw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,cw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function hw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var TE=["POST","PUT","PATCH","DELETE"];new Set(TE);var fw=["GET",...TE];new Set(fw);var ro=$.createContext(null);ro.displayName="DataRouter";var sh=$.createContext(null);sh.displayName="DataRouterState";var SE=$.createContext({isTransitioning:!1});SE.displayName="ViewTransition";var dw=$.createContext(new Map);dw.displayName="Fetchers";var mw=$.createContext(null);mw.displayName="Await";var Ai=$.createContext(null);Ai.displayName="Navigation";var jl=$.createContext(null);jl.displayName="Location";var rr=$.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var Cm=$.createContext(null);Cm.displayName="RouteError";function pw(r,{relative:e}={}){lt(Bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=$.useContext(Ai),{hash:o,pathname:u,search:f}=Hl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Ji([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Bl(){return $.useContext(jl)!=null}function Gs(){return lt(Bl(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(jl).location}var AE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wE(r){$.useContext(Ai).static||$.useLayoutEffect(r)}function bE(){let{isDataRoute:r}=$.useContext(rr);return r?Iw():gw()}function gw(){lt(Bl(),"useNavigate() may be used only in the context of a <Router> component.");let r=$.useContext(ro),{basename:e,navigator:n}=$.useContext(Ai),{matches:s}=$.useContext(rr),{pathname:o}=Gs(),u=JSON.stringify(_E(s)),f=$.useRef(!1);return wE(()=>{f.current=!0}),$.useCallback((p,y={})=>{if(_i(f.current,AE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=EE(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ji([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}$.createContext(null);function Hl(r,{relative:e}={}){let{matches:n}=$.useContext(rr),{pathname:s}=Gs(),o=JSON.stringify(_E(n));return $.useMemo(()=>EE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function yw(r,e){return RE(r,e)}function RE(r,e,n,s){var ee;lt(Bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=$.useContext(Ai),{matches:f}=$.useContext(rr),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let Z=b&&b.path||"";CE(y,!b||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let D=Gs(),x;if(e){let Z=typeof e=="string"?io(e):e;lt(E==="/"||((ee=Z.pathname)==null?void 0:ee.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),x=Z}else x=D;let L=x.pathname||"/",q=L;if(E!=="/"){let Z=E.replace(/^\//,"").split("/");q="/"+L.replace(/^\//,"").split("/").slice(Z.length).join("/")}let j=!u&&n&&n.matches&&n.matches.length>0?n.matches:gE(r,{pathname:q});_i(b||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),_i(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=Sw(j&&j.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:Ji([E,o.encodeLocation?o.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?E:Ji([E,o.encodeLocation?o.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),f,n,s);return e&&B?$.createElement(jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},B):B}function vw(){let r=Cw(),e=hw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:u},"ErrorBoundary")," or"," ",$.createElement("code",{style:u},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:o},n):null,f)}var _w=$.createElement(vw,null),Ew=class extends $.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?$.createElement(rr.Provider,{value:this.props.routeContext},$.createElement(Cm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Tw({routeContext:r,match:e,children:n}){let s=$.useContext(ro);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(rr.Provider,{value:r},n)}function Sw(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:b}=n,D=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||D){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let b,D=!1,x=null,L=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,x=y.route.errorElement||_w,f&&(m<0&&E===0?(CE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,L=null):m===E&&(D=!0,L=y.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,E+1)),j=()=>{let B;return b?B=x:D?B=L:y.route.Component?B=$.createElement(y.route.Component,null):y.route.element?B=y.route.element:B=p,$.createElement(Tw,{match:y,routeContext:{outlet:p,matches:q,isDataRoute:n!=null},children:B})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?$.createElement(Ew,{location:n.location,revalidation:n.revalidation,component:x,error:b,children:j(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):j()},null)}function Im(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Aw(r){let e=$.useContext(ro);return lt(e,Im(r)),e}function ww(r){let e=$.useContext(sh);return lt(e,Im(r)),e}function bw(r){let e=$.useContext(rr);return lt(e,Im(r)),e}function Dm(r){let e=bw(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Rw(){return Dm("useRouteId")}function Cw(){var s;let r=$.useContext(Cm),e=ww("useRouteError"),n=Dm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function Iw(){let{router:r}=Aw("useNavigate"),e=Dm("useNavigate"),n=$.useRef(!1);return wE(()=>{n.current=!0}),$.useCallback(async(o,u={})=>{_i(n.current,AE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Nv={};function CE(r,e,n){!e&&!Nv[r]&&(Nv[r]=!0,_i(!1,n))}$.memo(Dw);function Dw({routes:r,future:e,state:n}){return RE(r,void 0,n,e)}function IE(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ow({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){lt(!Bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=$.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=io(n));let{pathname:p="/",search:y="",hash:E="",state:b=null,key:D="default"}=n,x=$.useMemo(()=>{let L=er(p,f);return L==null?null:{location:{pathname:L,search:y,hash:E,state:b,key:D},navigationType:s}},[f,p,y,E,b,D,s]);return _i(x!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:$.createElement(Ai.Provider,{value:m},$.createElement(jl.Provider,{children:e,value:x}))}function Nw({children:r,location:e}){return yw(Jd(r),e)}function Jd(r,e=[]){let n=[];return $.Children.forEach(r,(s,o)=>{if(!$.isValidElement(s))return;let u=[...e,o];if(s.type===$.Fragment){n.push.apply(n,Jd(s.props.children,u));return}lt(s.type===IE,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Jd(s.props.children,u)),n.push(f)}),n}var Rc="get",Cc="application/x-www-form-urlencoded";function ah(r){return r!=null&&typeof r.tagName=="string"}function Mw(r){return ah(r)&&r.tagName.toLowerCase()==="button"}function kw(r){return ah(r)&&r.tagName.toLowerCase()==="form"}function xw(r){return ah(r)&&r.tagName.toLowerCase()==="input"}function Vw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Pw(r,e){return r.button===0&&(!e||e==="_self")&&!Vw(r)}var vc=null;function Lw(){if(vc===null)try{new FormData(document.createElement("form"),0),vc=!1}catch{vc=!0}return vc}var Uw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kd(r){return r!=null&&!Uw.has(r)?(_i(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cc}"`),null):r}function zw(r,e){let n,s,o,u,f;if(kw(r)){let m=r.getAttribute("action");s=m?er(m,e):null,n=r.getAttribute("method")||Rc,o=kd(r.getAttribute("enctype"))||Cc,u=new FormData(r)}else if(Mw(r)||xw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?er(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Rc,o=kd(r.getAttribute("formenctype"))||kd(m.getAttribute("enctype"))||Cc,u=new FormData(m,r),!Lw()){let{name:y,type:E,value:b}=r;if(E==="image"){let D=y?`${y}.`:"";u.append(`${D}x`,"0"),u.append(`${D}y`,"0")}else y&&u.append(y,b)}}else{if(ah(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rc,s=null,o=Cc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Om(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function jw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Bw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Hw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await jw(u,n);return f.links?f.links():[]}return[]}));return Kw(s.flat(1).filter(Bw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Mv(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let D=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof D=="boolean")return D}return!0}):[]}function qw(r,e,{includeHydrateFallback:n}={}){return Fw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Fw(r){return[...new Set(r)]}function Gw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Kw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Gw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function $w(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&er(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function DE(){let r=$.useContext(ro);return Om(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Qw(){let r=$.useContext(sh);return Om(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Nm=$.createContext(void 0);Nm.displayName="FrameworkContext";function OE(){let r=$.useContext(Nm);return Om(r,"You must render this element inside a <HydratedRouter> element"),r}function Yw(r,e){let n=$.useContext(Nm),[s,o]=$.useState(!1),[u,f]=$.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,D=$.useRef(null);$.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let q=B=>{B.forEach(ee=>{f(ee.isIntersecting)})},j=new IntersectionObserver(q,{threshold:.5});return D.current&&j.observe(D.current),()=>{j.disconnect()}}},[r]),$.useEffect(()=>{if(s){let q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(q)}}},[s]);let x=()=>{o(!0)},L=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,D,{}]:[u,D,{onFocus:El(m,x),onBlur:El(p,L),onMouseEnter:El(y,x),onMouseLeave:El(E,L),onTouchStart:El(b,x)}]:[!1,D,{}]}function El(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Xw({page:r,...e}){let{router:n}=DE(),s=$.useMemo(()=>gE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?$.createElement(Ww,{page:r,matches:s,...e}):null}function Zw(r){let{manifest:e,routeModules:n}=OE(),[s,o]=$.useState([]);return $.useEffect(()=>{let u=!1;return Hw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Ww({page:r,matches:e,...n}){let s=Gs(),{manifest:o,routeModules:u}=OE(),{basename:f}=DE(),{loaderData:m,matches:p}=Qw(),y=$.useMemo(()=>Mv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=$.useMemo(()=>Mv(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=$.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let L=new Set,q=!1;if(e.forEach(B=>{var Z;let ee=o.routes[B.route.id];!ee||!ee.hasLoader||(!y.some(ue=>ue.route.id===B.route.id)&&B.route.id in m&&((Z=u[B.route.id])!=null&&Z.shouldRevalidate)||ee.hasClientLoader?q=!0:L.add(B.route.id))}),L.size===0)return[];let j=$w(r,f);return q&&L.size>0&&j.searchParams.set("_routes",e.filter(B=>L.has(B.route.id)).map(B=>B.route.id).join(",")),[j.pathname+j.search]},[f,m,s,o,y,e,r,u]),D=$.useMemo(()=>qw(E,o),[E,o]),x=Zw(E);return $.createElement($.Fragment,null,b.map(L=>$.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),D.map(L=>$.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),x.map(({key:L,link:q})=>$.createElement("link",{key:L,...q})))}function Jw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var NE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NE&&(window.__reactRouterVersion="7.4.0")}catch{}function eb({basename:r,children:e,window:n}){let s=$.useRef();s.current==null&&(s.current=qA({window:n,v5Compat:!0}));let o=s.current,[u,f]=$.useState({action:o.action,location:o.location}),m=$.useCallback(p=>{$.startTransition(()=>f(p))},[f]);return $.useLayoutEffect(()=>o.listen(m),[o,m]),$.createElement(Ow,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var ME=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zc=$.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:b,...D},x){let{basename:L}=$.useContext(Ai),q=typeof y=="string"&&ME.test(y),j,B=!1;if(typeof y=="string"&&q&&(j=y,NE))try{let S=new URL(window.location.href),C=y.startsWith("//")?new URL(S.protocol+y):new URL(y),N=er(C.pathname,L);C.origin===S.origin&&N!=null?y=N+C.search+C.hash:B=!0}catch{_i(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=pw(y,{relative:o}),[Z,ue,ce]=Yw(s,D),ie=rb(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function R(S){e&&e(S),S.defaultPrevented||ie(S)}let w=$.createElement("a",{...D,...ce,href:j||ee,onClick:B||u?e:R,ref:Jw(x,ue),target:p,"data-discover":!q&&n==="render"?"true":void 0});return Z&&!q?$.createElement($.Fragment,null,w,$.createElement(Xw,{page:ee})):w});zc.displayName="Link";var tb=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let b=Hl(f,{relative:y.relative}),D=Gs(),x=$.useContext(sh),{navigator:L,basename:q}=$.useContext(Ai),j=x!=null&&ub(b)&&m===!0,B=L.encodeLocation?L.encodeLocation(b).pathname:b.pathname,ee=D.pathname,Z=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),Z=Z?Z.toLowerCase():null,B=B.toLowerCase()),Z&&q&&(Z=er(Z,q)||Z);const ue=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ce=ee===B||!o&&ee.startsWith(B)&&ee.charAt(ue)==="/",ie=Z!=null&&(Z===B||!o&&Z.startsWith(B)&&Z.charAt(B.length)==="/"),R={isActive:ce,isPending:ie,isTransitioning:j},w=ce?e:void 0,S;typeof s=="function"?S=s(R):S=[s,ce?"active":null,ie?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let C=typeof u=="function"?u(R):u;return $.createElement(zc,{...y,"aria-current":w,className:S,ref:E,style:C,to:f,viewTransition:m},typeof p=="function"?p(R):p)});tb.displayName="NavLink";var nb=$.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Rc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:b,...D},x)=>{let L=ob(),q=lb(m,{relative:y}),j=f.toLowerCase()==="get"?"get":"post",B=typeof m=="string"&&ME.test(m),ee=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let ue=Z.nativeEvent.submitter,ce=(ue==null?void 0:ue.getAttribute("formmethod"))||f;L(ue||Z.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:b})};return $.createElement("form",{ref:x,method:j,action:q,onSubmit:s?p:ee,...D,"data-discover":!B&&r==="render"?"true":void 0})});nb.displayName="Form";function ib(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kE(r){let e=$.useContext(ro);return lt(e,ib(r)),e}function rb(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=bE(),p=Gs(),y=Hl(r,{relative:u});return $.useCallback(E=>{if(Pw(E,e)){E.preventDefault();let b=n!==void 0?n:Ml(p)===Ml(y);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var sb=0,ab=()=>`__${String(++sb)}__`;function ob(){let{router:r}=kE("useSubmit"),{basename:e}=$.useContext(Ai),n=Rw();return $.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=zw(s,e);if(o.navigate===!1){let E=o.fetcherKey||ab();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function lb(r,{relative:e}={}){let{basename:n}=$.useContext(Ai),s=$.useContext(rr);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Hl(r||".",{relative:e})},f=Gs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ji([n,u.pathname])),Ml(u)}function ub(r,e={}){let n=$.useContext(SE);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=kE("useViewTransitionState"),o=Hl(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=er(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=er(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Uc(o.pathname,f)!=null||Uc(o.pathname,u)!=null}new TextEncoder;const xE="/Ruslana_Cakes/assets/logo_text_light-DiZRjzKz.png",jc=r=>{const e=document.getElementById(r);e&&e.scrollIntoView({behavior:"smooth"})},cb="_links_1kkya_1",hb={links:cb},VE=()=>K.jsxs("div",{className:hb.links,children:[K.jsxs("a",{href:"https://www.instagram.com/ruslanacakes/",target:"blank",children:[K.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/174/174855.png",alt:"Instagram"}),K.jsx("span",{})]}),K.jsxs("a",{href:"https://vk.com/ruslanacakes",target:"blank",children:[K.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/145/145813.png",alt:"VK"}),K.jsx("span",{})]}),K.jsxs("a",{href:"https://t.me/ruslanacakes",target:"blank",children:[K.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/2111/2111646.png",alt:"Telegram"}),K.jsx("span",{})]})]});var Ic={exports:{}},fb=Ic.exports,kv;function db(){return kv||(kv=1,function(r,e){(function(n,s){r.exports=s(rh())})(fb,function(n){return function(s){function o(f){if(u[f])return u[f].exports;var m=u[f]={exports:{},id:f,loaded:!1};return s[f].call(m.exports,m,m.exports,o),m.loaded=!0,m.exports}var u={};return o.m=s,o.c=u,o.p="",o(0)}([function(s,o,u){function f(ie){return ie&&ie.__esModule?ie:{default:ie}}function m(ie,R){var w={};for(var S in ie)R.indexOf(S)>=0||Object.prototype.hasOwnProperty.call(ie,S)&&(w[S]=ie[S]);return w}function p(ie,R){if(!(ie instanceof R))throw new TypeError("Cannot call a class as a function")}function y(ie,R){if(!ie)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||typeof R!="object"&&typeof R!="function"?ie:R}function E(ie,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);ie.prototype=Object.create(R&&R.prototype,{constructor:{value:ie,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(ie,R):ie.__proto__=R)}Object.defineProperty(o,"__esModule",{value:!0}),o.conformToMask=void 0;var b=Object.assign||function(ie){for(var R=1;R<arguments.length;R++){var w=arguments[R];for(var S in w)Object.prototype.hasOwnProperty.call(w,S)&&(ie[S]=w[S])}return ie},D=function(){function ie(R,w){for(var S=0;S<w.length;S++){var C=w[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(R,C.key,C)}}return function(R,w,S){return w&&ie(R.prototype,w),S&&ie(R,S),R}}(),x=u(3);Object.defineProperty(o,"conformToMask",{enumerable:!0,get:function(){return f(x).default}});var L=u(11),q=f(L),j=u(9),B=f(j),ee=u(5),Z=f(ee),ue=u(2),ce=function(ie){function R(){var w;p(this,R);for(var S=arguments.length,C=Array(S),N=0;N<S;N++)C[N]=arguments[N];var M=y(this,(w=R.__proto__||Object.getPrototypeOf(R)).call.apply(w,[this].concat(C)));return M.setRef=M.setRef.bind(M),M.onBlur=M.onBlur.bind(M),M.onChange=M.onChange.bind(M),M}return E(R,ie),D(R,[{key:"setRef",value:function(w){this.inputElement=w}},{key:"initTextMask",value:function(){var w=this.props,S=this.props.value;this.textMaskInputElement=(0,Z.default)(b({inputElement:this.inputElement},w)),this.textMaskInputElement.update(S)}},{key:"componentDidMount",value:function(){this.initTextMask()}},{key:"componentDidUpdate",value:function(w){var S=this.props,C=S.value,N=S.pipe,M=S.mask,O=S.guide,Ve=S.placeholderChar,qe=S.showMask,ne={guide:O,placeholderChar:Ve,showMask:qe},me=typeof N=="function"&&typeof w.pipe=="function"?N.toString()!==w.pipe.toString():(0,ue.isNil)(N)&&!(0,ue.isNil)(w.pipe)||!(0,ue.isNil)(N)&&(0,ue.isNil)(w.pipe),he=M.toString()!==w.mask.toString(),be=Object.keys(ne).some(function(X){return ne[X]!==w[X]})||he||me,k=C!==this.inputElement.value;(k||be)&&this.initTextMask()}},{key:"render",value:function(){var S=this.props,C=S.render,N=m(S,["render"]);return delete N.mask,delete N.guide,delete N.pipe,delete N.placeholderChar,delete N.keepCharPositions,delete N.value,delete N.onBlur,delete N.onChange,delete N.showMask,C(this.setRef,b({onBlur:this.onBlur,onChange:this.onChange,defaultValue:this.props.value},N))}},{key:"onChange",value:function(w){this.textMaskInputElement.update(),typeof this.props.onChange=="function"&&this.props.onChange(w)}},{key:"onBlur",value:function(w){typeof this.props.onBlur=="function"&&this.props.onBlur(w)}}]),R}(q.default.PureComponent);o.default=ce,ce.propTypes={mask:B.default.oneOfType([B.default.array,B.default.func,B.default.bool,B.default.shape({mask:B.default.oneOfType([B.default.array,B.default.func]),pipe:B.default.func})]).isRequired,guide:B.default.bool,value:B.default.oneOfType([B.default.string,B.default.number]),pipe:B.default.func,placeholderChar:B.default.string,keepCharPositions:B.default.bool,showMask:B.default.bool},ce.defaultProps={render:function(ie,R){return q.default.createElement("input",b({ref:ie},R))}}},function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.placeholderChar="_",o.strFunction="function"},function(s,o,u){function f(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D.placeholderChar;if(!m(q))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(q.indexOf(j)!==-1)throw new Error(`Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.

`+("The placeholder character that was received is: "+JSON.stringify(j)+`

`)+("The mask that was received is: "+JSON.stringify(q)));return q.map(function(B){return B instanceof RegExp?j:B}).join("")}function m(q){return Array.isArray&&Array.isArray(q)||q instanceof Array}function p(q){return typeof q=="string"||q instanceof String}function y(q){return typeof q=="number"&&q.length===void 0&&!isNaN(q)}function E(q){return typeof q>"u"||q===null}function b(q){for(var j=[],B=void 0;B=q.indexOf(L),B!==-1;)j.push(B),q.splice(B,1);return{maskWithoutCaretTraps:q,indexes:j}}Object.defineProperty(o,"__esModule",{value:!0}),o.convertMaskToPlaceholder=f,o.isArray=m,o.isString=p,o.isNumber=y,o.isNil=E,o.processCaretTraps=b;var D=u(1),x=[],L="[]"},function(s,o,u){function f(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(0,p.isArray)(x)){if((typeof x>"u"?"undefined":m(x))!==y.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");x=x(D,L),x=(0,p.processCaretTraps)(x).maskWithoutCaretTraps}var q=L.guide,j=q===void 0||q,B=L.previousConformedValue,ee=B===void 0?b:B,Z=L.placeholderChar,ue=Z===void 0?y.placeholderChar:Z,ce=L.placeholder,ie=ce===void 0?(0,p.convertMaskToPlaceholder)(x,ue):ce,R=L.currentCaretPosition,w=L.keepCharPositions,S=j===!1&&ee!==void 0,C=D.length,N=ee.length,M=ie.length,O=x.length,Ve=C-N,qe=Ve>0,ne=R+(qe?-Ve:0),me=ne+Math.abs(Ve);if(w===!0&&!qe){for(var he=b,be=ne;be<me;be++)ie[be]===ue&&(he+=ue);D=D.slice(0,ne)+he+D.slice(ne,C)}for(var k=D.split(b).map(function(qt,kt){return{char:qt,isNew:kt>=ne&&kt<me}}),X=C-1;X>=0;X--){var ae=k[X].char;if(ae!==ue){var oe=X>=ne&&N===O;ae===ie[oe?X-Ve:X]&&k.splice(X,1)}}var re=b,_e=!1;e:for(var ye=0;ye<M;ye++){var Ye=ie[ye];if(Ye===ue){if(k.length>0)for(;k.length>0;){var Ie=k.shift(),$e=Ie.char,ke=Ie.isNew;if($e===ue&&S!==!0){re+=ue;continue e}if(x[ye].test($e)){if(w===!0&&ke!==!1&&ee!==b&&j!==!1&&qe){for(var ct=k.length,Mt=null,nt=0;nt<ct;nt++){var Ht=k[nt];if(Ht.char!==ue&&Ht.isNew===!1)break;if(Ht.char===ue){Mt=nt;break}}Mt!==null?(re+=$e,k.splice(Mt,1)):ye--}else re+=$e;continue e}_e=!0}S===!1&&(re+=ie.substr(ye,M));break}re+=Ye}if(S&&qe===!1){for(var it=null,Je=0;Je<re.length;Je++)ie[Je]===ue&&(it=Je);re=it!==null?re.substr(0,it+1):b}return{conformedValue:re,meta:{someCharsRejected:_e}}}Object.defineProperty(o,"__esModule",{value:!0});var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D};o.default=f;var p=u(2),y=u(1),E=[],b=""},function(s,o){function u(p){var y=p.previousConformedValue,E=y===void 0?m:y,b=p.previousPlaceholder,D=b===void 0?m:b,x=p.currentCaretPosition,L=x===void 0?0:x,q=p.conformedValue,j=p.rawValue,B=p.placeholderChar,ee=p.placeholder,Z=p.indexesOfPipedChars,ue=Z===void 0?f:Z,ce=p.caretTrapIndexes,ie=ce===void 0?f:ce;if(L===0||!j.length)return 0;var R=j.length,w=E.length,S=ee.length,C=q.length,N=R-w,M=N>0,O=w===0,Ve=N>1&&!M&&!O;if(Ve)return L;var qe=M&&(E===q||q===ee),ne=0,me=void 0,he=void 0;if(qe)ne=L-N;else{var be=q.toLowerCase(),k=j.toLowerCase(),X=k.substr(0,L).split(m),ae=X.filter(function(rt){return be.indexOf(rt)!==-1});he=ae[ae.length-1];var oe=D.substr(0,ae.length).split(m).filter(function(rt){return rt!==B}).length,re=ee.substr(0,ae.length).split(m).filter(function(rt){return rt!==B}).length,_e=re!==oe,ye=D[ae.length-1]!==void 0&&ee[ae.length-2]!==void 0&&D[ae.length-1]!==B&&D[ae.length-1]!==ee[ae.length-1]&&D[ae.length-1]===ee[ae.length-2];!M&&(_e||ye)&&oe>0&&ee.indexOf(he)>-1&&j[L]!==void 0&&(me=!0,he=j[L]);for(var Ye=ue.map(function(rt){return be[rt]}),Ie=Ye.filter(function(rt){return rt===he}).length,$e=ae.filter(function(rt){return rt===he}).length,ke=ee.substr(0,ee.indexOf(B)).split(m).filter(function(rt,gn){return rt===he&&j[gn]!==rt}).length,ct=ke+$e+Ie+(me?1:0),Mt=0,nt=0;nt<C;nt++){var Ht=be[nt];if(ne=nt+1,Ht===he&&Mt++,Mt>=ct)break}}if(M){for(var it=ne,Je=ne;Je<=S;Je++)if(ee[Je]===B&&(it=Je),ee[Je]===B||ie.indexOf(Je)!==-1||Je===S)return it}else if(me){for(var qt=ne-1;qt>=0;qt--)if(q[qt]===he||ie.indexOf(qt)!==-1||qt===0)return qt}else for(var kt=ne;kt>=0;kt--)if(ee[kt-1]===B||ie.indexOf(kt)!==-1||kt===0)return kt}Object.defineProperty(o,"__esModule",{value:!0}),o.default=u;var f=[],m=""},function(s,o,u){function f(R){return R&&R.__esModule?R:{default:R}}function m(R){var w={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:w,update:function(S){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R,N=C.inputElement,M=C.mask,O=C.guide,Ve=C.pipe,qe=C.placeholderChar,ne=qe===void 0?B.placeholderChar:qe,me=C.keepCharPositions,he=me!==void 0&&me,be=C.showMask,k=be!==void 0&&be;if(typeof S>"u"&&(S=N.value),S!==w.previousConformedValue){(typeof M>"u"?"undefined":b(M))===ue&&M.pipe!==void 0&&M.mask!==void 0&&(Ve=M.pipe,M=M.mask);var X=void 0,ae=void 0;if(M instanceof Array&&(X=(0,j.convertMaskToPlaceholder)(M,ne)),M!==!1){var oe=y(S),re=N.selectionEnd,_e=w.previousConformedValue,ye=w.previousPlaceholder,Ye=void 0;if((typeof M>"u"?"undefined":b(M))===B.strFunction){if(ae=M(oe,{currentCaretPosition:re,previousConformedValue:_e,placeholderChar:ne}),ae===!1)return;var Ie=(0,j.processCaretTraps)(ae),$e=Ie.maskWithoutCaretTraps,ke=Ie.indexes;ae=$e,Ye=ke,X=(0,j.convertMaskToPlaceholder)(ae,ne)}else ae=M;var ct={previousConformedValue:_e,guide:O,placeholderChar:ne,pipe:Ve,placeholder:X,currentCaretPosition:re,keepCharPositions:he},Mt=(0,q.default)(oe,ae,ct),nt=Mt.conformedValue,Ht=(typeof Ve>"u"?"undefined":b(Ve))===B.strFunction,it={};Ht&&(it=Ve(nt,E({rawValue:oe},ct)),it===!1?it={value:_e,rejected:!0}:(0,j.isString)(it)&&(it={value:it}));var Je=Ht?it.value:nt,qt=(0,x.default)({previousConformedValue:_e,previousPlaceholder:ye,conformedValue:Je,placeholder:X,rawValue:oe,currentCaretPosition:re,placeholderChar:ne,indexesOfPipedChars:it.indexesOfPipedChars,caretTrapIndexes:Ye}),kt=Je===X&&qt===0,rt=k?X:ee,gn=kt?rt:Je;w.previousConformedValue=gn,w.previousPlaceholder=X,N.value!==gn&&(N.value=gn,p(N,qt))}}}}}function p(R,w){document.activeElement===R&&(ce?ie(function(){return R.setSelectionRange(w,w,Z)},0):R.setSelectionRange(w,w,Z))}function y(R){if((0,j.isString)(R))return R;if((0,j.isNumber)(R))return String(R);if(R==null)return ee;throw new Error(`The 'value' provided to Text Mask needs to be a string or a number. The value received was:

 `+JSON.stringify(R))}Object.defineProperty(o,"__esModule",{value:!0});var E=Object.assign||function(R){for(var w=1;w<arguments.length;w++){var S=arguments[w];for(var C in S)Object.prototype.hasOwnProperty.call(S,C)&&(R[C]=S[C])}return R},b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R};o.default=m;var D=u(4),x=f(D),L=u(3),q=f(L),j=u(2),B=u(1),ee="",Z="none",ue="object",ce=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),ie=typeof requestAnimationFrame<"u"?requestAnimationFrame:setTimeout},function(s,o){function u(m){return function(){return m}}var f=function(){};f.thatReturns=u,f.thatReturnsFalse=u(!1),f.thatReturnsTrue=u(!0),f.thatReturnsNull=u(null),f.thatReturnsThis=function(){return this},f.thatReturnsArgument=function(m){return m},s.exports=f},function(s,o,u){function f(m,p,y,E,b,D,x,L){if(!m){var q;if(p===void 0)q=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var j=[y,E,b,D,x,L],B=0;q=new Error(p.replace(/%s/g,function(){return j[B++]})),q.name="Invariant Violation"}throw q.framesToPop=1,q}}s.exports=f},function(s,o,u){var f=u(6),m=u(7),p=u(10);s.exports=function(){function y(D,x,L,q,j,B){B!==p&&m(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function E(){return y}y.isRequired=y;var b={array:y,bool:y,func:y,number:y,object:y,string:y,symbol:y,any:y,arrayOf:E,element:y,instanceOf:E,node:y,objectOf:E,oneOf:E,oneOfType:E,shape:E,exact:E};return b.checkPropTypes=f,b.PropTypes=b,b}},function(s,o,u){s.exports=u(8)()},function(s,o){var u="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";s.exports=u},function(s,o){s.exports=n}])})}(Ic)),Ic.exports}var mb=db();const pb=NA(mb),PE=({onClose:r})=>{const[e,n]=$.useState(""),[s,o]=$.useState(""),[u,f]=$.useState("DEFAULT"),[m,p]=$.useState(""),y=()=>{const E=`
        Добрый день! Хочу оставить заказ.
        Меня зовут: ${e}
        Мой контактный телефон: ${s}
        Вид десерта: ${u}
        Комментарии: ${m}
    `;if(navigator.clipboard.writeText(E).then(()=>{console.log("Сообщение скопировано в буфер обмена:",E)}),e!==""&&s!==""&&u!==""){const D=`https://t.me/alexeevaruslana?text=${encodeURIComponent(E.trim())}`;window.open(D,"_blank")}else alert("Пожалуйста, заполните все поля!");r()};return K.jsx("div",{className:"modal-container",children:K.jsxs("div",{className:"modal-content",children:[K.jsx("p",{className:"modal-title",children:"Внесите данные для заказа"}),K.jsxs("form",{className:"modal-form",onSubmit:E=>E.preventDefault(),children:[K.jsx("input",{className:"modal-input input",type:"text",placeholder:"Имя",onChange:E=>n(E.target.value),required:!0}),K.jsx(pb,{className:"modal-input input",mask:["+","7","(",/[0-9]/,/[0-9]/,/[0-9]/,")"," ",/[0-9]/,/[0-9]/,/[0-9]/,"-",/[0-9]/,/[0-9]/,"-",/[0-9]/,/[0-9]/],placeholder:"Тел.: +7(___) ___-__-__",value:s,onChange:E=>o(E.target.value),required:!0}),K.jsxs("select",{className:"modal-select input",onChange:E=>f(E.target.value),required:!0,defaultValue:"Вид десерта",children:[K.jsx("option",{defaultValue:"DEFAULT",disabled:!0,children:"Вид десерта"}),K.jsx("option",{value:"Торт",children:"Торт"}),K.jsx("option",{value:"Бенто торт",children:"Бенто торт"}),K.jsx("option",{value:"Капкейки",children:"Капкейки"})]}),K.jsx("textarea",{className:"modal-textarea input",placeholder:"Комментарии",onChange:E=>p(E.target.value),wrap:"soft",required:!0}),K.jsxs("div",{className:"modal-button-container",children:[K.jsx("button",{className:"modal-button",onClick:r,children:"Закрыть"}),K.jsx("button",{className:"modal-button",onClick:y,type:"submit",children:"Отправить"})]})]})]})})},gb=()=>{const[r,e]=$.useState(!1);return K.jsxs("div",{className:"footer",children:[K.jsxs("div",{className:"footer-container-up",children:[K.jsx("div",{className:"footer-logo",children:K.jsx("img",{src:xE,alt:"",loading:"lazy",width:"200px",height:"auto"})}),K.jsxs("ul",{className:"footer-menu",children:[K.jsx("li",{className:"footer-menu-item hover",onClick:()=>e(!0),children:"Заказать"}),K.jsx("li",{className:"footer-menu-item",children:K.jsx("a",{onClick:()=>jc("catalog"),children:"Каталог"})}),K.jsx("li",{className:"footer-menu-item",children:K.jsx("a",{onClick:()=>jc("location"),children:"Контакты"})})]})]}),K.jsxs("div",{className:"footer-container-down",children:[K.jsx("div",{className:"footer-empty"}),K.jsx("div",{className:"footer-social-links",children:K.jsx(VE,{})})]}),K.jsx("hr",{className:"footer-hr"}),K.jsx("p",{children:"© 2022 Ruslana Cakes"}),r&&K.jsx(PE,{onClose:()=>e(!1)})]})},yb="/Ruslana_Cakes/assets/trolley-BalS_m93.png",vb=()=>K.jsx("header",{className:"header",children:K.jsxs("ul",{className:"header-menu-list",children:[K.jsx(zc,{to:"/",onClick:()=>jc("location"),children:K.jsx("li",{className:"header-menu-item header-menu-item-language",children:"Контакты"})}),K.jsx(zc,{to:"/",onClick:()=>jc("catalog"),children:K.jsx("li",{className:"header-menu-item",children:"Каталог"})}),K.jsx("li",{className:"header-menu-item",children:"Order"}),K.jsx("li",{className:"header-menu-item",children:K.jsx("a",{children:K.jsx("img",{className:"header-menu-cart",src:yb,alt:"cart"})})})]})}),_b="/Ruslana_Cakes/assets/2%20logo%20Ruslana%20Cakes-rz6J5luV.png",Eb="/Ruslana_Cakes/assets/Cake2-vvsJnBCt.jpg",xv=({cake:r})=>{const{Image:e,Description:n,Price:s}=r||{};return K.jsxs("div",{className:"cake-card-container",children:[K.jsx("img",{src:e||Eb,alt:"Sweets"}),K.jsxs("div",{className:"cake-card-info",children:[K.jsx("p",{className:"cake-card-description",children:n}),K.jsx("p",{className:"cake-card-price",children:K.jsx("strong",{children:`От ${s} руб.`})})]})]})},Tb=()=>{};var Vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Sb=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},UE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let D=(m&15)<<2|y>>6,x=y&63;p||(x=64,f||(D=64)),s.push(n[E],n[b],n[D],n[x])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(LE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Sb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new Ab;const D=u<<2|m>>4;if(s.push(D),y!==64){const x=m<<4&240|y>>2;if(s.push(x),b!==64){const L=y<<6&192|b;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Ab extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wb=function(r){const e=LE(r);return UE.encodeByteArray(e,!0)},Bc=function(r){return wb(r).replace(/\./g,"")},zE=function(r){try{return UE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=()=>bb().__FIREBASE_DEFAULTS__,Cb=()=>{if(typeof process>"u"||typeof Vv>"u")return;const r=Vv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ib=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&zE(r[1]);return e&&JSON.parse(e)},oh=()=>{try{return Tb()||Rb()||Cb()||Ib()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},jE=r=>{var e,n;return(n=(e=oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Db=r=>{const e=jE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},BE=()=>{var r;return(r=oh())===null||r===void 0?void 0:r.config},HE=r=>{var e;return(e=oh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Bc(JSON.stringify(n)),Bc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function kb(){var r;const e=(r=oh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Vb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pb(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Lb(){return!kb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FE(){try{return typeof indexedDB=="object"}catch{return!1}}function GE(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function Ub(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="FirebaseError";class Zn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=zb,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ks.prototype.create)}}class Ks{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?jb(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Zn(o,m,s)}}function jb(r,e){return r.replace(Bb,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Bb=/\{\$([^}]+)}/g;function Hb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Zr(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Pv(u)&&Pv(f)){if(!Zr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Pv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Tl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Sl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function qb(r,e){const n=new Fb(r,e);return n.subscribe.bind(n)}class Fb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Gb(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=xd),o.error===void 0&&(o.error=xd),o.complete===void 0&&(o.complete=xd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gb(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function xd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=1e3,$b=2,Qb=4*60*60*1e3,Yb=.5;function Lv(r,e=Kb,n=$b){const s=e*Math.pow(n,r),o=Math.round(Yb*s*(Math.random()-.5)*2);return Math.min(Qb,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(r){return r&&r._delegate?r._delegate:r}class Yn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Ob;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Wb(e))try{this.getOrInitializeService({instanceIdentifier:Ps})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ps){return this.instances.has(e)}getOptions(e=Ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Zb(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ps){return this.component?this.component.multipleInstances?e:Ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zb(r){return r===Ps?void 0:r}function Wb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const eR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},tR=Me.INFO,nR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},iR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=nR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lh{constructor(e){this.name=e,this._logLevel=tR,this._logHandler=iR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const rR=(r,e)=>e.some(n=>r instanceof n);let Uv,zv;function sR(){return Uv||(Uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aR(){return zv||(zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KE=new WeakMap,em=new WeakMap,$E=new WeakMap,Vd=new WeakMap,Mm=new WeakMap;function oR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n($r(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&KE.set(n,r)}).catch(()=>{}),Mm.set(e,r),e}function lR(r){if(em.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});em.set(r,e)}let tm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return em.get(r);if(e==="objectStoreNames")return r.objectStoreNames||$E.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function uR(r){tm=r(tm)}function cR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Pd(this),e,...n);return $E.set(s,e.sort?e.sort():[e]),$r(s)}:aR().includes(r)?function(...e){return r.apply(Pd(this),e),$r(KE.get(this))}:function(...e){return $r(r.apply(Pd(this),e))}}function hR(r){return typeof r=="function"?cR(r):(r instanceof IDBTransaction&&lR(r),rR(r,sR())?new Proxy(r,tm):r)}function $r(r){if(r instanceof IDBRequest)return oR(r);if(Vd.has(r))return Vd.get(r);const e=hR(r);return e!==r&&(Vd.set(r,e),Mm.set(e,r)),e}const Pd=r=>Mm.get(r);function QE(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=$r(f);return s&&f.addEventListener("upgradeneeded",p=>{s($r(f.result),p.oldVersion,p.newVersion,$r(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const fR=["get","getKey","getAll","getAllKeys","count"],dR=["put","add","delete","clear"],Ld=new Map;function jv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=dR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||fR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Ld.set(e,u),u}uR(r=>({...r,get:(e,n,s)=>jv(e,n)||r.get(e,n,s),has:(e,n)=>!!jv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function pR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nm="@firebase/app",Bv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new lh("@firebase/app"),gR="@firebase/app-compat",yR="@firebase/analytics-compat",vR="@firebase/analytics",_R="@firebase/app-check-compat",ER="@firebase/app-check",TR="@firebase/auth",SR="@firebase/auth-compat",AR="@firebase/database",wR="@firebase/data-connect",bR="@firebase/database-compat",RR="@firebase/functions",CR="@firebase/functions-compat",IR="@firebase/installations",DR="@firebase/installations-compat",OR="@firebase/messaging",NR="@firebase/messaging-compat",MR="@firebase/performance",kR="@firebase/performance-compat",xR="@firebase/remote-config",VR="@firebase/remote-config-compat",PR="@firebase/storage",LR="@firebase/storage-compat",UR="@firebase/firestore",zR="@firebase/vertexai",jR="@firebase/firestore-compat",BR="firebase",HR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="[DEFAULT]",qR={[nm]:"fire-core",[gR]:"fire-core-compat",[vR]:"fire-analytics",[yR]:"fire-analytics-compat",[ER]:"fire-app-check",[_R]:"fire-app-check-compat",[TR]:"fire-auth",[SR]:"fire-auth-compat",[AR]:"fire-rtdb",[wR]:"fire-data-connect",[bR]:"fire-rtdb-compat",[RR]:"fire-fn",[CR]:"fire-fn-compat",[IR]:"fire-iid",[DR]:"fire-iid-compat",[OR]:"fire-fcm",[NR]:"fire-fcm-compat",[MR]:"fire-perf",[kR]:"fire-perf-compat",[xR]:"fire-rc",[VR]:"fire-rc-compat",[PR]:"fire-gcs",[LR]:"fire-gcs-compat",[UR]:"fire-fst",[jR]:"fire-fst-compat",[zR]:"fire-vertex","fire-js":"fire-js",[BR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Map,FR=new Map,rm=new Map;function Hv(r,e){try{r.container.addComponent(e)}catch(n){tr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ei(r){const e=r.name;if(rm.has(e))return tr.debug(`There were multiple attempts to register component ${e}.`),!1;rm.set(e,r);for(const n of Hc.values())Hv(n,r);for(const n of FR.values())Hv(n,r);return!0}function $s(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Qn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new Ks("app","Firebase",GR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=HR;function YE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:im,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Qr.create("bad-app-name",{appName:String(o)});if(n||(n=BE()),!n)throw Qr.create("no-options");const u=Hc.get(o);if(u){if(Zr(n,u.options)&&Zr(s,u.config))return u;throw Qr.create("duplicate-app",{appName:o})}const f=new Jb(o);for(const p of rm.values())f.addComponent(p);const m=new KR(n,s,f);return Hc.set(o,m),m}function km(r=im){const e=Hc.get(r);if(!e&&r===im&&BE())return YE();if(!e)throw Qr.create("no-app",{appName:r});return e}function Bn(r,e,n){var s;let o=(s=qR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tr.warn(m.join(" "));return}Ei(new Yn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="firebase-heartbeat-database",QR=1,kl="firebase-heartbeat-store";let Ud=null;function XE(){return Ud||(Ud=QE($R,QR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(kl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Qr.create("idb-open",{originalErrorMessage:r.message})})),Ud}async function YR(r){try{const n=(await XE()).transaction(kl),s=await n.objectStore(kl).get(ZE(r));return await n.done,s}catch(e){if(e instanceof Zn)tr.warn(e.message);else{const n=Qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});tr.warn(n.message)}}}async function qv(r,e){try{const s=(await XE()).transaction(kl,"readwrite");await s.objectStore(kl).put(e,ZE(r)),await s.done}catch(n){if(n instanceof Zn)tr.warn(n.message);else{const s=Qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});tr.warn(s.message)}}}function ZE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=1024,ZR=30;class WR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Fv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>ZR){const f=tC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){tr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fv(),{heartbeatsToSend:s,unsentEntries:o}=JR(this._heartbeatsCache.heartbeats),u=Bc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return tr.warn(n),""}}}function Fv(){return new Date().toISOString().substring(0,10)}function JR(r,e=XR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Gv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Gv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class eC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FE()?GE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return qv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return qv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Gv(r){return Bc(JSON.stringify({version:2,heartbeats:r})).length}function tC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(r){Ei(new Yn("platform-logger",e=>new mR(e),"PRIVATE")),Ei(new Yn("heartbeat",e=>new WR(e),"PRIVATE")),Bn(nm,Bv,r),Bn(nm,Bv,"esm2017"),Bn("fire-js","")}nC("");var Kv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yr,WE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,w){function S(){}S.prototype=w.prototype,R.D=w.prototype,R.prototype=new S,R.prototype.constructor=R,R.C=function(C,N,M){for(var O=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)O[Ve-2]=arguments[Ve];return w.prototype[N].apply(C,O)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,S){S||(S=0);var C=Array(16);if(typeof w=="string")for(var N=0;16>N;++N)C[N]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(N=0;16>N;++N)C[N]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=R.g[0],S=R.g[1],N=R.g[2];var M=R.g[3],O=w+(M^S&(N^M))+C[0]+3614090360&4294967295;w=S+(O<<7&4294967295|O>>>25),O=M+(N^w&(S^N))+C[1]+3905402710&4294967295,M=w+(O<<12&4294967295|O>>>20),O=N+(S^M&(w^S))+C[2]+606105819&4294967295,N=M+(O<<17&4294967295|O>>>15),O=S+(w^N&(M^w))+C[3]+3250441966&4294967295,S=N+(O<<22&4294967295|O>>>10),O=w+(M^S&(N^M))+C[4]+4118548399&4294967295,w=S+(O<<7&4294967295|O>>>25),O=M+(N^w&(S^N))+C[5]+1200080426&4294967295,M=w+(O<<12&4294967295|O>>>20),O=N+(S^M&(w^S))+C[6]+2821735955&4294967295,N=M+(O<<17&4294967295|O>>>15),O=S+(w^N&(M^w))+C[7]+4249261313&4294967295,S=N+(O<<22&4294967295|O>>>10),O=w+(M^S&(N^M))+C[8]+1770035416&4294967295,w=S+(O<<7&4294967295|O>>>25),O=M+(N^w&(S^N))+C[9]+2336552879&4294967295,M=w+(O<<12&4294967295|O>>>20),O=N+(S^M&(w^S))+C[10]+4294925233&4294967295,N=M+(O<<17&4294967295|O>>>15),O=S+(w^N&(M^w))+C[11]+2304563134&4294967295,S=N+(O<<22&4294967295|O>>>10),O=w+(M^S&(N^M))+C[12]+1804603682&4294967295,w=S+(O<<7&4294967295|O>>>25),O=M+(N^w&(S^N))+C[13]+4254626195&4294967295,M=w+(O<<12&4294967295|O>>>20),O=N+(S^M&(w^S))+C[14]+2792965006&4294967295,N=M+(O<<17&4294967295|O>>>15),O=S+(w^N&(M^w))+C[15]+1236535329&4294967295,S=N+(O<<22&4294967295|O>>>10),O=w+(N^M&(S^N))+C[1]+4129170786&4294967295,w=S+(O<<5&4294967295|O>>>27),O=M+(S^N&(w^S))+C[6]+3225465664&4294967295,M=w+(O<<9&4294967295|O>>>23),O=N+(w^S&(M^w))+C[11]+643717713&4294967295,N=M+(O<<14&4294967295|O>>>18),O=S+(M^w&(N^M))+C[0]+3921069994&4294967295,S=N+(O<<20&4294967295|O>>>12),O=w+(N^M&(S^N))+C[5]+3593408605&4294967295,w=S+(O<<5&4294967295|O>>>27),O=M+(S^N&(w^S))+C[10]+38016083&4294967295,M=w+(O<<9&4294967295|O>>>23),O=N+(w^S&(M^w))+C[15]+3634488961&4294967295,N=M+(O<<14&4294967295|O>>>18),O=S+(M^w&(N^M))+C[4]+3889429448&4294967295,S=N+(O<<20&4294967295|O>>>12),O=w+(N^M&(S^N))+C[9]+568446438&4294967295,w=S+(O<<5&4294967295|O>>>27),O=M+(S^N&(w^S))+C[14]+3275163606&4294967295,M=w+(O<<9&4294967295|O>>>23),O=N+(w^S&(M^w))+C[3]+4107603335&4294967295,N=M+(O<<14&4294967295|O>>>18),O=S+(M^w&(N^M))+C[8]+1163531501&4294967295,S=N+(O<<20&4294967295|O>>>12),O=w+(N^M&(S^N))+C[13]+2850285829&4294967295,w=S+(O<<5&4294967295|O>>>27),O=M+(S^N&(w^S))+C[2]+4243563512&4294967295,M=w+(O<<9&4294967295|O>>>23),O=N+(w^S&(M^w))+C[7]+1735328473&4294967295,N=M+(O<<14&4294967295|O>>>18),O=S+(M^w&(N^M))+C[12]+2368359562&4294967295,S=N+(O<<20&4294967295|O>>>12),O=w+(S^N^M)+C[5]+4294588738&4294967295,w=S+(O<<4&4294967295|O>>>28),O=M+(w^S^N)+C[8]+2272392833&4294967295,M=w+(O<<11&4294967295|O>>>21),O=N+(M^w^S)+C[11]+1839030562&4294967295,N=M+(O<<16&4294967295|O>>>16),O=S+(N^M^w)+C[14]+4259657740&4294967295,S=N+(O<<23&4294967295|O>>>9),O=w+(S^N^M)+C[1]+2763975236&4294967295,w=S+(O<<4&4294967295|O>>>28),O=M+(w^S^N)+C[4]+1272893353&4294967295,M=w+(O<<11&4294967295|O>>>21),O=N+(M^w^S)+C[7]+4139469664&4294967295,N=M+(O<<16&4294967295|O>>>16),O=S+(N^M^w)+C[10]+3200236656&4294967295,S=N+(O<<23&4294967295|O>>>9),O=w+(S^N^M)+C[13]+681279174&4294967295,w=S+(O<<4&4294967295|O>>>28),O=M+(w^S^N)+C[0]+3936430074&4294967295,M=w+(O<<11&4294967295|O>>>21),O=N+(M^w^S)+C[3]+3572445317&4294967295,N=M+(O<<16&4294967295|O>>>16),O=S+(N^M^w)+C[6]+76029189&4294967295,S=N+(O<<23&4294967295|O>>>9),O=w+(S^N^M)+C[9]+3654602809&4294967295,w=S+(O<<4&4294967295|O>>>28),O=M+(w^S^N)+C[12]+3873151461&4294967295,M=w+(O<<11&4294967295|O>>>21),O=N+(M^w^S)+C[15]+530742520&4294967295,N=M+(O<<16&4294967295|O>>>16),O=S+(N^M^w)+C[2]+3299628645&4294967295,S=N+(O<<23&4294967295|O>>>9),O=w+(N^(S|~M))+C[0]+4096336452&4294967295,w=S+(O<<6&4294967295|O>>>26),O=M+(S^(w|~N))+C[7]+1126891415&4294967295,M=w+(O<<10&4294967295|O>>>22),O=N+(w^(M|~S))+C[14]+2878612391&4294967295,N=M+(O<<15&4294967295|O>>>17),O=S+(M^(N|~w))+C[5]+4237533241&4294967295,S=N+(O<<21&4294967295|O>>>11),O=w+(N^(S|~M))+C[12]+1700485571&4294967295,w=S+(O<<6&4294967295|O>>>26),O=M+(S^(w|~N))+C[3]+2399980690&4294967295,M=w+(O<<10&4294967295|O>>>22),O=N+(w^(M|~S))+C[10]+4293915773&4294967295,N=M+(O<<15&4294967295|O>>>17),O=S+(M^(N|~w))+C[1]+2240044497&4294967295,S=N+(O<<21&4294967295|O>>>11),O=w+(N^(S|~M))+C[8]+1873313359&4294967295,w=S+(O<<6&4294967295|O>>>26),O=M+(S^(w|~N))+C[15]+4264355552&4294967295,M=w+(O<<10&4294967295|O>>>22),O=N+(w^(M|~S))+C[6]+2734768916&4294967295,N=M+(O<<15&4294967295|O>>>17),O=S+(M^(N|~w))+C[13]+1309151649&4294967295,S=N+(O<<21&4294967295|O>>>11),O=w+(N^(S|~M))+C[4]+4149444226&4294967295,w=S+(O<<6&4294967295|O>>>26),O=M+(S^(w|~N))+C[11]+3174756917&4294967295,M=w+(O<<10&4294967295|O>>>22),O=N+(w^(M|~S))+C[2]+718787259&4294967295,N=M+(O<<15&4294967295|O>>>17),O=S+(M^(N|~w))+C[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(N+(O<<21&4294967295|O>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+M&4294967295}s.prototype.u=function(R,w){w===void 0&&(w=R.length);for(var S=w-this.blockSize,C=this.B,N=this.h,M=0;M<w;){if(N==0)for(;M<=S;)o(this,R,M),M+=this.blockSize;if(typeof R=="string"){for(;M<w;)if(C[N++]=R.charCodeAt(M++),N==this.blockSize){o(this,C),N=0;break}}else for(;M<w;)if(C[N++]=R[M++],N==this.blockSize){o(this,C),N=0;break}}this.h=N,this.o+=w},s.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;var S=8*this.o;for(w=R.length-8;w<R.length;++w)R[w]=S&255,S/=256;for(this.u(R),R=Array(16),w=S=0;4>w;++w)for(var C=0;32>C;C+=8)R[S++]=this.g[w]>>>C&255;return R};function u(R,w){var S=m;return Object.prototype.hasOwnProperty.call(S,R)?S[R]:S[R]=w(R)}function f(R,w){this.h=w;for(var S=[],C=!0,N=R.length-1;0<=N;N--){var M=R[N]|0;C&&M==w||(S[N]=M,C=!1)}this.g=S}var m={};function p(R){return-128<=R&&128>R?u(R,function(w){return new f([w|0],0>w?-1:0)}):new f([R|0],0>R?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return b;if(0>R)return j(y(-R));for(var w=[],S=1,C=0;R>=S;C++)w[C]=R/S|0,S*=4294967296;return new f(w,0)}function E(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return j(E(R.substring(1),w));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(w,8)),C=b,N=0;N<R.length;N+=8){var M=Math.min(8,R.length-N),O=parseInt(R.substring(N,N+M),w);8>M?(M=y(Math.pow(w,M)),C=C.j(M).add(y(O))):(C=C.j(S),C=C.add(y(O)))}return C}var b=p(0),D=p(1),x=p(16777216);r=f.prototype,r.m=function(){if(q(this))return-j(this).m();for(var R=0,w=1,S=0;S<this.g.length;S++){var C=this.i(S);R+=(0<=C?C:4294967296+C)*w,w*=4294967296}return R},r.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(L(this))return"0";if(q(this))return"-"+j(this).toString(R);for(var w=y(Math.pow(R,6)),S=this,C="";;){var N=ue(S,w).g;S=B(S,N.j(w));var M=((0<S.g.length?S.g[0]:S.h)>>>0).toString(R);if(S=N,L(S))return M+C;for(;6>M.length;)M="0"+M;C=M+C}},r.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function L(R){if(R.h!=0)return!1;for(var w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function q(R){return R.h==-1}r.l=function(R){return R=B(this,R),q(R)?-1:L(R)?0:1};function j(R){for(var w=R.g.length,S=[],C=0;C<w;C++)S[C]=~R.g[C];return new f(S,~R.h).add(D)}r.abs=function(){return q(this)?j(this):this},r.add=function(R){for(var w=Math.max(this.g.length,R.g.length),S=[],C=0,N=0;N<=w;N++){var M=C+(this.i(N)&65535)+(R.i(N)&65535),O=(M>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);C=O>>>16,M&=65535,O&=65535,S[N]=O<<16|M}return new f(S,S[S.length-1]&-2147483648?-1:0)};function B(R,w){return R.add(j(w))}r.j=function(R){if(L(this)||L(R))return b;if(q(this))return q(R)?j(this).j(j(R)):j(j(this).j(R));if(q(R))return j(this.j(j(R)));if(0>this.l(x)&&0>R.l(x))return y(this.m()*R.m());for(var w=this.g.length+R.g.length,S=[],C=0;C<2*w;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var N=0;N<R.g.length;N++){var M=this.i(C)>>>16,O=this.i(C)&65535,Ve=R.i(N)>>>16,qe=R.i(N)&65535;S[2*C+2*N]+=O*qe,ee(S,2*C+2*N),S[2*C+2*N+1]+=M*qe,ee(S,2*C+2*N+1),S[2*C+2*N+1]+=O*Ve,ee(S,2*C+2*N+1),S[2*C+2*N+2]+=M*Ve,ee(S,2*C+2*N+2)}for(C=0;C<w;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=w;C<2*w;C++)S[C]=0;return new f(S,0)};function ee(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function Z(R,w){this.g=R,this.h=w}function ue(R,w){if(L(w))throw Error("division by zero");if(L(R))return new Z(b,b);if(q(R))return w=ue(j(R),w),new Z(j(w.g),j(w.h));if(q(w))return w=ue(R,j(w)),new Z(j(w.g),w.h);if(30<R.g.length){if(q(R)||q(w))throw Error("slowDivide_ only works with positive integers.");for(var S=D,C=w;0>=C.l(R);)S=ce(S),C=ce(C);var N=ie(S,1),M=ie(C,1);for(C=ie(C,2),S=ie(S,2);!L(C);){var O=M.add(C);0>=O.l(R)&&(N=N.add(S),M=O),C=ie(C,1),S=ie(S,1)}return w=B(R,N.j(w)),new Z(N,w)}for(N=b;0<=R.l(w);){for(S=Math.max(1,Math.floor(R.m()/w.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),M=y(S),O=M.j(w);q(O)||0<O.l(R);)S-=C,M=y(S),O=M.j(w);L(M)&&(M=D),N=N.add(M),R=B(R,O)}return new Z(N,R)}r.A=function(R){return ue(this,R).h},r.and=function(R){for(var w=Math.max(this.g.length,R.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)&R.i(C);return new f(S,this.h&R.h)},r.or=function(R){for(var w=Math.max(this.g.length,R.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)|R.i(C);return new f(S,this.h|R.h)},r.xor=function(R){for(var w=Math.max(this.g.length,R.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)^R.i(C);return new f(S,this.h^R.h)};function ce(R){for(var w=R.g.length+1,S=[],C=0;C<w;C++)S[C]=R.i(C)<<1|R.i(C-1)>>>31;return new f(S,R.h)}function ie(R,w){var S=w>>5;w%=32;for(var C=R.g.length-S,N=[],M=0;M<C;M++)N[M]=0<w?R.i(M+S)>>>w|R.i(M+S+1)<<32-w:R.i(M+S);return new f(N,R.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,WE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Yr=f}).apply(typeof Kv<"u"?Kv:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JE,Al,e0,Dc,sm,t0,n0,i0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break e;v=v[z]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,A=!1,z={next:function(){if(!A&&v<c.length){var G=v++;return{value:g(G,c[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,v){return c.call.apply(c.bind,arguments)}function b(c,g,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),c.apply(g,z)}}return function(){return c.apply(g,arguments)}}function D(c,g,v){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,D.apply(null,arguments)}function x(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function L(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,z,G){for(var se=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)se[Pe-2]=arguments[Pe];return g.prototype[z].apply(A,se)}}function q(c){const g=c.length;if(0<g){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function j(c,g){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const z=c.length||0,G=A.length||0;c.length=z+G;for(let se=0;se<G;se++)c[z+se]=A[se]}else c.push(A)}}class B{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ee(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var ce=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function ie(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function R(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function w(c){const g={};for(const v in c)g[v]=c[v];return g}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,g){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let G=0;G<S.length;G++)v=S[G],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function N(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function M(c){m.setTimeout(()=>{throw c},0)}function O(){var c=be;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Ve{constructor(){this.h=this.g=null}add(g,v){const A=qe.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var qe=new B(()=>new ne,c=>c.reset());class ne{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let me,he=!1,be=new Ve,k=()=>{const c=m.Promise.resolve(void 0);me=()=>{c.then(X)}};var X=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(v){M(v)}var g=qe;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}he=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c}();function _e(c,g){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ce){e:{try{ue(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ye[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&_e.aa.h.call(this)}}L(_e,oe);var ye={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function $e(c,g,v,A,z){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=z,this.key=++Ie,this.da=this.fa=!1}function ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ct(c){this.src=c,this.g={},this.h=0}ct.prototype.add=function(c,g,v,A,z){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var se=nt(c,g,A,z);return-1<se?(g=c[se],v||(g.fa=!1)):(g=new $e(g,this.src,G,!!A,z),g.fa=v,c.push(g)),g};function Mt(c,g){var v=g.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,g,void 0),G;(G=0<=z)&&Array.prototype.splice.call(A,z,1),G&&(ke(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function nt(c,g,v,A){for(var z=0;z<c.length;++z){var G=c[z];if(!G.da&&G.listener==g&&G.capture==!!v&&G.ha==A)return z}return-1}var Ht="closure_lm_"+(1e6*Math.random()|0),it={};function Je(c,g,v,A,z){if(Array.isArray(g)){for(var G=0;G<g.length;G++)Je(c,g[G],v,A,z);return null}return v=Zl(v),c&&c[Ye]?c.K(g,v,y(A)?!!A.capture:!1,z):qt(c,g,v,!1,A,z)}function qt(c,g,v,A,z,G){if(!g)throw Error("Invalid event type");var se=y(z)?!!z.capture:!!z,Pe=fo(c);if(Pe||(c[Ht]=Pe=new ct(c)),v=Pe.add(g,v,A,se,G),v.proxy)return v;if(A=kt(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)re||(z=se),z===void 0&&(z=!1),c.addEventListener(g.toString(),A,z);else if(c.attachEvent)c.attachEvent(Xs(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function kt(){function c(v){return g.call(c.src,c.listener,v)}const g=Ch;return c}function rt(c,g,v,A,z){if(Array.isArray(g))for(var G=0;G<g.length;G++)rt(c,g[G],v,A,z);else A=y(A)?!!A.capture:!!A,v=Zl(v),c&&c[Ye]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],v=nt(G,v,A,z),-1<v&&(ke(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=fo(c))&&(g=c.g[g.toString()],c=-1,g&&(c=nt(g,v,A,z)),(v=-1<c?g[c]:null)&&gn(v))}function gn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ye])Mt(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(Xs(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=fo(g))?(Mt(v,c),v.h==0&&(v.src=null,g[Ht]=null)):ke(c)}}}function Xs(c){return c in it?it[c]:it[c]="on"+c}function Ch(c,g){if(c.da)c=!0;else{g=new _e(g,this);var v=c.listener,A=c.ha||c.src;c.fa&&gn(c),c=v.call(A,g)}return c}function fo(c){return c=c[Ht],c instanceof ct?c:null}var cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zl(c){return typeof c=="function"?c:(c[cn]||(c[cn]=function(g){return c.handleEvent(g)}),c[cn])}function wt(){ae.call(this),this.i=new ct(this),this.M=this,this.F=null}L(wt,ae),wt.prototype[Ye]=!0,wt.prototype.removeEventListener=function(c,g,v,A){rt(this,c,g,v,A)};function xt(c,g){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new oe(g,c);else if(g instanceof oe)g.target=g.target||c;else{var z=g;g=new oe(A,c),C(g,z)}if(z=!0,v)for(var G=v.length-1;0<=G;G--){var se=g.g=v[G];z=bi(se,A,!0,g)&&z}if(se=g.g=c,z=bi(se,A,!0,g)&&z,z=bi(se,A,!1,g)&&z,v)for(G=0;G<v.length;G++)se=g.g=v[G],z=bi(se,A,!1,g)&&z}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],A=0;A<v.length;A++)ke(v[A]);delete c.g[g],c.h--}}this.F=null},wt.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},wt.prototype.L=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function bi(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,G=0;G<g.length;++G){var se=g[G];if(se&&!se.da&&se.capture==v){var Pe=se.listener,Rt=se.ha||se.src;se.fa&&Mt(c.i,se),z=Pe.call(Rt,A)!==!1&&z}}return z&&!A.defaultPrevented}function Wl(c,g,v){if(typeof c=="function")v&&(c=D(c,v));else if(c&&typeof c.handleEvent=="function")c=D(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function mo(c){c.g=Wl(()=>{c.g=null,c.i&&(c.i=!1,mo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Ih extends ae{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:mo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(c){ae.call(this),this.h=c,this.g={}}L(ss,ae);var sr=[];function Xt(c){ie(c.g,function(g,v){this.g.hasOwnProperty(v)&&gn(g)},c),c.g={}}ss.prototype.N=function(){ss.aa.N.call(this),Xt(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var po=m.JSON.stringify,Wn=m.JSON.parse,rn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function go(){}go.prototype.h=null;function Jl(c){return c.h||(c.h=c.i())}function eu(){}var Jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ar(){oe.call(this,"d")}L(ar,oe);function Hn(){oe.call(this,"c")}L(Hn,oe);var bn={},or=null;function Zs(){return or=or||new wt}bn.La="serverreachability";function yo(c){oe.call(this,bn.La,c)}L(yo,oe);function lr(c){const g=Zs();xt(g,new yo(g))}bn.STAT_EVENT="statevent";function Ws(c,g){oe.call(this,bn.STAT_EVENT,c),this.stat=g}L(Ws,oe);function gt(c){const g=Zs();xt(g,new Ws(g,c))}bn.Ma="timingevent";function tu(c,g){oe.call(this,bn.Ma,c),this.size=g}L(tu,oe);function ur(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function cr(){this.g=!0}cr.prototype.xa=function(){this.g=!1};function nu(c,g,v,A,z,G){c.info(function(){if(c.g)if(G)for(var se="",Pe=G.split("&"),Rt=0;Rt<Pe.length;Rt++){var Le=Pe[Rt].split("=");if(1<Le.length){var Lt=Le[0];Le=Le[1];var Ct=Lt.split("_");se=2<=Ct.length&&Ct[1]=="type"?se+(Lt+"="+Le+"&"):se+(Lt+"=redacted&")}}else se=null;else se=G;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+g+`
`+v+`
`+se})}function iu(c,g,v,A,z,G,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+g+`
`+v+`
`+G+" "+se})}function hr(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Vt(c,v)+(A?" "+A:"")})}function ei(c,g){c.info(function(){return"TIMEOUT: "+g})}cr.prototype.info=function(){};function Vt(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var se=1;se<z.length;se++)z[se]=""}}}}return po(v)}catch{return g}}var bt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},as;function Js(){}L(Js,go),Js.prototype.g=function(){return new XMLHttpRequest},Js.prototype.i=function(){return{}},as=new Js;function ti(c,g,v,A){this.j=c,this.i=g,this.l=v,this.R=A||1,this.U=new ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vo}function vo(){this.i=null,this.g="",this.h=!1}var fr={},os={};function qn(c,g,v){c.L=1,c.v=cs(ht(g)),c.m=v,c.P=!0,Ci(c,null)}function Ci(c,g){c.F=Date.now(),st(c),c.A=ht(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Oi(v.i,"t",A),c.C=0,v=c.j.J,c.h=new vo,c.g=yu(c.j,v?g:null,!c.m),0<c.O&&(c.M=new Ih(D(c.Y,c,c.g),c.O)),g=c.U,v=c.g,A=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(sr[0]=z.toString()),z=sr);for(var G=0;G<z.length;G++){var se=Je(v,z[G],A||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),lr(),nu(c.i,c.u,c.A,c.l,c.R,c.m)}ti.prototype.ca=function(c){c=c.target;const g=this.M;g&&On(c)==3?g.j():this.Y(c)},ti.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=On(this.g);var g=this.g.Ba();const xi=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||uu(this.g)))){this.J||Ct!=4||g==7||(g==8||0>=xi?lr(3):lr(2)),ea(this);var v=this.g.Z();this.X=v;t:if(dr(this)){var A=uu(this.g);c="";var z=A.length,G=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),yn(this);var se="";break t}this.h.i=new m.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(G&&g==z-1)});A.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,iu(this.i,this.u,this.A,this.l,this.R,Ct,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,Rt=this.g;if((Pe=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Pe)){var Le=Pe;break t}}Le=null}if(v=Le)hr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vn(this,v);else{this.o=!1,this.s=3,gt(12),hn(this),yn(this);break e}}if(this.P){v=!0;let Ft;for(;!this.J&&this.C<se.length;)if(Ft=mr(this,se),Ft==os){Ct==4&&(this.s=4,gt(14),v=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==fr){this.s=4,gt(15),hr(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else hr(this.i,this.l,Ft,null),vn(this,Ft);if(dr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||se.length!=0||this.h.h||(this.s=1,gt(16),v=!1),this.o=this.o&&v,!v)hr(this.i,this.l,se,"[Invalid Chunked Response]"),hn(this),yn(this);else if(0<se.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),ys(Lt),Lt.M=!0,gt(11))}}else hr(this.i,this.l,se,null),vn(this,se);Ct==4&&hn(this),this.o&&!this.J&&(Ct==4?mu(this.j,this):(this.o=!1,st(this)))}else xh(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),hn(this),yn(this)}}}catch{}finally{}};function dr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function mr(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?os:(v=Number(g.substring(v,A)),isNaN(v)?fr:(A+=1,A+v>g.length?os:(g=g.slice(A,A+v),c.C=A+v,g)))}ti.prototype.cancel=function(){this.J=!0,hn(this)};function st(c){c.S=Date.now()+c.I,_o(c,c.I)}function _o(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ur(D(c.ba,c),g)}function ea(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ti.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ei(this.i,this.A),this.L!=2&&(lr(),gt(17)),hn(this),this.s=2,yn(this)):_o(this,this.S-c)};function yn(c){c.j.G==0||c.J||mu(c.j,c)}function hn(c){ea(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Xt(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function vn(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||pr(v.h,c))){if(!c.K&&pr(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ca(v),la(v);else break e;Oo(v),gt(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=ur(D(v.Za,v),6e3));if(1>=ru(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ki(v,11)}else if((c.K||v.g==c)&&ca(v),!ee(g))for(z=v.Da.g.parse(g),g=0;g<z.length;g++){let Le=z[g];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const Lt=Le[3];Lt!=null&&(v.la=Lt,v.j.info("VER="+v.la));const Ct=Le[4];Ct!=null&&(v.Aa=Ct,v.j.info("SVER="+v.Aa));const xi=Le[5];xi!=null&&typeof xi=="number"&&0<xi&&(A=1.5*xi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Ft=c.g;if(Ft){const li=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var G=A.h;G.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(gr(G,G.h),G.h=null))}if(A.D){const Mo=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;Mo&&(A.ya=Mo,Fe(A.I,A.D,Mo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var se=c;if(A.qa=gu(A,A.J?A.ia:null,A.W),se.K){Rn(A.h,se);var Pe=se,Rt=A.L;Rt&&(Pe.I=Rt),Pe.B&&(ea(Pe),st(Pe)),A.g=se}else fu(A);0<v.i.length&&ua(v)}else Le[0]!="stop"&&Le[0]!="close"||ki(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?ki(v,7):Io(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}lr(4)}catch{}}var Dh=class{constructor(c,g){this.g=c,this.map=g}};function Eo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function To(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ru(c){return c.h?1:c.g?c.g.size:0}function pr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function gr(c,g){c.g?c.g.add(g):c.h=g}function Rn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Eo.prototype.cancel=function(){if(this.i=sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function sn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return q(c.i)}function su(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,A=0;A<v;A++)g.push(c[A]);return g}g=[],v=0;for(A in c)g[v++]=c[A];return g}function Oh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const A in c)g[v++]=A;return g}}}function ls(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=Oh(c),A=su(c),z=A.length,G=0;G<z;G++)g.call(void 0,A[G],v&&v[G],c)}var So=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),z=null;if(0<=A){var G=c[v].substring(0,A);z=c[v].substring(A+1)}else G=c[v];g(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ii(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ii){this.h=c.h,yr(this,c.j),this.o=c.o,this.g=c.g,us(this,c.s),this.l=c.l;var g=c.i,v=new ni;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),na(this,v),this.m=c.m}else c&&(g=String(c).match(So))?(this.h=!1,yr(this,g[1]||"",!0),this.o=vr(g[2]||""),this.g=vr(g[3]||"",!0),us(this,g[4]),this.l=vr(g[5]||"",!0),na(this,g[6]||"",!0),this.m=vr(g[7]||"")):(this.h=!1,this.i=new ni(null,this.h))}Ii.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Cn(g,Ao,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Cn(g,Ao,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Cn(v,v.charAt(0)=="/"?wo:au,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Cn(v,kh)),c.join("")};function ht(c){return new Ii(c)}function yr(c,g,v){c.j=v?vr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function us(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function na(c,g,v){g instanceof ni?(c.i=g,bo(c.i,c.h)):(v||(g=Cn(g,Mh)),c.i=new ni(g,c.h))}function Fe(c,g,v){c.i.set(g,v)}function cs(c){return Fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function vr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cn(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,Nh),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Nh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ao=/[#\/\?@]/g,au=/[#\?:]/g,wo=/[#\?]/g,Mh=/[#\?@]/g,kh=/#/g;function ni(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function In(c){c.g||(c.g=new Map,c.h=0,c.i&&ta(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=ni.prototype,r.add=function(c,g){In(this),this.i=null,c=Ni(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function ia(c,g){In(c),g=Ni(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Di(c,g){return In(c),g=Ni(c,g),c.g.has(g)}r.forEach=function(c,g){In(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(g,z,A,this)},this)},this)},r.na=function(){In(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let A=0;A<g.length;A++){const z=c[A];for(let G=0;G<z.length;G++)v.push(g[A])}return v},r.V=function(c){In(this);let g=[];if(typeof c=="string")Di(this,c)&&(g=g.concat(this.g.get(Ni(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},r.set=function(c,g){return In(this),this.i=null,c=Ni(this,c),Di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Oi(c,g,v){ia(c,g),0<v.length&&(c.i=null,c.g.set(Ni(c,g),q(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var A=g[v];const G=encodeURIComponent(String(A)),se=this.V(A);for(A=0;A<se.length;A++){var z=G;se[A]!==""&&(z+="="+encodeURIComponent(String(se[A]))),c.push(z)}}return this.i=c.join("&")};function Ni(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function bo(c,g){g&&!c.j&&(In(c),c.i=null,c.g.forEach(function(v,A){var z=A.toLowerCase();A!=z&&(ia(this,A),Oi(this,z,v))},c)),c.j=g}function ou(c,g){const v=new cr;if(m.Image){const A=new Image;A.onload=x(Dn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=x(Dn,v,"TestLoadImage: error",!1,g,A),A.onabort=x(Dn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=x(Dn,v,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function hs(c,g){const v=new cr,A=new AbortController,z=setTimeout(()=>{A.abort(),Dn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(z),G.ok?Dn(v,"TestPingServer: ok",!0,g):Dn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Dn(v,"TestPingServer: error",!1,g)})}function Dn(c,g,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function fs(){this.g=new rn}function ii(c,g,v){const A=v||"";try{ls(c,function(z,G){let se=z;y(z)&&(se=po(z)),g.push(A+G+"="+encodeURIComponent(se))})}catch(z){throw g.push(A+"type="+encodeURIComponent("_badmap")),z}}function _r(c){this.l=c.Ub||null,this.j=c.eb||!1}L(_r,go),_r.prototype.g=function(){return new Mi(this.l,this.j)},_r.prototype.i=function(c){return function(){return c}}({});function Mi(c,g){wt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Mi,wt),r=Mi.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,si(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ro(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ro(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ri(this):si(this),this.readyState==3&&Ro(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ri(this))},r.Qa=function(c){this.g&&(this.response=c,ri(this))},r.ga=function(){this.g&&ri(this)};function ri(c){c.readyState=4,c.l=null,c.j=null,c.v=null,si(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Co(c){let g="";return ie(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Pt(c,g,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Co(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Fe(c,g,v))}function Qe(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Qe,wt);var ra=/^https?$/i,ds=["POST","PUT"];r=Qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():as.g(),this.v=this.o?Jl(this.o):Jl(as),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){lu(this,G);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())v.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ds,g,void 0))||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of v)this.g.setRequestHeader(G,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ms(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){lu(this,G)}};function lu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,sa(c),ai(c)}function sa(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),ai(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),Qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?aa(this):this.bb())},r.bb=function(){aa(this)};function aa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Wl(c.Ea,0,c);else if(xt(c,"readystatechange"),On(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var A;if(A=se===0){var z=String(c.D).match(So)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),A=!ra.test(z?z.toLowerCase():"")}v=A}if(v)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var G=2<On(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",sa(c)}}finally{ai(c)}}}}function ai(c,g){if(c.g){ms(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||xt(c,"ready");try{v.onreadystatechange=A}catch{}}}function ms(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Wn(g)}};function uu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xh(c){const g={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ee(c[A]))continue;var v=N(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=g[z]||[];g[z]=G,G.push(v)}R(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ps(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function oa(c){this.Aa=0,this.i=[],this.j=new cr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ps("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ps("baseRetryDelayMs",5e3,c),this.cb=ps("retryDelaySeedMs",1e4,c),this.Wa=ps("forwardChannelMaxRetries",2,c),this.wa=ps("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Eo(c&&c.concurrentRequestLimit),this.Da=new fs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=oa.prototype,r.la=8,r.G=1,r.connect=function(c,g,v,A){gt(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=gu(this,null,this.W),ua(this)};function Io(c){if(cu(c),c.G==3){var g=c.U++,v=ht(c.I);if(Fe(v,"SID",c.K),Fe(v,"RID",g),Fe(v,"TYPE","terminate"),gs(c,v),g=new ti(c,c.j,g),g.L=2,g.v=cs(ht(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=yu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),st(g)}pu(c)}function la(c){c.g&&(ys(c),c.g.cancel(),c.g=null)}function cu(c){la(c),c.u&&(m.clearTimeout(c.u),c.u=null),ca(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ua(c){if(!To(c.h)&&!c.s){c.s=!0;var g=c.Ga;me||k(),he||(me(),he=!0),be.add(g,c),c.B=0}}function Vh(c,g){return ru(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ur(D(c.Ga,c,g),No(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new ti(this,this.j,c);let G=this.o;if(this.S&&(G?(G=w(G),C(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=hu(this,z,g),v=ht(this.I),Fe(v,"RID",c),Fe(v,"CVER",22),this.D&&Fe(v,"X-HTTP-Session-Id",this.D),gs(this,v),G&&(this.O?g="headers="+encodeURIComponent(String(Co(G)))+"&"+g:this.m&&Pt(v,this.m,G)),gr(this.h,z),this.Ua&&Fe(v,"TYPE","init"),this.P?(Fe(v,"$req",g),Fe(v,"SID","null"),z.T=!0,qn(z,v,null)):qn(z,v,g),this.G=2}}else this.G==3&&(c?Do(this,c):this.i.length==0||To(this.h)||Do(this))};function Do(c,g){var v;g?v=g.l:v=c.U++;const A=ht(c.I);Fe(A,"SID",c.K),Fe(A,"RID",v),Fe(A,"AID",c.T),gs(c,A),c.m&&c.o&&Pt(A,c.m,c.o),v=new ti(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=hu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),gr(c.h,v),qn(v,A,g)}function gs(c,g){c.H&&ie(c.H,function(v,A){Fe(g,A,v)}),c.l&&ls({},function(v,A){Fe(g,A,v)})}function hu(c,g,v){v=Math.min(c.i.length,v);var A=c.l?D(c.l.Na,c.l,c):null;e:{var z=c.i;let G=-1;for(;;){const se=["count="+v];G==-1?0<v?(G=z[0].g,se.push("ofs="+G)):G=0:se.push("ofs="+G);let Pe=!0;for(let Rt=0;Rt<v;Rt++){let Le=z[Rt].g;const Lt=z[Rt].map;if(Le-=G,0>Le)G=Math.max(0,z[Rt].g-100),Pe=!1;else try{ii(Lt,se,"req"+Le+"_")}catch{A&&A(Lt)}}if(Pe){A=se.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,A}function fu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;me||k(),he||(me(),he=!0),be.add(g,c),c.v=0}}function Oo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ur(D(c.Fa,c),No(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ur(D(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),la(this),du(this))};function ys(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function du(c){c.g=new ti(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=ht(c.qa);Fe(g,"RID","rpc"),Fe(g,"SID",c.K),Fe(g,"AID",c.T),Fe(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Fe(g,"TO",c.ja),Fe(g,"TYPE","xmlhttp"),gs(c,g),c.m&&c.o&&Pt(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=cs(ht(g)),v.m=null,v.P=!0,Ci(v,c)}r.Za=function(){this.C!=null&&(this.C=null,la(this),Oo(this),gt(19))};function ca(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function mu(c,g){var v=null;if(c.g==g){ca(c),ys(c),c.g=null;var A=2}else if(pr(c.h,g))v=g.D,Rn(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var z=c.B;A=Zs(),xt(A,new tu(A,v)),ua(c)}else fu(c);else if(z=g.s,z==3||z==0&&0<g.X||!(A==1&&Vh(c,g)||A==2&&Oo(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),z){case 1:ki(c,5);break;case 4:ki(c,10);break;case 3:ki(c,6);break;default:ki(c,2)}}}function No(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function ki(c,g){if(c.j.info("Error code "+g),g==2){var v=D(c.fb,c),A=c.Xa;const z=!A;A=new Ii(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||yr(A,"https"),cs(A),z?ou(A.toString(),v):hs(A.toString(),v)}else gt(2);c.G=0,c.l&&c.l.sa(g),pu(c),cu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function pu(c){if(c.G=0,c.ka=[],c.l){const g=sn(c.h);(g.length!=0||c.i.length!=0)&&(j(c.ka,g),j(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function gu(c,g,v){var A=v instanceof Ii?ht(v):new Ii(v);if(A.g!="")g&&(A.g=g+"."+A.g),us(A,A.s);else{var z=m.location;A=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var G=new Ii(null);A&&yr(G,A),g&&(G.g=g),z&&us(G,z),v&&(G.l=v),A=G}return v=c.D,g=c.ya,v&&g&&Fe(A,v,g),Fe(A,"VER",c.la),gs(c,A),A}function yu(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Qe(new _r({eb:v})):new Qe(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}r=vu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ha(){}ha.prototype.g=function(c,g){return new an(c,g)};function an(c,g){wt.call(this),this.g=new oa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ee(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ee(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new oi(this)}L(an,wt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Io(this.g)},an.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=po(c),c=v);g.i.push(new Dh(g.Ya++,c)),g.G==3&&ua(g)},an.prototype.N=function(){this.g.l=null,delete this.j,Io(this.g),delete this.g,an.aa.N.call(this)};function _u(c){ar.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}L(_u,ar);function Eu(){Hn.call(this),this.status=1}L(Eu,Hn);function oi(c){this.g=c}L(oi,vu),oi.prototype.ua=function(){xt(this.g,"a")},oi.prototype.ta=function(c){xt(this.g,new _u(c))},oi.prototype.sa=function(c){xt(this.g,new Eu)},oi.prototype.ra=function(){xt(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,i0=function(){return new ha},n0=function(){return Zs()},t0=bn,sm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bt.NO_ERROR=0,bt.TIMEOUT=8,bt.HTTP_ERROR=6,Dc=bt,Ri.COMPLETE="complete",e0=Ri,eu.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Al=eu,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,JE=Qe}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});const $v="@firebase/firestore",Qv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new lh("@firebase/firestore");function Ua(){return Bs.logLevel}function fe(r,...e){if(Bs.logLevel<=Me.DEBUG){const n=e.map(xm);Bs.debug(`Firestore (${ao}): ${r}`,...n)}}function nr(r,...e){if(Bs.logLevel<=Me.ERROR){const n=e.map(xm);Bs.error(`Firestore (${ao}): ${r}`,...n)}}function Ya(r,...e){if(Bs.logLevel<=Me.WARN){const n=e.map(xm);Bs.warn(`Firestore (${ao}): ${r}`,...n)}}function xm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(r="Unexpected state"){const e=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+r;throw nr(e),new Error(e)}function ut(r,e){r||Re()}function Be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class rC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sC{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new zs,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new zs)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ut(typeof s.accessToken=="string"),new r0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string"),new en(e)}}class aC{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class oC{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new aC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lC{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Qn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Yv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut(typeof n.token=="string"),this.R=n.token,new Yv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=uC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function je(r,e){return r<e?-1:r>e?1:0}function Xa(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=-62135596800,Zv=1e6;class mn{static now(){return mn.fromMillis(Date.now())}static fromDate(e){return mn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Zv);return new mn(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Xv)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zv}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Xv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new mn(0,0))}static max(){return new we(new mn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="__name__";class mi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Re(),s===void 0?s=e.length-n:s>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=mi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=mi.isNumericId(e),o=mi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?mi.extractNumericId(e).compare(mi.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yr.fromString(e.substring(4,e.length-2))}}class pt extends mi{construct(e,n,s){return new pt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ve(le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const hC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends mi{construct(e,n,s){return new un(e,n,s)}static isValidIdentifier(e){return hC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wv}static keyField(){return new un([Wv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ve(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ve(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ve(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(pt.fromString(e))}static fromName(e){return new Se(pt.fromString(e).popFirst(5))}static empty(){return new Se(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=-1;function fC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new mn(n+1,0):new mn(n,s));return new Wr(o,Se.empty(),e)}function dC(r){return new Wr(r.readTime,r.key,xl)}class Wr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Wr(we.min(),Se.empty(),xl)}static max(){return new Wr(we.max(),Se.empty(),xl)}}function mC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(r.documentKey,e.documentKey),n!==0?n:je(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(r){if(r.code!==le.FAILED_PRECONDITION||r.message!==pC)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function yC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ch.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=-1;function hh(r){return r==null}function am(r){return r===0&&1/r==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="";function _C(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Jv(e)),e=EC(r.get(n),e);return Jv(e)}function EC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case s0:n+="";break;default:n+=u}}return n}function Jv(r){return r+s0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Fl(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function TC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t_(this.data.getIterator())}getIteratorFrom(e){return new t_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class t_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Gr([])}unionWith(e){let n=new Nt(un.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xa(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new a0("Invalid base64 string: "+u):u}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const SC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(r){if(ut(!!r),typeof r=="string"){let e=0;const n=SC.exec(r);if(ut(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function es(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="server_timestamp",l0="__type__",u0="__previous_value__",c0="__local_write_time__";function Vm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[l0])===null||n===void 0?void 0:n.stringValue)===o0}function fh(r){const e=r.mapValue.fields[u0];return Vm(e)?fh(e):e}function Vl(r){const e=Jr(r.mapValue.fields[c0].timestampValue);return new mn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n,s,o,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const qc="(default)";class Pl{constructor(e,n){this.projectId=e,this.database=n||qc}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===qc}isEqual(e){return e instanceof Pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="__type__",bC="__max__",Tc={mapValue:{}},RC="__vector__",om="value";function ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Vm(r)?4:IC(r)?9007199254740991:CC(r)?10:11:Re()}function Ti(r,e){if(r===e)return!0;const n=ts(r);if(n!==ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Vl(r).isEqual(Vl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Jr(o.timestampValue),m=Jr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return es(o.bytesValue).isEqual(es(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?am(f)===am(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Xa(r.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(e_(f)!==e_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ti(f[p],m[p])))return!1;return!0}(r,e);default:return Re()}}function Ll(r,e){return(r.values||[]).find(n=>Ti(n,e))!==void 0}function Za(r,e){if(r===e)return 0;const n=ts(r),s=ts(e);if(n!==s)return je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=vt(u.integerValue||u.doubleValue),p=vt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return n_(r.timestampValue,e.timestampValue);case 4:return n_(Vl(r),Vl(e));case 5:return je(r.stringValue,e.stringValue);case 6:return function(u,f){const m=es(u),p=es(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=je(m[y],p[y]);if(E!==0)return E}return je(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=je(vt(u.latitude),vt(f.latitude));return m!==0?m:je(vt(u.longitude),vt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return i_(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const b=u.fields||{},D=f.fields||{},x=(m=b[om])===null||m===void 0?void 0:m.arrayValue,L=(p=D[om])===null||p===void 0?void 0:p.arrayValue,q=je(((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0,((E=L==null?void 0:L.values)===null||E===void 0?void 0:E.length)||0);return q!==0?q:i_(x,L)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Tc.mapValue&&f===Tc.mapValue)return 0;if(u===Tc.mapValue)return 1;if(f===Tc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const D=je(p[b],E[b]);if(D!==0)return D;const x=Za(m[p[b]],y[E[b]]);if(x!==0)return x}return je(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Re()}}function n_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return je(r,e);const n=Jr(r),s=Jr(e),o=je(n.seconds,s.seconds);return o!==0?o:je(n.nanos,s.nanos)}function i_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Za(n[o],s[o]);if(u)return u}return je(n.length,s.length)}function Wa(r){return lm(r)}function lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Jr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return es(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Se.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=lm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${lm(n.fields[f])}`;return o+"}"}(r.mapValue):Re()}function Oc(r){switch(ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fh(r);return e?16+Oc(e):16;case 5:return 2*r.stringValue.length;case 6:return es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Oc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Fl(s.fields,(u,f)=>{o+=u.length+Oc(f)}),o}(r.mapValue);default:throw Re()}}function um(r){return!!r&&"integerValue"in r}function Pm(r){return!!r&&"arrayValue"in r}function r_(r){return!!r&&"nullValue"in r}function s_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zd(r){return!!r&&"mapValue"in r}function CC(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[wC])===null||n===void 0?void 0:n.stringValue)===RC}function Rl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Fl(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Rl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function IC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===bC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.value=e}static empty(){return new pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rl(n)}setAll(e){let n=un.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Rl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];zd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Fl(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new pi(Rl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,we.min(),we.min(),we.min(),pi.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,we.min(),we.min(),pi.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,we.min(),we.min(),pi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n){this.position=e,this.inclusive=n}}function a_(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Se.comparator(Se.fromName(f.referenceValue),n.key):s=Za(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function o_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ti(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n="asc"){this.field=e,this.dir=n}}function DC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{}class Ot extends h0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new NC(e,n,s):n==="array-contains"?new xC(e,s):n==="in"?new VC(e,s):n==="not-in"?new PC(e,s):n==="array-contains-any"?new LC(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new MC(e,s):new kC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Za(n,this.value)):n!==null&&ts(this.value)===ts(n)&&this.matchesComparison(Za(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends h0{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Si(e,n)}matches(e){return f0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function f0(r){return r.op==="and"}function d0(r){return OC(r)&&f0(r)}function OC(r){for(const e of r.filters)if(e instanceof Si)return!1;return!0}function cm(r){if(r instanceof Ot)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(d0(r))return r.filters.map(e=>cm(e)).join(",");{const e=r.filters.map(n=>cm(n)).join(",");return`${r.op}(${e})`}}function m0(r,e){return r instanceof Ot?function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&Ti(s.value,o.value)}(r,e):r instanceof Si?function(s,o){return o instanceof Si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&m0(f,o.filters[m]),!0):!1}(r,e):void Re()}function p0(r){return r instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Wa(n.value)}`}(r):r instanceof Si?function(n){return n.op.toString()+" {"+n.getFilters().map(p0).join(" ,")+"}"}(r):"Filter"}class NC extends Ot{constructor(e,n,s){super(e,n,s),this.key=Se.fromName(s.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class MC extends Ot{constructor(e,n){super(e,"in",n),this.keys=g0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kC extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=g0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function g0(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Se.fromName(s.referenceValue))}class xC extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pm(n)&&Ll(n.arrayValue,this.value)}}class VC extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ll(this.value.arrayValue,n)}}class PC extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ll(this.value.arrayValue,n)}}class LC extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ll(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function l_(r,e=null,n=[],s=[],o=null,u=null,f=null){return new UC(r,e,n,s,o,u,f)}function Lm(r){const e=Be(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>cm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Wa(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Wa(s)).join(",")),e.le=n}return e.le}function Um(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!DC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!m0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!o_(r.startAt,e.startAt)&&o_(r.endAt,e.endAt)}function hm(r){return Se.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function zC(r,e,n,s,o,u,f,m){return new dh(r,e,n,s,o,u,f,m)}function y0(r){return new dh(r)}function u_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function jC(r){return r.collectionGroup!==null}function Cl(r){const e=Be(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Nt(un.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Gc(u,s))}),n.has(un.keyField().canonicalString())||e.he.push(new Gc(un.keyField(),s))}return e.he}function gi(r){const e=Be(r);return e.Pe||(e.Pe=BC(e,Cl(r))),e.Pe}function BC(r,e){if(r.limitType==="F")return l_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Gc(o.field,u)});const n=r.endAt?new Fc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Fc(r.startAt.position,r.startAt.inclusive):null;return l_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function fm(r,e,n){return new dh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function mh(r,e){return Um(gi(r),gi(e))&&r.limitType===e.limitType}function v0(r){return`${Lm(gi(r))}|lt:${r.limitType}`}function za(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>p0(o)).join(", ")}]`),hh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Wa(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Wa(o)).join(",")),`Target(${s})`}(gi(r))}; limitType=${r.limitType})`}function ph(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Se.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Cl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=a_(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,Cl(s),o)||s.endAt&&!function(f,m,p){const y=a_(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,Cl(s),o))}(r,e)}function HC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function _0(r){return(e,n)=>{let s=!1;for(const o of Cl(r)){const u=qC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function qC(r,e,n){const s=r.field.isKeyField()?Se.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Za(p,y):Re()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Fl(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return TC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=new _t(Se.comparator);function ns(){return FC}const E0=new _t(Se.comparator);function wl(...r){let e=E0;for(const n of r)e=e.insert(n.key,n);return e}function GC(r){let e=E0;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ls(){return Il()}function T0(){return Il()}function Il(){return new Qs(r=>r.toString(),(r,e)=>r.isEqual(e))}const KC=new Nt(Se.comparator);function He(...r){let e=KC;for(const n of r)e=e.add(n);return e}const $C=new Nt(je);function QC(){return $C}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:am(e)?"-0":e}}function XC(r){return{integerValue:""+r}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(){this._=void 0}}function ZC(r,e,n){return r instanceof dm?function(o,u){const f={fields:{[l0]:{stringValue:o0},[c0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Vm(u)&&(u=fh(u)),u&&(f.fields[u0]=u),{mapValue:f}}(n,e):r instanceof Kc?S0(r,e):r instanceof $c?A0(r,e):function(o,u){const f=JC(o,u),m=c_(f)+c_(o.Ie);return um(f)&&um(o.Ie)?XC(m):YC(o.serializer,m)}(r,e)}function WC(r,e,n){return r instanceof Kc?S0(r,e):r instanceof $c?A0(r,e):n}function JC(r,e){return r instanceof mm?function(s){return um(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class dm extends gh{}class Kc extends gh{constructor(e){super(),this.elements=e}}function S0(r,e){const n=w0(e);for(const s of r.elements)n.some(o=>Ti(o,s))||n.push(s);return{arrayValue:{values:n}}}class $c extends gh{constructor(e){super(),this.elements=e}}function A0(r,e){let n=w0(e);for(const s of r.elements)n=n.filter(o=>!Ti(o,s));return{arrayValue:{values:n}}}class mm extends gh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function c_(r){return vt(r.integerValue||r.doubleValue)}function w0(r){return Pm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function e1(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Kc&&o instanceof Kc||s instanceof $c&&o instanceof $c?Xa(s.elements,o.elements,Ti):s instanceof mm&&o instanceof mm?Ti(s.Ie,o.Ie):s instanceof dm&&o instanceof dm}(r.transform,e.transform)}class js{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new js}static exists(e){return new js(void 0,e)}static updateTime(e){return new js(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class zm{}function b0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new n1(r.key,js.none()):new jm(r.key,r.data,js.none());{const n=r.data,s=pi.empty();let o=new Nt(un.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new yh(r.key,s,new Gr(o.toArray()),js.none())}}function t1(r,e,n){r instanceof jm?function(o,u,f){const m=o.value.clone(),p=f_(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof yh?function(o,u,f){if(!Nc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=f_(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(R0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Dl(r,e,n,s){return r instanceof jm?function(u,f,m,p){if(!Nc(u.precondition,f))return m;const y=u.value.clone(),E=d_(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof yh?function(u,f,m,p){if(!Nc(u.precondition,f))return m;const y=d_(u.fieldTransforms,p,f),E=f.data;return E.setAll(R0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,n,s):function(u,f,m){return Nc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function h_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Xa(s,o,(u,f)=>e1(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class jm extends zm{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class yh extends zm{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function R0(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function f_(r,e,n){const s=new Map;ut(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,WC(f,m,n[o]))}return s}function d_(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,ZC(u,f,e))}return s}class n1 extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&t1(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Dl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Dl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=T0();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=b0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&Xa(this.mutations,e.mutations,(n,s)=>h_(n,s))&&Xa(this.baseMutations,e.baseMutations,(n,s)=>h_(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,ze;function C0(r){if(r===void 0)return nr("GRPC error has no .code"),le.UNKNOWN;switch(r){case At.OK:return le.OK;case At.CANCELLED:return le.CANCELLED;case At.UNKNOWN:return le.UNKNOWN;case At.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case At.INTERNAL:return le.INTERNAL;case At.UNAVAILABLE:return le.UNAVAILABLE;case At.UNAUTHENTICATED:return le.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case At.NOT_FOUND:return le.NOT_FOUND;case At.ALREADY_EXISTS:return le.ALREADY_EXISTS;case At.PERMISSION_DENIED:return le.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case At.ABORTED:return le.ABORTED;case At.OUT_OF_RANGE:return le.OUT_OF_RANGE;case At.UNIMPLEMENTED:return le.UNIMPLEMENTED;case At.DATA_LOSS:return le.DATA_LOSS;default:return Re()}}(ze=At||(At={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=new Yr([4294967295,4294967295],0);function m_(r){const e=a1().encode(r),n=new WE;return n.update(e),new Uint8Array(n.digest())}function p_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Yr([n,s],0),new Yr([o,u],0)]}class Bm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new bl(`Invalid padding: ${n}`);if(s<0)throw new bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new bl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Yr.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Yr.fromNumber(s)));return o.compare(o1)===1&&(o=new Yr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=m_(e),[s,o]=p_(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Bm(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=m_(e),[s,o]=p_(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Gl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new vh(we.min(),o,new _t(je),ns(),He())}}class Gl{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Gl(s,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class I0{constructor(e,n){this.targetId=e,this.ge=n}}class D0{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class g_{constructor(){this.pe=0,this.ye=y_(),this.we=Yt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=He(),n=He(),s=He();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Re()}}),new Gl(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=y_()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ut(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class l1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ns(),this.$e=Sc(),this.Ke=Sc(),this.Ue=new _t(je)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(hm(u))if(s===0){const f=new Se(u.path);this.ze(n,f,tn.newNoDocument(f,we.min()))}else ut(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=es(s).toUint8Array()}catch(p){if(p instanceof a0)return Ya("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Bm(f,o,u)}catch(p){return Ya(p instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&hm(m.target)){const p=new Se(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,tn.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=He();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new vh(e,n,this.Ue,this.Qe,s);return this.Qe=ns(),this.$e=Sc(),this.Ke=Sc(),this.Ue=new _t(je),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new g_,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Nt(je),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Nt(je),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new g_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Sc(){return new _t(Se.comparator)}function y_(){return new _t(Se.comparator)}const u1={asc:"ASCENDING",desc:"DESCENDING"},c1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h1={and:"AND",or:"OR"};class f1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pm(r,e){return r.useProto3Json||hh(e)?e:{value:e}}function d1(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function qa(r){return ut(!!r),we.fromTimestamp(function(n){const s=Jr(n);return new mn(s.seconds,s.nanos)}(r))}function p1(r,e){return gm(r,e).canonicalString()}function gm(r,e){const n=function(o){return new pt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function O0(r){const e=pt.fromString(r);return ut(V0(e)),e}function jd(r,e){const n=O0(e);if(n.get(1)!==r.databaseId.projectId)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Se(M0(n))}function N0(r,e){return p1(r.databaseId,e)}function g1(r){const e=O0(r);return e.length===4?pt.emptyPath():M0(e)}function v_(r){return new pt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function M0(r){return ut(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function y1(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(ut(E===void 0||typeof E=="string"),Yt.fromBase64String(E||"")):(ut(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Yt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?le.UNKNOWN:C0(y.code);return new ve(E,y.message||"")}(f);n=new D0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=jd(r,s.document.name),u=qa(s.document.updateTime),f=s.document.createTime?qa(s.document.createTime):we.min(),m=new pi({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Mc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=jd(r,s.document),u=s.readTime?qa(s.readTime):we.min(),f=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Mc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=jd(r,s.document),u=s.removedTargetIds||[];n=new Mc([],u,o,null)}else{if(!("filter"in e))return Re();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new s1(o,u),m=s.targetId;n=new I0(m,f)}}return n}function v1(r,e){return{documents:[N0(r,e.path)]}}function _1(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=N0(r,o);const u=function(y){if(y.length!==0)return x0(Si.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(D){return{field:ja(D.field),direction:S1(D.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=pm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function E1(r){let e=g1(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ut(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(b){const D=k0(b);return D instanceof Si&&d0(D)?D.getFilters():[D]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(D=>function(L){return new Gc(Ba(L.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(D))}(n.orderBy));let m=null;n.limit&&(m=function(b){let D;return D=typeof b=="object"?b.value:b,hh(D)?null:D}(n.limit));let p=null;n.startAt&&(p=function(b){const D=!!b.before,x=b.values||[];return new Fc(x,D)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const D=!b.before,x=b.values||[];return new Fc(x,D)}(n.endAt)),zC(e,o,f,u,m,"F",p,y)}function T1(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function k0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ba(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ba(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ba(n.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ba(n.unaryFilter.field);return Ot.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(r):r.fieldFilter!==void 0?function(n){return Ot.create(Ba(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Si.create(n.compositeFilter.filters.map(s=>k0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(r):Re()}function S1(r){return u1[r]}function A1(r){return c1[r]}function w1(r){return h1[r]}function ja(r){return{fieldPath:r.canonicalString()}}function Ba(r){return un.fromServerFormat(r.fieldPath)}function x0(r){return r instanceof Ot?function(n){if(n.op==="=="){if(s_(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NAN"}};if(r_(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s_(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NOT_NAN"}};if(r_(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(n.field),op:A1(n.op),value:n.value}}}(r):r instanceof Si?function(n){const s=n.getFilters().map(o=>x0(o));return s.length===1?s[0]:{compositeFilter:{op:w1(n.op),filters:s}}}(r):Re()}function V0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,s,o,u=we.min(),f=we.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.Tt=e}}function R1(r){const e=E1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?fm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.Tn=new I1}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Wr.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class I1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Nt(pt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},P0=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(P0,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ja(0)}static Un(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="LruGarbageCollector",D1=1048576;function T_([r,e],[n,s]){const o=je(r,n);return o===0?je(e,s):o}class O1{constructor(e){this.Hn=e,this.buffer=new Nt(T_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();T_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class N1{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){fe(E_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oo(n)?fe(E_,"Ignoring IndexedDB error during garbage collection: ",n):await uh(n)}await this.er(3e5)})}}class M1{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(ch.ae);const s=new O1(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(__)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),__):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),Ua()<=Me.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function k1(r,e){return new M1(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.changes=new Qs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Dl(s.mutation,o,Gr.empty(),mn.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,He()).next(()=>s))}getLocalViewOfDocuments(e,n,s=He()){const o=Ls();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=wl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ls();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,He()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ns();const f=Il(),m=function(){return Il()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof yh)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Dl(E.mutation,y,E.mutation.getFieldMask(),mn.now())):f.set(y.key,Gr.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var b;return m.set(y,new V1(E,(b=f.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Il();let o=new _t((f,m)=>f-m),u=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Gr.empty();E=m.applyToLocalView(y,E),s.set(p,E);const b=(o.get(m.batchId)||He()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,b=T0();E.forEach(D=>{if(!u.has(D)){const x=b0(n.get(D),s.get(D));x!==null&&b.set(D,x),u=u.add(D)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,b))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return Se.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(Ls());let m=xl,p=u;return f.next(y=>J.forEach(y,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(D=>{p=p.insert(E,D)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,He())).next(E=>({batchId:m,changes:GC(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(s=>{let o=wl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=wl();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const y=function(b,D){return new dh(D,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((b,D)=>{f=f.insert(b,D)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,tn.newInvalidDocument(E)))});let m=wl();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&Dl(E.mutation,y,Gr.empty(),mn.now()),ph(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:qa(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:R1(o.bundledQuery),readTime:qa(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.overlays=new _t(Se.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ls();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=Ls(),u=n.length+1,f=new Se(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new _t((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ls(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ls(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return J.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new r1(n,s));let u=this.Rr.get(n);u===void 0&&(u=He(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(){this.Vr=new Nt(Bt.mr),this.gr=new Nt(Bt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Bt(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new Se(new pt([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Se(new pt([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=He();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Bt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Se.comparator(e.key,n.key)||je(e.Cr,n.Cr)}static pr(e,n){return je(e.Cr,n.Cr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Nt(Bt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new i1(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?vC:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Nt(je);return n.forEach(o=>{const u=new Bt(o,0),f=new Bt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Se.isDocumentKey(u)||(u=u.child(""));const f=new Bt(new Se(u),0);let m=new Nt(je);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),J.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ut(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(n.mutations,o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.kr=e,this.docs=function(){return new _t(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=ns();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ns();const f=n.path,m=new Se(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||mC(dC(E),s)<=0||(o.has(E.key)||ph(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Re()}qr(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new H1(this)}getSize(e){return J.resolve(this.size)}}class H1 extends x1{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.persistence=e,this.Qr=new Qs(n=>Lm(n),Um),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Hm,this.targetCount=0,this.Ur=Ja.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Ja(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new ch(0),this.zr=!1,this.zr=!0,this.jr=new z1,this.referenceDelegate=e(this),this.Hr=new q1(this),this.indexManager=new C1,this.remoteDocumentCache=function(o){return new B1(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new b1(n),this.Yr=new L1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new U1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new j1(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new F1(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class F1 extends gC{constructor(e){super(),this.currentSequenceNumber=e}}class qm{constructor(e){this.persistence=e,this.ti=new Hm,this.ni=null}static ri(e){return new qm(e)}get ii(){if(this.ni)return this.ni;throw Re()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=Se.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Qc{constructor(e,n){this.persistence=e,this.oi=new Qs(s=>_C(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=k1(this,n)}static ri(e,n){return new Qc(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Oc(e.data.value)),n}ar(e,n,s){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=He(),o=He();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Fm(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Lb()?8:yC(nn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new G1;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Ua()<=Me.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(Ua()<=Me.DEBUG&&fe("QueryEngine","Query:",za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ua()<=Me.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):J.resolve())}rs(e,n){if(u_(n))return J.resolve(null);let s=gi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=fm(n,null,"F"),s=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=He(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(e,fm(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,s,o){return u_(n)||o.isEqual(we.min())?J.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?J.resolve(null):(Ua()<=Me.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),za(n)),this.hs(e,f,n,fC(o,xl)).next(m=>m))})}cs(e,n){let s=new Nt(_0(e));return n.forEach((o,u)=>{ph(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Ua()<=Me.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",za(n)),this.ns.getDocumentsMatchingQuery(e,n,Wr.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="LocalStore",$1=3e8;class Q1{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new _t(je),this.Is=new Qs(u=>Lm(u),Um),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function Y1(r,e,n,s){return new Q1(r,e,n,s)}async function U0(r,e){const n=Be(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=He();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function z0(r){const e=Be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function X1(r,e){const n=Be(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,b)=>{const D=o.get(b);if(!D)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,b)));let x=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(Yt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),o=o.insert(b,x),function(q,j,B){return q.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=$1?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(D,x,E)&&m.push(n.Hr.updateTargetData(u,x))});let p=ns(),y=He();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(Z1(u,f,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(we.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=o,u))}function Z1(r,e,n){let s=He(),o=He();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=ns();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):fe(Gm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function W1(r,e){const n=Be(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Kr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function ym(r,e,n){const s=Be(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!oo(f))throw f;fe(Gm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function S_(r,e,n){const s=Be(r);let o=we.min(),u=He();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const b=Be(p),D=b.Is.get(E);return D!==void 0?J.resolve(b.Ts.get(D)):b.Hr.getTargetData(y,E)}(s,f,gi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:He())).next(m=>(J1(s,HC(e),m),{documents:m,gs:u})))}function J1(r,e,n){let s=r.Es.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class A_{constructor(){this.activeTargetIds=QC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eI{constructor(){this.ho=new A_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new A_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="ConnectivityMonitor";class b_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){fe(w_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){fe(w_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function vm(){return Ac===null?Ac=function(){return 268435456+Math.round(2147483648*Math.random())}():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="RestConnection",nI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iI{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===qc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const f=vm(),m=this.So(e,n.toUriEncodedString());fe(Bd,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(y=>(fe(Bd,`Received RPC '${e}' ${f}: `,y),y),y=>{throw Ya(Bd,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,n,s,o,u,f){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ao}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=nI[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class sI extends iI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=vm();return new Promise((f,m)=>{const p=new JE;p.setWithCredentials(!0),p.listenOnce(e0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Dc.NO_ERROR:const E=p.getResponseJson();fe(Jt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Dc.TIMEOUT:fe(Jt,`RPC '${e}' ${u} timed out`),m(new ve(le.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const b=p.getStatus();if(fe(Jt,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const x=D==null?void 0:D.error;if(x&&x.status&&x.message){const L=function(j){const B=j.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(B)>=0?B:le.UNKNOWN}(x.status);m(new ve(L,x.message))}else m(new ve(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ve(le.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{fe(Jt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);fe(Jt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(e,n,s){const o=vm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=i0(),m=n0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");fe(Jt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=f.createWebChannel(E,p);let D=!1,x=!1;const L=new rI({Fo:j=>{x?fe(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(D||(fe(Jt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),D=!0),fe(Jt,`RPC '${e}' stream ${o} sending:`,j),b.send(j))},Mo:()=>b.close()}),q=(j,B,ee)=>{j.listen(B,Z=>{try{ee(Z)}catch(ue){setTimeout(()=>{throw ue},0)}})};return q(b,Al.EventType.OPEN,()=>{x||(fe(Jt,`RPC '${e}' stream ${o} transport opened.`),L.Qo())}),q(b,Al.EventType.CLOSE,()=>{x||(x=!0,fe(Jt,`RPC '${e}' stream ${o} transport closed`),L.Ko())}),q(b,Al.EventType.ERROR,j=>{x||(x=!0,Ya(Jt,`RPC '${e}' stream ${o} transport errored:`,j),L.Ko(new ve(le.UNAVAILABLE,"The operation could not be completed")))}),q(b,Al.EventType.MESSAGE,j=>{var B;if(!x){const ee=j.data[0];ut(!!ee);const Z=ee,ue=(Z==null?void 0:Z.error)||((B=Z[0])===null||B===void 0?void 0:B.error);if(ue){fe(Jt,`RPC '${e}' stream ${o} received error:`,ue);const ce=ue.status;let ie=function(S){const C=At[S];if(C!==void 0)return C0(C)}(ce),R=ue.message;ie===void 0&&(ie=le.INTERNAL,R="Unknown error status: "+ce+" with message "+ue.message),x=!0,L.Ko(new ve(ie,R)),b.close()}else fe(Jt,`RPC '${e}' stream ${o} received:`,ee),L.Uo(ee)}}),q(m,t0.STAT_EVENT,j=>{j.stat===sm.PROXY?fe(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===sm.NOPROXY&&fe(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function Hd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(r){return new f1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="PersistentStream";class aI{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new B0(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new ve(le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return fe(R_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(fe(R_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oI extends aI{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=y1(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?qa(f.readTime):we.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=v_(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=hm(p)?{documents:v1(u,p)}:{query:_1(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=m1(u,f.resumeToken);const y=pm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=d1(u,f.snapshotVersion.toTimestamp());const y=pm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=T1(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=v_(this.serializer),n.removeTarget=e,this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{}class uI extends lI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,gm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(le.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,gm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ve(le.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class cI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(nr(n),this.N_=!1):fe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="RemoteStore";class hI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{$l(this)&&(fe(eo,"Restarting streams for network reachability change."),await async function(p){const y=Be(p);y.W_.add(4),await Kl(y),y.j_.set("Unknown"),y.W_.delete(4),await _h(y)}(this))})}),this.j_=new cI(s,o)}}async function _h(r){if($l(r))for(const e of r.G_)await e(!0)}async function Kl(r){for(const e of r.G_)await e(!1)}function H0(r,e){const n=Be(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Ym(n)?Qm(n):lo(n).c_()&&$m(n,e))}function Km(r,e){const n=Be(r),s=lo(n);n.U_.delete(e),s.c_()&&q0(n,e),n.U_.size===0&&(s.c_()?s.P_():$l(n)&&n.j_.set("Unknown"))}function $m(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lo(r).y_(e)}function q0(r,e){r.H_.Ne(e),lo(r).w_(e)}function Qm(r){r.H_=new l1({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),lo(r).start(),r.j_.B_()}function Ym(r){return $l(r)&&!lo(r).u_()&&r.U_.size>0}function $l(r){return Be(r).W_.size===0}function F0(r){r.H_=void 0}async function fI(r){r.j_.set("Online")}async function dI(r){r.U_.forEach((e,n)=>{$m(r,e)})}async function mI(r,e){F0(r),Ym(r)?(r.j_.q_(e),Qm(r)):r.j_.set("Unknown")}async function pI(r,e,n){if(r.j_.set("Online"),e instanceof D0&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){fe(eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await C_(r,s)}else if(e instanceof Mc?r.H_.We(e):e instanceof I0?r.H_.Ze(e):r.H_.je(e),!n.isEqual(we.min()))try{const s=await z0(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(y);E&&u.U_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),q0(u,p);const b=new Kr(E.target,p,y,E.sequenceNumber);$m(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){fe(eo,"Failed to raise snapshot:",s),await C_(r,s)}}async function C_(r,e,n){if(!oo(e))throw e;r.W_.add(1),await Kl(r),r.j_.set("Offline"),n||(n=()=>z0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{fe(eo,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await _h(r)})}async function I_(r,e){const n=Be(r);n.asyncQueue.verifyOperationInProgress(),fe(eo,"RemoteStore received new credentials");const s=$l(n);n.W_.add(3),await Kl(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await _h(n)}async function gI(r,e){const n=Be(r);e?(n.W_.delete(2),await _h(n)):e||(n.W_.add(2),await Kl(n),n.j_.set("Unknown"))}function lo(r){return r.J_||(r.J_=function(n,s,o){const u=Be(n);return u.M_(),new oI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:fI.bind(null,r),No:dI.bind(null,r),Lo:mI.bind(null,r),p_:pI.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Ym(r)?Qm(r):r.j_.set("Unknown")):(await r.J_.stop(),F0(r))})),r.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Xm(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function G0(r,e){if(nr("AsyncQueue",`${e}: ${r}`),oo(r))return new ve(le.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{static emptySet(e){return new Fa(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Se.comparator(n.key,s.key):(n,s)=>Se.comparator(n.key,s.key),this.keyedMap=wl(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Fa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.Z_=new _t(Se.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Re():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class to{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new to(e,n,Fa.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class vI{constructor(){this.queries=O_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Be(n),u=o.queries;o.queries=O_(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ve(le.ABORTED,"Firestore shutting down"))}}function O_(){return new Qs(r=>v0(r),mh)}async function _I(r,e){const n=Be(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new yI,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=G0(f,`Initialization of query '${za(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Zm(n)}async function EI(r,e){const n=Be(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function TI(r,e){const n=Be(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Zm(n)}function SI(r,e,n){const s=Be(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Zm(r){r.ia.forEach(e=>{e.next()})}var _m,N_;(N_=_m||(_m={}))._a="default",N_.Cache="cache";class AI{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new to(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=to.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==_m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){this.key=e}}class $0{constructor(e){this.key=e}}class wI{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=He(),this.mutatedKeys=He(),this.ya=_0(e),this.wa=new Fa(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new D_,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const D=o.get(E),x=ph(this.query,b)?b:null,L=!!D&&this.mutatedKeys.has(D.key),q=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let j=!1;D&&x?D.data.isEqual(x.data)?L!==q&&(s.track({type:3,doc:x}),j=!0):this.va(D,x)||(s.track({type:2,doc:x}),j=!0,(p&&this.ya(x,p)>0||y&&this.ya(x,y)<0)&&(m=!0)):!D&&x?(s.track({type:0,doc:x}),j=!0):D&&!x&&(s.track({type:1,doc:D}),j=!0,(p||y)&&(m=!0)),j&&(x?(f=f.add(x),u=q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,b)=>function(x,L){const q=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return q(x)-q(L)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new to(this.query,e.wa,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new D_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=He(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new $0(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new K0(s))}),n}Oa(e){this.fa=e.gs,this.pa=He();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return to.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Wm="SyncEngine";class bI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class RI{constructor(e){this.key=e,this.Ba=!1}}class CI{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Qs(m=>v0(m),mh),this.qa=new Map,this.Qa=new Set,this.$a=new _t(Se.comparator),this.Ka=new Map,this.Ua=new Hm,this.Wa={},this.Ga=new Map,this.za=Ja.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function II(r,e,n=!0){const s=W0(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Q0(s,e,n,!0),o}async function DI(r,e){const n=W0(r);await Q0(n,e,!0,!1)}async function Q0(r,e,n,s){const o=await W1(r.localStore,gi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await OI(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&H0(r.remoteStore,o),m}async function OI(r,e,n,s,o){r.Ha=(b,D,x)=>async function(q,j,B,ee){let Z=j.view.Sa(B);Z.ls&&(Z=await S_(q.localStore,j.query,!1).then(({documents:R})=>j.view.Sa(R,Z)));const ue=ee&&ee.targetChanges.get(j.targetId),ce=ee&&ee.targetMismatches.get(j.targetId)!=null,ie=j.view.applyChanges(Z,q.isPrimaryClient,ue,ce);return k_(q,j.targetId,ie.Ma),ie.snapshot}(r,b,D,x);const u=await S_(r.localStore,e,!0),f=new wI(e,u.gs),m=f.Sa(u.documents),p=Gl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);k_(r,n,y.Ma);const E=new bI(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),y.snapshot}async function NI(r,e,n){const s=Be(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!mh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ym(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Km(s.remoteStore,o.targetId),Em(s,o.targetId)}).catch(uh)):(Em(s,o.targetId),await ym(s.localStore,o.targetId,!0))}async function MI(r,e){const n=Be(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Km(n.remoteStore,s.targetId))}async function Y0(r,e){const n=Be(r);try{const s=await X1(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(ut(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?ut(f.Ba):o.removedDocuments.size>0&&(ut(f.Ba),f.Ba=!1))}),await Z0(n,s,e)}catch(s){await uh(s)}}function M_(r,e,n){const s=Be(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Be(f);p.onlineState=m;let y=!1;p.queries.forEach((E,b)=>{for(const D of b.ta)D.sa(m)&&(y=!0)}),y&&Zm(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function kI(r,e,n){const s=Be(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new _t(Se.comparator);f=f.insert(u,tn.newNoDocument(u,we.min()));const m=He().add(u),p=new vh(we.min(),new Map,new _t(je),f,m);await Y0(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Jm(s)}else await ym(s.localStore,e,!1).then(()=>Em(s,e,n)).catch(uh)}function Em(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||X0(r,s)})}function X0(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Km(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),Jm(r))}function k_(r,e,n){for(const s of n)s instanceof K0?(r.Ua.addReference(s.key,e),xI(r,s)):s instanceof $0?(fe(Wm,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||X0(r,s.key)):Re()}function xI(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(fe(Wm,"New document in limbo: "+n),r.Qa.add(s),Jm(r))}function Jm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new Se(pt.fromString(e)),s=r.za.next();r.Ka.set(s,new RI(n)),r.$a=r.$a.insert(n,s),H0(r.remoteStore,new Kr(gi(y0(n.path)),s,"TargetPurposeLimboResolution",ch.ae))}}async function Z0(r,e,n){const s=Be(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const b=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Fm.Yi(p.targetId,y);u.push(b)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const E=Be(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>J.forEach(y,D=>J.forEach(D.Hi,x=>E.persistence.referenceDelegate.addReference(b,D.targetId,x)).next(()=>J.forEach(D.Ji,x=>E.persistence.referenceDelegate.removeReference(b,D.targetId,x)))))}catch(b){if(!oo(b))throw b;fe(Gm,"Failed to update sequence numbers: "+b)}for(const b of y){const D=b.targetId;if(!b.fromCache){const x=E.Ts.get(D),L=x.snapshotVersion,q=x.withLastLimboFreeSnapshotVersion(L);E.Ts=E.Ts.insert(D,q)}}}(s.localStore,u))}async function VI(r,e){const n=Be(r);if(!n.currentUser.isEqual(e)){fe(Wm,"User change. New user:",e.toKey());const s=await U0(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ve(le.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Z0(n,s.Rs)}}function PI(r,e){const n=Be(r),s=n.Ka.get(e);if(s&&s.Ba)return He().add(s.key);{let o=He();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function W0(r){const e=Be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kI.bind(null,e),e.La.p_=TI.bind(null,e.eventManager),e.La.Ja=SI.bind(null,e.eventManager),e}class Yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=j0(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return Y1(this.persistence,new K1,e.initialUser,this.serializer)}Xa(e){return new L0(qm.ri,this.serializer)}Za(e){return new eI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yc.provider={build:()=>new Yc};class LI extends Yc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){ut(this.persistence.referenceDelegate instanceof Qc);const s=this.persistence.referenceDelegate.garbageCollector;return new N1(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new L0(s=>Qc.ri(s,n),this.serializer)}}class Tm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>M_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=VI.bind(null,this.syncEngine),await gI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vI}()}createDatastore(e){const n=j0(e.databaseInfo.databaseId),s=function(u){return new sI(u)}(e.databaseInfo);return function(u,f,m,p){return new uI(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new hI(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>M_(this.syncEngine,n,0),function(){return b_.D()?new b_:new tI}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,E){const b=new CI(o,u,f,m,p,y);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Be(o);fe(eo,"RemoteStore shutting down."),u.W_.add(5),await Kl(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Tm.provider={build:()=>new Tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="FirestoreClient";class zI{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=cC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{fe(is,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(fe(is,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=G0(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function qd(r,e){r.asyncQueue.verifyOperationInProgress(),fe(is,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await U0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function x_(r,e){r.asyncQueue.verifyOperationInProgress();const n=await jI(r);fe(is,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>I_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>I_(e.remoteStore,o)),r._onlineComponents=e}async function jI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(is,"Using user provided OfflineComponentProvider");try{await qd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ya("Error using user provided cache. Falling back to memory cache: "+n),await qd(r,new Yc)}}else fe(is,"Using default OfflineComponentProvider"),await qd(r,new LI(void 0));return r._offlineComponents}async function BI(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(is,"Using user provided OnlineComponentProvider"),await x_(r,r._uninitializedComponentsProvider._online)):(fe(is,"Using default OnlineComponentProvider"),await x_(r,new Tm))),r._onlineComponents}async function HI(r){const e=await BI(r),n=e.eventManager;return n.onListen=II.bind(null,e.syncEngine),n.onUnlisten=NI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MI.bind(null,e.syncEngine),n}function qI(r,e,n={}){const s=new zs;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new UI({next:D=>{E.su(),f.enqueueAndForget(()=>EI(u,b)),D.fromCache&&p.source==="server"?y.reject(new ve(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),b=new AI(m,E,{includeMetadataChanges:!0,Ta:!0});return _I(u,b)}(await HI(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(r,e,n){if(!n)throw new ve(le.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function GI(r,e,n,s){if(e===!0&&s===!0)throw new ve(le.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function P_(r){if(Se.isDocumentKey(r))throw new ve(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function KI(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Re()}function Sm(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ve(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=KI(r);throw new ve(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="firestore.googleapis.com",L_=!0;class U_{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eT,this.ssl=L_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:L_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=P0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<D1)throw new ve(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=J0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ep{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new iC;switch(s.type){case"firstParty":return new oC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ve(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=V_.get(n);s&&(fe("ComponentProvider","Removing Datastore"),V_.delete(n),s.terminate())}(this),Promise.resolve()}}function $I(r,e,n,s={}){var o;const u=(r=Sm(r,ep))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==eT&&u.host!==m&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Zr(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=en.MOCK_USER;else{y=Nb(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ve(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new en(b)}r._authCredentials=new rC(new r0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Eh(this.firestore,e,this._query)}}class uo{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uo(this.firestore,e,this._key)}}class Ga extends Eh{constructor(e,n,s){super(e,n,y0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new uo(this.firestore,null,new Se(e))}withConverter(e){return new Ga(this.firestore,e,this._path)}}function Fd(r,e,...n){if(r=wi(r),FI("collection","path",e),r instanceof ep){const s=pt.fromString(e,...n);return P_(s),new Ga(r,null,s)}{if(!(r instanceof uo||r instanceof Ga))throw new ve(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(pt.fromString(e,...n));return P_(s),new Ga(r.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="AsyncQueue";class j_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new B0(this,"async_queue_retry"),this.bu=()=>{const s=Hd();s&&fe(z_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=Hd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Hd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new zs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!oo(e))throw e;fe(z_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw nr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Xm.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Re()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class tT extends ep{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new j_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new j_(e),this._firestoreClient=void 0,await e}}}function QI(r,e){const n=typeof r=="object"?r:km(),s=typeof r=="string"?r:qc,o=$s(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Db("firestore");u&&$I(o,...u)}return o}function YI(r){if(r._terminated)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||XI(r),r._firestoreClient}function XI(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,y,E){return new AC(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,J0(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new zI(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xc(Yt.fromBase64String(e))}catch(n){throw new ve(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xc(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}const JI=new RegExp("[~\\*/\\[\\]]");function eD(r,e,n){if(e.search(JI)>=0)throw B_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r);try{return new nT(...e.split("."))._internalPath}catch{throw B_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r)}}function B_(r,e,n,s,o){let u=`Function ${e}() called with invalid data`;u+=". ";let f="";return new ve(le.INVALID_ARGUMENT,u+r+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new uo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tD extends iT{data(){return super.data()}}function rT(r,e){return typeof e=="string"?eD(r,e):e instanceof nT?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ve(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iD{convertValue(e,n="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Fl(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[om].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>vt(f.doubleValue));return new WI(u)}convertGeoPoint(e){return new ZI(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=fh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const n=Jr(e);return new mn(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=pt.fromString(e);ut(V0(s));const o=new Pl(s.get(1),s.get(3)),u=new Se(s.popFirst(5));return o.isEqual(n)||nr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rD extends iT{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(rT("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class kc extends rD{data(e={}){return super.data(e)}}class sD{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new wc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new kc(this._firestore,this._userDataWriter,s.key,s,new wc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new kc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new wc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new kc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new wc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:aD(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function aD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}class oD extends iD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new uo(this.firestore,null,n)}}function Gd(r){r=Sm(r,Eh);const e=Sm(r.firestore,tT),n=YI(e),s=new oD(e);return nD(r._query),qI(n,r._query).then(o=>new sD(e,s,r,o))}(function(e,n=!0){(function(o){ao=o})(so),Ei(new Yn("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new tT(new sC(s.getProvider("auth-internal")),new lC(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ve(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Bn($v,Qv,e),Bn($v,Qv,"esm2017")})();var lD="firebase",uD="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn(lD,uD,"app");const sT="@firebase/installations",tp="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=1e4,oT=`w:${tp}`,lT="FIS_v2",cD="https://firebaseinstallations.googleapis.com/v1",hD=60*60*1e3,fD="installations",dD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Hs=new Ks(fD,dD,mD);function uT(r){return r instanceof Zn&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT({projectId:r}){return`${cD}/projects/${r}/installations`}function hT(r){return{token:r.token,requestStatus:2,expiresIn:gD(r.expiresIn),creationTime:Date.now()}}async function fT(r,e){const s=(await e.json()).error;return Hs.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function dT({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function pD(r,{refreshToken:e}){const n=dT(r);return n.append("Authorization",yD(e)),n}async function mT(r){const e=await r();return e.status>=500&&e.status<600?r():e}function gD(r){return Number(r.replace("s","000"))}function yD(r){return`${lT} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const s=cT(r),o=dT(r),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:n,authVersion:lT,appId:r.appId,sdkVersion:oT},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await mT(()=>fetch(s,m));if(p.ok){const y=await p.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:hT(y.authToken)}}else throw await fT("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=/^[cdef][\w-]{21}$/,Am="";function TD(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=SD(r);return ED.test(n)?n:Am}catch{return Am}}function SD(r){return _D(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=new Map;function yT(r,e){const n=Th(r);vT(n,e),AD(n,e)}function vT(r,e){const n=gT.get(r);if(n)for(const s of n)s(e)}function AD(r,e){const n=wD();n&&n.postMessage({key:r,fid:e}),bD()}let Us=null;function wD(){return!Us&&"BroadcastChannel"in self&&(Us=new BroadcastChannel("[Firebase] FID Change"),Us.onmessage=r=>{vT(r.data.key,r.data.fid)}),Us}function bD(){gT.size===0&&Us&&(Us.close(),Us=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="firebase-installations-database",CD=1,qs="firebase-installations-store";let Kd=null;function np(){return Kd||(Kd=QE(RD,CD,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(qs)}}})),Kd}async function Zc(r,e){const n=Th(r),o=(await np()).transaction(qs,"readwrite"),u=o.objectStore(qs),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&yT(r,e.fid),e}async function _T(r){const e=Th(r),s=(await np()).transaction(qs,"readwrite");await s.objectStore(qs).delete(e),await s.done}async function Sh(r,e){const n=Th(r),o=(await np()).transaction(qs,"readwrite"),u=o.objectStore(qs),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&yT(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ip(r){let e;const n=await Sh(r.appConfig,s=>{const o=ID(s),u=DD(r,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Am?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function ID(r){const e=r||{fid:TD(),registrationStatus:0};return ET(e)}function DD(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Hs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=OD(r,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ND(r)}:{installationEntry:e}}async function OD(r,e){try{const n=await vD(r,e);return Zc(r.appConfig,n)}catch(n){throw uT(n)&&n.customData.serverCode===409?await _T(r.appConfig):await Zc(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function ND(r){let e=await H_(r.appConfig);for(;e.registrationStatus===1;)await pT(100),e=await H_(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await ip(r);return s||n}return e}function H_(r){return Sh(r,e=>{if(!e)throw Hs.create("installation-not-found");return ET(e)})}function ET(r){return MD(r)?{fid:r.fid,registrationStatus:0}:r}function MD(r){return r.registrationStatus===1&&r.registrationTime+aT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD({appConfig:r,heartbeatServiceProvider:e},n){const s=xD(r,n),o=pD(r,n),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:oT,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await mT(()=>fetch(s,m));if(p.ok){const y=await p.json();return hT(y)}else throw await fT("Generate Auth Token",p)}function xD(r,{fid:e}){return`${cT(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rp(r,e=!1){let n;const s=await Sh(r.appConfig,u=>{if(!TT(u))throw Hs.create("not-registered");const f=u.authToken;if(!e&&LD(f))return u;if(f.requestStatus===1)return n=VD(r,e),u;{if(!navigator.onLine)throw Hs.create("app-offline");const m=zD(u);return n=PD(r,m),m}});return n?await n:s.authToken}async function VD(r,e){let n=await q_(r.appConfig);for(;n.authToken.requestStatus===1;)await pT(100),n=await q_(r.appConfig);const s=n.authToken;return s.requestStatus===0?rp(r,e):s}function q_(r){return Sh(r,e=>{if(!TT(e))throw Hs.create("not-registered");const n=e.authToken;return jD(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function PD(r,e){try{const n=await kD(r,e),s=Object.assign(Object.assign({},e),{authToken:n});return await Zc(r.appConfig,s),n}catch(n){if(uT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await _T(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Zc(r.appConfig,s)}throw n}}function TT(r){return r!==void 0&&r.registrationStatus===2}function LD(r){return r.requestStatus===2&&!UD(r)}function UD(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+hD}function zD(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function jD(r){return r.requestStatus===1&&r.requestTime+aT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(r){const e=r,{installationEntry:n,registrationPromise:s}=await ip(e);return s?s.catch(console.error):rp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(r,e=!1){const n=r;return await qD(n),(await rp(n,e)).token}async function qD(r){const{registrationPromise:e}=await ip(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(r){if(!r||!r.options)throw $d("App Configuration");if(!r.name)throw $d("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw $d(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function $d(r){return Hs.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="installations",GD="installations-internal",KD=r=>{const e=r.getProvider("app").getImmediate(),n=FD(e),s=$s(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},$D=r=>{const e=r.getProvider("app").getImmediate(),n=$s(e,ST).getImmediate();return{getId:()=>BD(n),getToken:o=>HD(n,o)}};function QD(){Ei(new Yn(ST,KD,"PUBLIC")),Ei(new Yn(GD,$D,"PRIVATE"))}QD();Bn(sT,tp);Bn(sT,tp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc="analytics",YD="firebase_id",XD="origin",ZD=60*1e3,WD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn=new lh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wn=new Ks("analytics","Analytics",JD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(r){if(!r.startsWith(sp)){const e=wn.create("invalid-gtag-resource",{gtagURL:r});return pn.warn(e.message),""}return r}function AT(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function tO(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function nO(r,e){const n=tO("firebase-js-sdk-policy",{createScriptURL:eO}),s=document.createElement("script"),o=`${sp}?l=${r}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function iO(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function rO(r,e,n,s,o,u){const f=s[o];try{if(f)await e[f];else{const p=(await AT(n)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(m){pn.error(m)}r("config",o,u)}async function sO(r,e,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await AT(n);for(const p of f){const y=m.find(b=>b.measurementId===p),E=y&&e[y.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",s,o||{})}catch(u){pn.error(u)}}function aO(r,e,n,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await sO(r,e,n,m,p)}else if(u==="config"){const[m,p]=f;await rO(r,e,n,s,m,p)}else if(u==="consent"){const[m,p]=f;r("consent",m,p)}else if(u==="get"){const[m,p,y]=f;r("get",m,p,y)}else if(u==="set"){const[m]=f;r("set",m)}else r(u,...f)}catch(m){pn.error(m)}}return o}function oO(r,e,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=aO(u,r,e,n),{gtagCore:u,wrappedGtag:window[o]}}function lO(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(sp)&&n.src.includes(r))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=30,cO=1e3;class hO{constructor(e={},n=cO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const wT=new hO;function fO(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function dO(r){var e;const{appId:n,apiKey:s}=r,o={method:"GET",headers:fO(s)},u=WD.replace("{app-id}",n),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw wn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function mO(r,e=wT,n){const{appId:s,apiKey:o,measurementId:u}=r.options;if(!s)throw wn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw wn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new yO;return setTimeout(async()=>{m.abort()},ZD),bT({appId:s,apiKey:o,measurementId:u},f,m,e)}async function bT(r,{throttleEndTimeMillis:e,backoffCount:n},s,o=wT){var u;const{appId:f,measurementId:m}=r;try{await pO(s,e)}catch(p){if(m)return pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:m};throw p}try{const p=await dO(r);return o.deleteThrottleMetadata(f),p}catch(p){const y=p;if(!gO(y)){if(o.deleteThrottleMetadata(f),m)return pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:f,measurementId:m};throw p}const E=Number((u=y==null?void 0:y.customData)===null||u===void 0?void 0:u.httpStatus)===503?Lv(n,o.intervalMillis,uO):Lv(n,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(f,b),pn.debug(`Calling attemptFetch again in ${E} millis`),bT(r,b,s,o)}}function pO(r,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),s(wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function gO(r){if(!(r instanceof Zn)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class yO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function vO(r,e,n,s,o){if(o&&o.global){r("event",n,s);return}else{const u=await e,f=Object.assign(Object.assign({},s),{send_to:u});r("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(){if(FE())try{await GE()}catch(r){return pn.warn(wn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return pn.warn(wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function EO(r,e,n,s,o,u,f){var m;const p=mO(r);p.then(x=>{n[x.measurementId]=x.appId,r.options.measurementId&&x.measurementId!==r.options.measurementId&&pn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>pn.error(x)),e.push(p);const y=_O().then(x=>{if(x)return s.getId()}),[E,b]=await Promise.all([p,y]);lO(u)||nO(u,E.measurementId),o("js",new Date);const D=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return D[XD]="firebase",D.update=!0,b!=null&&(D[YD]=b),o("config",E.measurementId,D),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.app=e}_delete(){return delete Ol[this.app.options.appId],Promise.resolve()}}let Ol={},F_=[];const G_={};let Qd="dataLayer",SO="gtag",K_,RT,$_=!1;function AO(){const r=[];if(qE()&&r.push("This is a browser extension environment."),Ub()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=wn.create("invalid-analytics-context",{errorInfo:e});pn.warn(n.message)}}function wO(r,e,n){AO();const s=r.options.appId;if(!s)throw wn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wn.create("no-api-key");if(Ol[s]!=null)throw wn.create("already-exists",{id:s});if(!$_){iO(Qd);const{wrappedGtag:u,gtagCore:f}=oO(Ol,F_,G_,Qd,SO);RT=u,K_=f,$_=!0}return Ol[s]=EO(r,F_,G_,e,K_,Qd,n),new TO(r)}function bO(r=km()){r=wi(r);const e=$s(r,Wc);return e.isInitialized()?e.getImmediate():RO(r)}function RO(r,e={}){const n=$s(r,Wc);if(n.isInitialized()){const o=n.getImmediate();if(Zr(e,n.getOptions()))return o;throw wn.create("already-initialized")}return n.initialize({options:e})}function CO(r,e,n,s){r=wi(r),vO(RT,Ol[r.app.options.appId],e,n,s).catch(o=>pn.error(o))}const Q_="@firebase/analytics",Y_="0.10.12";function IO(){Ei(new Yn(Wc,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return wO(s,o,n)},"PUBLIC")),Ei(new Yn("analytics-internal",r,"PRIVATE")),Bn(Q_,Y_),Bn(Q_,Y_,"esm2017");function r(e){try{const n=e.getProvider(Wc).getImmediate();return{logEvent:(s,o,u)=>CO(n,s,o,u)}}catch(n){throw wn.create("interop-component-reg-failed",{reason:n})}}}IO();function ap(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function CT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DO=CT,IT=new Ks("auth","Firebase",CT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new lh("@firebase/auth");function OO(r,...e){Jc.logLevel<=Me.WARN&&Jc.warn(`Auth (${so}): ${r}`,...e)}function xc(r,...e){Jc.logLevel<=Me.ERROR&&Jc.error(`Auth (${so}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(r,...e){throw op(r,...e)}function yi(r,...e){return op(r,...e)}function DT(r,e,n){const s=Object.assign(Object.assign({},DO()),{[e]:n});return new Ks("auth","Firebase",s).create(e,{appName:r.name})}function Xr(r){return DT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function op(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return IT.create(r,...e)}function Te(r,e,...n){if(!r)throw op(e,...n)}function Xi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw xc(e),new Error(e)}function ir(r,e){r||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function NO(){return X_()==="http:"||X_()==="https:"}function X_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NO()||qE()||"connection"in navigator)?navigator.onLine:!0}function kO(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){this.shortDelay=e,this.longDelay=n,ir(n>e,"Short delay should be less than long delay!"),this.isMobile=Mb()||Vb()}get(){return MO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(r,e){ir(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=new Ql(3e4,6e4);function Ys(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function rs(r,e,n,s,o={}){return NT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=ql(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return xb()||(y.referrerPolicy="no-referrer"),OT.fetch()(MT(r,r.config.apiHost,n,m),y)})}async function NT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},xO),e);try{const o=new LO(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw bc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw bc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw bc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw DT(r,E,y);Xn(r,E)}}catch(o){if(o instanceof Zn)throw o;Xn(r,"network-request-failed",{message:String(o)})}}async function Ah(r,e,n,s,o={}){const u=await rs(r,e,n,s,o);return"mfaPendingCredential"in u&&Xn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function MT(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?lp(r.config,o):`${r.config.apiScheme}://${o}`}function PO(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(yi(this.auth,"network-request-failed")),VO.get())})}}function bc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=yi(r,e,s);return o.customData._tokenResponse=n,o}function Z_(r){return r!==void 0&&r.enterprise!==void 0}class UO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zO(r,e){return rs(r,"GET","/v2/recaptchaConfig",Ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(r,e){return rs(r,"POST","/v1/accounts:delete",e)}async function kT(r,e){return rs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BO(r,e=!1){const n=wi(r),s=await n.getIdToken(e),o=up(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Nl(Yd(o.auth_time)),issuedAtTime:Nl(Yd(o.iat)),expirationTime:Nl(Yd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Yd(r){return Number(r)*1e3}function up(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=zE(n);return o?JSON.parse(o):(xc("Failed to decode base64 JWT payload"),null)}catch(o){return xc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function W_(r){const e=up(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Zn&&HO(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function HO({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Ul(r,kT(n,{idToken:s}));Te(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?xT(u.providerUserInfo):[],m=GO(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new bm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,b)}async function FO(r){const e=wi(r);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GO(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function xT(r){return r.map(e=>{var{providerId:n}=e,s=ap(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(r,e){const n=await NT(r,{},async()=>{const s=ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=MT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",OT.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $O(r,e){return rs(r,"POST","/v2/accounts:revokeToken",Ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=W_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await KO(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ka;return s&&(Te(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=ap(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new bm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BO(this,e)}reload(){return FO(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Xr(this.auth));const e=await this.getIdToken();return await Ul(this,jO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,E;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,D=(o=n.email)!==null&&o!==void 0?o:void 0,x=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,L=(f=n.photoURL)!==null&&f!==void 0?f:void 0,q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,j=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,B=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ee=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Z,emailVerified:ue,isAnonymous:ce,providerData:ie,stsTokenManager:R}=n;Te(Z&&R,e,"internal-error");const w=Ka.fromJSON(this.name,R);Te(typeof Z=="string",e,"internal-error"),jr(b,e.name),jr(D,e.name),Te(typeof ue=="boolean",e,"internal-error"),Te(typeof ce=="boolean",e,"internal-error"),jr(x,e.name),jr(L,e.name),jr(q,e.name),jr(j,e.name),jr(B,e.name),jr(ee,e.name);const S=new Zi({uid:Z,auth:e,email:D,emailVerified:ue,displayName:b,isAnonymous:ce,photoURL:L,phoneNumber:x,tenantId:q,stsTokenManager:w,createdAt:B,lastLoginAt:ee});return ie&&Array.isArray(ie)&&(S.providerData=ie.map(C=>Object.assign({},C))),j&&(S._redirectEventId=j),S}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ka;o.updateFromServerResponse(n);const u=new Zi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await eh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?xT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ka;m.updateFromIdToken(s);const p=new Zi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=new Map;function Wi(r){ir(r instanceof Function,"Expected a class definition");let e=J_.get(r);return e?(ir(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,J_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VT.type="NONE";const eE=VT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(r,e,n){return`firebase:${r}:${e}:${n}`}class $a{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Vc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Vc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new $a(Wi(eE),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Wi(eE);const f=Vc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){const b=Zi._fromJSON(e,E);y!==u&&(m=b),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new $a(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new $a(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BT(e))return"Blackberry";if(HT(e))return"Webos";if(LT(e))return"Safari";if((e.includes("chrome/")||UT(e))&&!e.includes("edge/"))return"Chrome";if(jT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function PT(r=nn()){return/firefox\//i.test(r)}function LT(r=nn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UT(r=nn()){return/crios\//i.test(r)}function zT(r=nn()){return/iemobile/i.test(r)}function jT(r=nn()){return/android/i.test(r)}function BT(r=nn()){return/blackberry/i.test(r)}function HT(r=nn()){return/webos/i.test(r)}function cp(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function QO(r=nn()){var e;return cp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YO(){return Pb()&&document.documentMode===10}function qT(r=nn()){return cp(r)||jT(r)||HT(r)||BT(r)||/windows phone/i.test(r)||zT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(r,e=[]){let n;switch(r){case"Browser":n=tE(nn());break;case"Worker":n=`${tE(nn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${so}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(r,e={}){return rs(r,"GET","/v2/passwordPolicy",Ys(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=6;class JO{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:WO,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nE(this),this.idTokenSubscription=new nE(this),this.beforeStateQueue=new XO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await $a.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kT(this,{idToken:e}),s=await Zi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Qn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(Xr(this));const n=e?wi(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(Xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZO(this),n=new JO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ks("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await $O(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wi(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&OO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function co(r){return wi(r)}class nE{constructor(e){this.auth=e,this.observer=null,this.addObserver=qb(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t2(r){wh=r}function GT(r){return wh.loadJS(r)}function n2(){return wh.recaptchaEnterpriseScript}function i2(){return wh.gapiScript}function r2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class s2{constructor(){this.enterprise=new a2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class a2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const o2="recaptcha-enterprise",KT="NO_RECAPTCHA";class l2{constructor(e){this.type=o2,this.auth=co(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{zO(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new UO(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Z_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(KT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new s2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Z_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=n2();p.length!==0&&(p+=m),GT(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function iE(r,e,n,s=!1,o=!1){const u=new l2(r);let f;if(o)f=KT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function rE(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await iE(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await iE(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(r,e){const n=$s(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Zr(u,e??{}))return o;Xn(o,"already-initialized")}return n.initialize({options:e})}function c2(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Wi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function h2(r,e,n){const s=co(r);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=$T(e),{host:f,port:m}=f2(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(Zr(y,s.config.emulator)&&Zr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,d2()}function $T(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function f2(r){const e=$T(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:sE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:sE(f)}}}function sE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function d2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,n){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function m2(r,e){return rs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(r,e){return Ah(r,"POST","/v1/accounts:signInWithPassword",Ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2(r,e){return Ah(r,"POST","/v1/accounts:signInWithEmailLink",Ys(r,e))}async function y2(r,e){return Ah(r,"POST","/v1/accounts:signInWithEmailLink",Ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends hp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new zl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new zl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rE(e,n,"signInWithPassword",p2);case"emailLink":return g2(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rE(e,s,"signUpPassword",m2);case"emailLink":return y2(e,{idToken:n,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(r,e){return Ah(r,"POST","/v1/accounts:signInWithIdp",Ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="http://localhost";class Fs extends hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=ap(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Fs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Qa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Qa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qa(e,n)}buildRequest(){const e={requestUri:v2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ql(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function E2(r){const e=Tl(Sl(r)).link,n=e?Tl(Sl(e)).deep_link_id:null,s=Tl(Sl(r)).deep_link_id;return(s?Tl(Sl(s)).link:null)||s||n||e||r}class fp{constructor(e){var n,s,o,u,f,m;const p=Tl(Sl(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,b=_2((o=p.mode)!==null&&o!==void 0?o:null);Te(y&&E&&b,"argument-error"),this.apiKey=y,this.operation=b,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=E2(e);try{return new fp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.providerId=ho.PROVIDER_ID}static credential(e,n){return zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=fp.parseLink(n);return Te(s,"argument-error"),zl._fromEmailAndCode(e,s.code,s.tenantId)}}ho.PROVIDER_ID="password";ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends QT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Yl{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Hr.credential(n,s)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Yl{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Yl{constructor(){super("twitter.com")}static credential(e,n){return Fs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Fr.credential(n,s)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Zi._fromIdTokenResponse(e,s,o),f=aE(s);return new no({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=aE(s);return new no({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function aE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends Zn{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,th.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new th(e,n,s,o)}}function YT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(r,u,e,s):u})}async function T2(r,e,n=!1){const s=await Ul(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return no._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(r,e,n=!1){const{auth:s}=r;if(Qn(s.app))return Promise.reject(Xr(s));const o="reauthenticate";try{const u=await Ul(r,YT(s,o,e,r),n);Te(u.idToken,s,"internal-error");const f=up(u.idToken);Te(f,s,"internal-error");const{sub:m}=f;return Te(r.uid===m,s,"user-mismatch"),no._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Xn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XT(r,e,n=!1){if(Qn(r.app))return Promise.reject(Xr(r));const s="signIn",o=await YT(r,s,e),u=await no._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function A2(r,e){return XT(co(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(r){const e=co(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function b2(r,e,n){return Qn(r.app)?Promise.reject(Xr(r)):A2(wi(r),ho.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&w2(r),s})}function R2(r,e,n,s){return wi(r).onIdTokenChanged(e,n,s)}function C2(r,e,n){return wi(r).beforeAuthStateChanged(e,n)}const nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=1e3,D2=10;class WT extends ZT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);YO()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,D2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},I2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WT.type="LOCAL";const O2=WT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT extends ZT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JT.type="SESSION";const eS=JT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new bh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await N2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=dp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const D=b;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(D.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return window}function k2(r){vi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(){return typeof vi().WorkerGlobalScope<"u"&&typeof vi().importScripts=="function"}async function x2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function P2(){return tS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="firebaseLocalStorageDb",L2=1,ih="firebaseLocalStorage",iS="fbase_key";class Xl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rh(r,e){return r.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function U2(){const r=indexedDB.deleteDatabase(nS);return new Xl(r).toPromise()}function Rm(){const r=indexedDB.open(nS,L2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ih,{keyPath:iS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ih)?e(s):(s.close(),await U2(),e(await Rm()))})})}async function oE(r,e,n){const s=Rh(r,!0).put({[iS]:e,value:n});return new Xl(s).toPromise()}async function z2(r,e){const n=Rh(r,!1).get(e),s=await new Xl(n).toPromise();return s===void 0?null:s.value}function lE(r,e){const n=Rh(r,!0).delete(e);return new Xl(n).toPromise()}const j2=800,B2=3;class rS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>B2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(P2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await x2(),!this.activeServiceWorker)return;this.sender=new M2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rm();return await oE(e,nh,"1"),await lE(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>oE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>z2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Rh(o,!1).getAll();return new Xl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),j2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rS.type="LOCAL";const H2=rS;new Ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(r,e){return e?Wi(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp extends hp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function F2(r){return XT(r.auth,new mp(r),r.bypassAuthState)}function G2(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),S2(n,new mp(r),r.bypassAuthState)}async function K2(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),T2(n,new mp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F2;case"linkViaPopup":case"linkViaRedirect":return K2;case"reauthViaPopup":case"reauthViaRedirect":return G2;default:Xn(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new Ql(2e3,1e4);class Ha extends sS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$2.get())};e()}}Ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="pendingRedirect",Pc=new Map;class Y2 extends sS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const s=await X2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X2(r,e){const n=J2(e),s=W2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Z2(r,e){Pc.set(r._key(),e)}function W2(r){return Wi(r._redirectPersistence)}function J2(r){return Vc(Q2,r.config.apiKey,r.name)}async function eN(r,e,n=!1){if(Qn(r.app))return Promise.reject(Xr(r));const s=co(r),o=q2(s,e),f=await new Y2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=10*60*1e3;class nN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!aS(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(yi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tN&&this.cachedEventUids.clear(),this.cachedEventUids.has(uE(e))}saveEventToCache(e){this.cachedEventUids.add(uE(e)),this.lastProcessedEventTime=Date.now()}}function uE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function aS({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(r,e={}){return rs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aN=/^https?/;async function oN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await rN(r);for(const n of e)try{if(lN(n))return}catch{}Xn(r,"unauthorized-domain")}function lN(r){const e=wm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!aN.test(n))return!1;if(sN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=new Ql(3e4,6e4);function cE(){const r=vi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function cN(r){return new Promise((e,n)=>{var s,o,u;function f(){cE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cE(),n(yi(r,"network-request-failed"))},timeout:uN.get()})}if(!((o=(s=vi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=vi().gapi)===null||u===void 0)&&u.load)f();else{const m=r2("iframefcb");return vi()[m]=()=>{gapi.load?f():n(yi(r,"network-request-failed"))},GT(`${i2()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Lc=null,e})}let Lc=null;function hN(r){return Lc=Lc||cN(r),Lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new Ql(5e3,15e3),dN="__/auth/iframe",mN="emulator/auth/iframe",pN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yN(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?lp(e,mN):`https://${r.config.authDomain}/${dN}`,s={apiKey:e.apiKey,appName:r.name,v:so},o=gN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ql(s).slice(1)}`}async function vN(r){const e=await hN(r),n=vi().gapi;return Te(n,r,"internal-error"),e.open({where:document.body,url:yN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=yi(r,"network-request-failed"),m=vi().setTimeout(()=>{u(f)},fN.get());function p(){vi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EN=500,TN=600,SN="_blank",AN="http://localhost";class hE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wN(r,e,n,s=EN,o=TN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},_N),{width:s.toString(),height:o.toString(),top:u,left:f}),y=nn().toLowerCase();n&&(m=UT(y)?SN:n),PT(y)&&(e=e||AN,p.scrollbars="yes");const E=Object.entries(p).reduce((D,[x,L])=>`${D}${x}=${L},`,"");if(QO(y)&&m!=="_self")return bN(e||"",m),new hE(null);const b=window.open(e||"",m,E);Te(b,r,"popup-blocked");try{b.focus()}catch{}return new hE(b)}function bN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="__/auth/handler",CN="emulator/auth/handler",IN=encodeURIComponent("fac");async function fE(r,e,n,s,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:so,eventId:o};if(e instanceof QT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Hb(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof Yl){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${IN}=${encodeURIComponent(p)}`:"";return`${DN(r)}?${ql(m).slice(1)}${y}`}function DN({config:r}){return r.emulator?lp(r,CN):`https://${r.authDomain}/${RN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="webStorageSupport";class ON{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eS,this._completeRedirectFn=eN,this._overrideRedirectResult=Z2}async _openPopup(e,n,s,o){var u;ir((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await fE(e,n,s,wm(),o);return wN(e,f,dp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await fE(e,n,s,wm(),o);return k2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ir(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await vN(e),s=new nN(e);return n.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xd,{type:Xd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Xd];f!==void 0&&n(!!f),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qT()||LT()||cp()}}const NN=ON;var dE="@firebase/auth",mE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xN(r){Ei(new Yn("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FT(r)},y=new e2(s,o,u,p);return c2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ei(new Yn("auth-internal",e=>{const n=co(e.getProvider("auth").getImmediate());return(s=>new MN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(dE,mE,kN(r)),Bn(dE,mE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=5*60,PN=HE("authIdTokenMaxAge")||VN;let pE=null;const LN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>PN)return;const o=n==null?void 0:n.token;pE!==o&&(pE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function UN(r=km()){const e=$s(r,"auth");if(e.isInitialized())return e.getImmediate();const n=u2(r,{popupRedirectResolver:NN,persistence:[H2,O2,eS]}),s=HE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=LN(u.toString());C2(n,f,()=>f(n.currentUser)),R2(n,m=>f(m))}}const o=jE("auth");return o&&h2(n,`http://${o}`),n}function zN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}t2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=yi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",zN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xN("Browser");const jN={apiKey:"AIzaSyAuaeSyx21PlFZPpw4Nso8A2_J5Z1KGR_4",authDomain:"ruslana-cakes.firebaseapp.com",projectId:"ruslana-cakes",storageBucket:"ruslana-cakes.firebasestorage.app",messagingSenderId:"645062619826",appId:"1:645062619826:web:f752b588fc41d417978fab",measurementId:"G-NE6QB30C2V"},pp=YE(jN),BN=UN(pp);bO(pp);const Zd=QI(pp),HN=()=>{const[r,e]=$.useState([]),[n,s]=$.useState([]),[o,u]=$.useState([]),[f,m]=$.useState(""),[p,y]=$.useState("cakes"),[E,b]=$.useState(0),[D,x]=$.useState(!0),[L,q]=$.useState(""),j=async()=>{x(!0);try{const Z=Fd(Zd,"cakes"),ce=(await Gd(Z)).docs.map(M=>({id:M.id,Image:M.data().Image,Description:M.data().Description,Price:M.data().Price}));e(ce);const ie=Fd(Zd,"bento"),w=(await Gd(ie)).docs.map(M=>({id:M.id,Image:M.data().Image,Description:M.data().Description,Price:M.data().Price}));s(w);const S=Fd(Zd,"cupcake"),N=(await Gd(S)).docs.map(M=>({id:M.id,Image:M.data().Image,Description:M.data().Description,Price:M.data().Price}));u(N)}catch(Z){q("Ошибка при загрузке данных: "+Z.message),console.error("Ошибка при загрузке данных:",Z)}finally{x(!1)}};$.useEffect(()=>{j()},[]),$.useEffect(()=>{(()=>{p==="cakes"&&r.length>0?b(3):p==="bento"&&n.length>0?b(1):p==="cupcake"&&o.length>0&&b(0)})()},[p,r,n,o]);const B=Z=>{y(Z),m(Z)};if(D)return K.jsx("div",{children:"Загрузка..."});const ee=p==="cakes"?r:p==="bento"?n:p==="cupcake"?o:[];return K.jsxs("div",{className:"catalog-container",id:"catalog",children:[K.jsxs("div",{className:"catalog-list",children:[K.jsx("h2",{className:"catalog-list-title",children:"Catalog"}),K.jsxs("ul",{className:"catalog-list-items",children:[K.jsx("li",{className:`catalog-list-item ${f==="cakes"?"active":""}`,onClick:()=>B("cakes"),children:"Торты"}),K.jsx("li",{className:`catalog-list-item ${f==="bento"?"active":""}`,onClick:()=>B("bento"),children:"Бенто торты"}),K.jsx("li",{className:`catalog-list-item ${f==="cupcake"?"active":""}`,onClick:()=>B("cupcake"),children:"Капкейки"})]})]}),L&&K.jsx("p",{children:L}),K.jsxs("div",{className:"catalog-cards-container",children:[K.jsx("div",{className:"catalog-cards",children:ee.length>0?ee.map(Z=>K.jsx(xv,{cake:Z},Z.id)):K.jsx("p",{children:"Нет доступных товаров в этой категории."})}),K.jsxs("div",{className:"catalog-cards-top",children:[K.jsx("p",{className:"catalog-top-seller-title",children:"Top seller"}),ee.length>0&&K.jsx(xv,{cake:ee[E]})]})]})]})},qN=()=>K.jsxs("div",{className:"location-container",id:"location",children:[K.jsx("h3",{className:"location-title",children:"Как нас найти"}),K.jsxs("div",{className:"location-map-container",children:[K.jsxs("div",{className:"location-info-container",children:[K.jsxs("div",{className:"location-info-contacts",children:[K.jsxs("div",{children:[K.jsx("h4",{className:"location-info-title",children:"Контакты"}),K.jsxs("ul",{className:"location-info-contacts-list",children:[K.jsx("li",{className:"location-info-contacts-phone",children:K.jsx("a",{href:"tel:+79092841484",children:"📞 +7 (909) 284-14-84"})}),K.jsxs("li",{className:"location-info-contacts-phone",children:[" ",K.jsx("a",{href:"https://t.me/ruslanacakes",target:"_blank",children:"📧 https://t.me/ruslanacakes"})]})]})]}),K.jsxs("div",{children:[K.jsx("h4",{className:"location-info-title",children:"Адрес"}),K.jsx("ul",{className:"location-info-contacts-list",children:K.jsx("li",{className:"location-info-contacts-phone",children:K.jsx("a",{href:"https://yandex.ru/maps/-/CHF8MS8v",target:"_blank",children:"Нижний Новгород, улица Академика Сахарова, 117"})})})]})]}),K.jsxs("div",{children:[K.jsx("h4",{className:"location-info-title",children:"Важная информация!"}),K.jsxs("ul",{children:[K.jsxs("li",{children:[" ","🍰 Я домашний кондитер, испеку для вас на заказ торт, капкейки, бенто."]}),K.jsx("li",{children:"🛑 С мастикой не работаю!"}),K.jsx("li",{children:" ❗ Работаю исключительно по предоплате 50%"})]})]})]}),K.jsx("div",{className:"location-map",children:K.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?um=constructor%3Ad7af66d2a8d5f484f1c3620262fab411684d5663752ff04adff718f50dfbb1f4&source=constructor",width:"100%",height:"100%",frameBorder:"0"})})]}),K.jsxs("div",{className:"location-links-container",children:[K.jsx("h3",{className:"location-title",children:"Мы в социальных сетях"}),K.jsx(VE,{})]})]}),FN=()=>{const[r,e]=$.useState(!1);return K.jsxs(K.Fragment,{children:[K.jsxs("main",{className:"main",children:[K.jsx("h1",{className:"visually-hidden",children:"Торты на заказ в Нижнем Новгороде"}),K.jsx("img",{className:"main-logo",src:_b,alt:"Ruslana cakes"}),K.jsx("button",{className:"main-button",onClick:()=>e(!0),children:"Сделать заказ"}),r&&K.jsx(PE,{onClose:()=>e(!1)})]}),K.jsx(HN,{}),K.jsx(qN,{})]})},GN="/Ruslana_Cakes/assets/open-eye-C_vWnSrq.png",KN="/Ruslana_Cakes/assets/closed-eye-BhJhxkNI.png",$N=()=>{const[r,e]=$.useState(""),[n,s]=$.useState(""),[o,u]=$.useState(""),[f,m]=$.useState("password"),p=bE(),y=async E=>{E.preventDefault();try{await b2(BN,r,n),p("/admin/control-orders")}catch(b){console.error("Ошибка входа:",b),u("Не удалось войти. Проверьте ваши учетные данные.")}};return K.jsxs("div",{className:"admin-login-container",children:[o&&K.jsx("p",{style:{color:"red",textAlign:"center"},children:o}),K.jsx("div",{className:"admin-header"}),K.jsx("div",{className:"admin-login-wrapper",children:K.jsxs("form",{className:"loginForm",onSubmit:y,children:[K.jsx("img",{src:xE,alt:"logo",width:"180px",height:"auto"}),K.jsx("input",{className:"inputField",type:"email",placeholder:"Email",value:r,onChange:E=>e(E.target.value),required:!0}),K.jsx("input",{className:"inputField ",type:f,placeholder:"Пароль",value:n,onChange:E=>s(E.target.value),required:!0}),K.jsx("span",{className:"passwordToggle",onClick:()=>m(f==="password"?"text":"password"),children:f==="password"?K.jsx("img",{src:KN,alt:"closed eye",width:"30px"}):K.jsx("img",{src:GN,alt:"open eye",width:"30px"})}),K.jsx("button",{className:"loginButton",children:"Войти"})]})})]})},QN=()=>K.jsx("div",{children:"AdminControlPanel!!!"}),YN=[{path:"/Ruslana_Cakes",component:FN},{path:"/Ruslana_Cakes/adminlogin",component:$N},{path:"/Ruslana_Cakes/admin/control-panel",component:QN}],XN=()=>K.jsxs(K.Fragment,{children:[K.jsx(vb,{}),K.jsx(Nw,{children:YN.map(({path:r,component:e})=>K.jsx(IE,{path:r,element:K.jsx(e,{})},r))}),K.jsx(gb,{})]});BA.createRoot(document.getElementById("root")).render(K.jsx(eb,{children:K.jsx($.StrictMode,{children:K.jsx(XN,{})})}));
