(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function mE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var rf={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function gE(){if(Cp)return Il;Cp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Il.Fragment=e,Il.jsx=i,Il.jsxs=i,Il}var Dp;function pE(){return Dp||(Dp=1,rf.exports=gE()),rf.exports}var G=pE(),sf={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function yE(){if(Op)return Rt;Op=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),N=Symbol.iterator;function L(V){return V===null||typeof V!="object"?null:(V=N&&V[N]||V["@@iterator"],typeof V=="function"?V:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,X={};function $(V,Q,et){this.props=V,this.context=Q,this.refs=X,this.updater=et||P}$.prototype.isReactComponent={},$.prototype.setState=function(V,Q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Q,"setState")},$.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function nt(){}nt.prototype=$.prototype;function ot(V,Q,et){this.props=V,this.context=Q,this.refs=X,this.updater=et||P}var ht=ot.prototype=new nt;ht.constructor=ot,J(ht,$.prototype),ht.isPureReactComponent=!0;var _t=Array.isArray,mt={H:null,A:null,T:null,S:null},rt=Object.prototype.hasOwnProperty;function R(V,Q,et,it,W,yt){return et=yt.ref,{$$typeof:r,type:V,key:Q,ref:et!==void 0?et:null,props:yt}}function S(V,Q){return R(V.type,Q,void 0,void 0,void 0,V.props)}function A(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function w(V){var Q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(et){return Q[et]})}var O=/\/+/g;function I(V,Q){return typeof V=="object"&&V!==null&&V.key!=null?w(""+V.key):Q.toString(36)}function D(){}function Nt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(Q){V.status==="pending"&&(V.status="fulfilled",V.value=Q)},function(Q){V.status==="pending"&&(V.status="rejected",V.reason=Q)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Pt(V,Q,et,it,W){var yt=typeof V;(yt==="undefined"||yt==="boolean")&&(V=null);var gt=!1;if(V===null)gt=!0;else switch(yt){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(V.$$typeof){case r:case e:gt=!0;break;case b:return gt=V._init,Pt(gt(V._payload),Q,et,it,W)}}if(gt)return W=W(V),gt=it===""?"."+I(V,0):it,_t(W)?(et="",gt!=null&&(et=gt.replace(O,"$&/")+"/"),Pt(W,Q,et,"",function(Qt){return Qt})):W!=null&&(A(W)&&(W=S(W,et+(W.key==null||V&&V.key===W.key?"":(""+W.key).replace(O,"$&/")+"/")+gt)),Q.push(W)),1;gt=0;var Kt=it===""?".":it+":";if(_t(V))for(var wt=0;wt<V.length;wt++)it=V[wt],yt=Kt+I(it,wt),gt+=Pt(it,Q,et,yt,W);else if(wt=L(V),typeof wt=="function")for(V=wt.call(V),wt=0;!(it=V.next()).done;)it=it.value,yt=Kt+I(it,wt++),gt+=Pt(it,Q,et,yt,W);else if(yt==="object"){if(typeof V.then=="function")return Pt(Nt(V),Q,et,it,W);throw Q=String(V),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return gt}function Z(V,Q,et){if(V==null)return V;var it=[],W=0;return Pt(V,it,"","",function(yt){return Q.call(et,yt,W++)}),it}function ct(V){if(V._status===-1){var Q=V._result;Q=Q(),Q.then(function(et){(V._status===0||V._status===-1)&&(V._status=1,V._result=et)},function(et){(V._status===0||V._status===-1)&&(V._status=2,V._result=et)}),V._status===-1&&(V._status=0,V._result=Q)}if(V._status===1)return V._result.default;throw V._result}var st=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function St(){}return Rt.Children={map:Z,forEach:function(V,Q,et){Z(V,function(){Q.apply(this,arguments)},et)},count:function(V){var Q=0;return Z(V,function(){Q++}),Q},toArray:function(V){return Z(V,function(Q){return Q})||[]},only:function(V){if(!A(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Rt.Component=$,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=ot,Rt.StrictMode=s,Rt.Suspense=v,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=mt,Rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Rt.cache=function(V){return function(){return V.apply(null,arguments)}},Rt.cloneElement=function(V,Q,et){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var it=J({},V.props),W=V.key,yt=void 0;if(Q!=null)for(gt in Q.ref!==void 0&&(yt=void 0),Q.key!==void 0&&(W=""+Q.key),Q)!rt.call(Q,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&Q.ref===void 0||(it[gt]=Q[gt]);var gt=arguments.length-2;if(gt===1)it.children=et;else if(1<gt){for(var Kt=Array(gt),wt=0;wt<gt;wt++)Kt[wt]=arguments[wt+2];it.children=Kt}return R(V.type,W,void 0,void 0,yt,it)},Rt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},Rt.createElement=function(V,Q,et){var it,W={},yt=null;if(Q!=null)for(it in Q.key!==void 0&&(yt=""+Q.key),Q)rt.call(Q,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(W[it]=Q[it]);var gt=arguments.length-2;if(gt===1)W.children=et;else if(1<gt){for(var Kt=Array(gt),wt=0;wt<gt;wt++)Kt[wt]=arguments[wt+2];W.children=Kt}if(V&&V.defaultProps)for(it in gt=V.defaultProps,gt)W[it]===void 0&&(W[it]=gt[it]);return R(V,yt,void 0,void 0,null,W)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(V){return{$$typeof:g,render:V}},Rt.isValidElement=A,Rt.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:ct}},Rt.memo=function(V,Q){return{$$typeof:_,type:V,compare:Q===void 0?null:Q}},Rt.startTransition=function(V){var Q=mt.T,et={};mt.T=et;try{var it=V(),W=mt.S;W!==null&&W(et,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(St,st)}catch(yt){st(yt)}finally{mt.T=Q}},Rt.unstable_useCacheRefresh=function(){return mt.H.useCacheRefresh()},Rt.use=function(V){return mt.H.use(V)},Rt.useActionState=function(V,Q,et){return mt.H.useActionState(V,Q,et)},Rt.useCallback=function(V,Q){return mt.H.useCallback(V,Q)},Rt.useContext=function(V){return mt.H.useContext(V)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(V,Q){return mt.H.useDeferredValue(V,Q)},Rt.useEffect=function(V,Q){return mt.H.useEffect(V,Q)},Rt.useId=function(){return mt.H.useId()},Rt.useImperativeHandle=function(V,Q,et){return mt.H.useImperativeHandle(V,Q,et)},Rt.useInsertionEffect=function(V,Q){return mt.H.useInsertionEffect(V,Q)},Rt.useLayoutEffect=function(V,Q){return mt.H.useLayoutEffect(V,Q)},Rt.useMemo=function(V,Q){return mt.H.useMemo(V,Q)},Rt.useOptimistic=function(V,Q){return mt.H.useOptimistic(V,Q)},Rt.useReducer=function(V,Q,et){return mt.H.useReducer(V,Q,et)},Rt.useRef=function(V){return mt.H.useRef(V)},Rt.useState=function(V){return mt.H.useState(V)},Rt.useSyncExternalStore=function(V,Q,et){return mt.H.useSyncExternalStore(V,Q,et)},Rt.useTransition=function(){return mt.H.useTransition()},Rt.version="19.0.0",Rt}var Ip;function Gu(){return Ip||(Ip=1,sf.exports=yE()),sf.exports}var Qe=Gu(),lf={exports:{}},Vl={},of={exports:{}},uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function vE(){return Vp||(Vp=1,function(r){function e(Z,ct){var st=Z.length;Z.push(ct);t:for(;0<st;){var St=st-1>>>1,V=Z[St];if(0<o(V,ct))Z[St]=ct,Z[st]=V,st=St;else break t}}function i(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var ct=Z[0],st=Z.pop();if(st!==ct){Z[0]=st;t:for(var St=0,V=Z.length,Q=V>>>1;St<Q;){var et=2*(St+1)-1,it=Z[et],W=et+1,yt=Z[W];if(0>o(it,st))W<V&&0>o(yt,it)?(Z[St]=yt,Z[W]=st,St=W):(Z[St]=it,Z[et]=st,St=et);else if(W<V&&0>o(yt,st))Z[St]=yt,Z[W]=st,St=W;else break t}}return ct}function o(Z,ct){var st=Z.sortIndex-ct.sortIndex;return st!==0?st:Z.id-ct.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],_=[],b=1,N=null,L=3,P=!1,J=!1,X=!1,$=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function ht(Z){for(var ct=i(_);ct!==null;){if(ct.callback===null)s(_);else if(ct.startTime<=Z)s(_),ct.sortIndex=ct.expirationTime,e(v,ct);else break;ct=i(_)}}function _t(Z){if(X=!1,ht(Z),!J)if(i(v)!==null)J=!0,Nt();else{var ct=i(_);ct!==null&&Pt(_t,ct.startTime-Z)}}var mt=!1,rt=-1,R=5,S=-1;function A(){return!(r.unstable_now()-S<R)}function w(){if(mt){var Z=r.unstable_now();S=Z;var ct=!0;try{t:{J=!1,X&&(X=!1,nt(rt),rt=-1),P=!0;var st=L;try{e:{for(ht(Z),N=i(v);N!==null&&!(N.expirationTime>Z&&A());){var St=N.callback;if(typeof St=="function"){N.callback=null,L=N.priorityLevel;var V=St(N.expirationTime<=Z);if(Z=r.unstable_now(),typeof V=="function"){N.callback=V,ht(Z),ct=!0;break e}N===i(v)&&s(v),ht(Z)}else s(v);N=i(v)}if(N!==null)ct=!0;else{var Q=i(_);Q!==null&&Pt(_t,Q.startTime-Z),ct=!1}}break t}finally{N=null,L=st,P=!1}ct=void 0}}finally{ct?O():mt=!1}}}var O;if(typeof ot=="function")O=function(){ot(w)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,D=I.port2;I.port1.onmessage=w,O=function(){D.postMessage(null)}}else O=function(){$(w,0)};function Nt(){mt||(mt=!0,O())}function Pt(Z,ct){rt=$(function(){Z(r.unstable_now())},ct)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_continueExecution=function(){J||P||(J=!0,Nt())},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return L},r.unstable_getFirstCallbackNode=function(){return i(v)},r.unstable_next=function(Z){switch(L){case 1:case 2:case 3:var ct=3;break;default:ct=L}var st=L;L=ct;try{return Z()}finally{L=st}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Z,ct){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var st=L;L=Z;try{return ct()}finally{L=st}},r.unstable_scheduleCallback=function(Z,ct,st){var St=r.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?St+st:St):st=St,Z){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=st+V,Z={id:b++,callback:ct,priorityLevel:Z,startTime:st,expirationTime:V,sortIndex:-1},st>St?(Z.sortIndex=st,e(_,Z),i(v)===null&&Z===i(_)&&(X?(nt(rt),rt=-1):X=!0,Pt(_t,st-St))):(Z.sortIndex=V,e(v,Z),J||P||(J=!0,Nt())),Z},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(Z){var ct=L;return function(){var st=L;L=ct;try{return Z.apply(this,arguments)}finally{L=st}}}}(uf)),uf}var Np;function _E(){return Np||(Np=1,of.exports=vE()),of.exports}var cf={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function EE(){if(Mp)return $e;Mp=1;var r=Gu();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,b){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:v,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$e.createPortal=function(v,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,b)},$e.flushSync=function(v){var _=d.T,b=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=b,s.d.f()}},$e.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},$e.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},$e.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var b=_.as,N=g(b,_.crossOrigin),L=typeof _.integrity=="string"?_.integrity:void 0,P=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:N,integrity:L,fetchPriority:P}):b==="script"&&s.d.X(v,{crossOrigin:N,integrity:L,fetchPriority:P,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},$e.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=g(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},$e.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,N=g(b,_.crossOrigin);s.d.L(v,b,{crossOrigin:N,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},$e.preloadModule=function(v,_){if(typeof v=="string")if(_){var b=g(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},$e.requestFormReset=function(v){s.d.r(v)},$e.unstable_batchedUpdates=function(v,_){return v(_)},$e.useFormState=function(v,_,b){return d.H.useFormState(v,_,b)},$e.useFormStatus=function(){return d.H.useHostTransitionStatus()},$e.version="19.0.0",$e}var xp;function TE(){if(xp)return cf.exports;xp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cf.exports=EE(),cf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function AE(){if(Up)return Vl;Up=1;var r=_E(),e=Gu(),i=TE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),P=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),nt=Symbol.for("react.memo"),ot=Symbol.for("react.lazy"),ht=Symbol.for("react.offscreen"),_t=Symbol.for("react.memo_cache_sentinel"),mt=Symbol.iterator;function rt(t){return t===null||typeof t!="object"?null:(t=mt&&t[mt]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function S(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case v:return"Fragment";case g:return"Portal";case b:return"Profiler";case _:return"StrictMode";case X:return"Suspense";case $:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P:return(t.displayName||"Context")+".Provider";case L:return(t._context.displayName||"Context")+".Consumer";case J:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nt:return n=t.displayName||null,n!==null?n:S(t.type)||"Memo";case ot:n=t._payload,t=t._init;try{return S(t(n))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w=Object.assign,O,I;function D(t){if(O===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);O=n&&n[1]||"",I=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+t+I}var Nt=!1;function Pt(t,n){if(!t||Nt)return"";Nt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){j=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var C=y.split(`
`),x=E.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<x.length&&!x[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===x.length)for(l=C.length-1,c=x.length-1;1<=l&&0<=c&&C[l]!==x[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==x[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==x[c]){var H=`
`+C[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{Nt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?D(a):""}function Z(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=Pt(t.type,!1),t;case 11:return t=Pt(t.type.render,!1),t;case 1:return t=Pt(t.type,!0),t;default:return""}}function ct(t){try{var n="";do n+=Z(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function st(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function St(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function V(t){if(st(t)!==t)throw Error(s(188))}function Q(t){var n=t.alternate;if(!n){if(n=st(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return V(c),t;if(f===l)return V(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function et(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=et(t),n!==null)return n;t=t.sibling}return null}var it=Array.isArray,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},gt=[],Kt=-1;function wt(t){return{current:t}}function Qt(t){0>Kt||(t.current=gt[Kt],gt[Kt]=null,Kt--)}function It(t,n){Kt++,gt[Kt]=t.current,t.current=n}var le=wt(null),Oe=wt(null),te=wt(null),je=wt(null);function ee(t,n){switch(It(te,n),It(Oe,t),It(le,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?np(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=np(t),n=ip(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Qt(le),It(le,n)}function Zt(){Qt(le),Qt(Oe),Qt(te)}function Be(t){t.memoizedState!==null&&It(je,t);var n=le.current,a=ip(n,t.type);n!==a&&(It(Oe,t),It(le,a))}function Ie(t){Oe.current===t&&(Qt(le),Qt(Oe)),je.current===t&&(Qt(je),Rl._currentValue=yt)}var ne=Object.prototype.hasOwnProperty,dn=r.unstable_scheduleCallback,Er=r.unstable_cancelCallback,sc=r.unstable_shouldYield,ws=r.unstable_requestPaint,ln=r.unstable_now,Zl=r.unstable_getCurrentPriorityLevel,Te=r.unstable_ImmediatePriority,Ve=r.unstable_UserBlockingPriority,fi=r.unstable_NormalPriority,Jl=r.unstable_LowPriority,Cs=r.unstable_IdlePriority,lc=r.log,xa=r.unstable_setDisableYieldValue,Bi=null,Ye=null;function Ds(t){if(Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Bi,t,void 0,(t.current.flags&128)===128)}catch{}}function Gn(t){if(typeof lc=="function"&&xa(t),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Bi,t)}catch{}}var tn=Math.clz32?Math.clz32:to,Os=Math.log,Wl=Math.LN2;function to(t){return t>>>=0,t===0?32:31-(Os(t)/Wl|0)|0}var Qn=128,Pi=4194304;function zn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function An(t,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~c,a!==0?l=zn(a):(f&=E,f!==0?l=zn(f):t||(y=E&~y,y!==0&&(l=zn(y))))):(E=a&~c,E!==0?l=zn(E):f!==0?l=zn(f):t||(y=a&~y,y!==0&&(l=zn(y)))),l===0?0:n!==0&&n!==l&&(n&c)===0&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function qi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Tr(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Is(){var t=Qn;return Qn<<=1,(Qn&4194176)===0&&(Qn=128),t}function Hi(){var t=Pi;return Pi<<=1,(Pi&62914560)===0&&(Pi=4194304),t}function Ar(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function de(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function eo(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,x=t.hiddenUpdates;for(a=y&~a;0<a;){var H=31-tn(a),Y=1<<H;E[H]=0,C[H]=-1;var j=x[H];if(j!==null)for(x[H]=null,H=0;H<j.length;H++){var q=j[H];q!==null&&(q.lane&=-536870913)}a&=~Y}l!==0&&Gi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Gi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-tn(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Qi(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-tn(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function no(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function io(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:Tp(t.type))}function Fi(t,n){var a=W.p;try{return W.p=t,n()}finally{W.p=a}}var Fn=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Fn,Ae="__reactProps$"+Fn,di="__reactContainer$"+Fn,Ua="__reactEvents$"+Fn,Sr="__reactListeners$"+Fn,Kn="__reactHandles$"+Fn,Vs="__reactResources$"+Fn,Ki="__reactMarker$"+Fn;function ka(t){delete t[Ne],delete t[Ae],delete t[Ua],delete t[Sr],delete t[Kn]}function jn(t){var n=t[Ne];if(n)return n;for(var a=t.parentNode;a;){if(n=a[di]||a[Ne]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=sp(t);t!==null;){if(a=t[Ne])return a;t=sp(t)}return n}t=a,a=t.parentNode}return null}function mi(t){if(t=t[Ne]||t[di]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Yi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Xi(t){var n=t[Vs];return n||(n=t[Vs]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ie(t){t[Ki]=!0}var Ns=new Set,br={};function mn(t,n){on(t,n),on(t+"Capture",n)}function on(t,n){for(br[t]=n,t=0;t<n.length;t++)Ns.add(n[t])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ms={},xs={};function ao(t){return ne.call(xs,t)?!0:ne.call(Ms,t)?!1:oc.test(t)?xs[t]=!0:(Ms[t]=!0,!1)}function $i(t,n,a){if(ao(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Zi(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Sn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ro(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function uc(t){var n=ro(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function La(t){t._valueTracker||(t._valueTracker=uc(t))}function Us(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ro(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Rr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var gi=/[\n"\\]/g;function oe(t){return t.replace(gi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ji(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+en(n)):t.value!==""+en(n)&&(t.value=""+en(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?wr(t,y,en(n)):a!=null?wr(t,y,en(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+en(E):t.removeAttribute("name")}function za(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+en(a):"",n=n!=null?""+en(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function wr(t,n,a){n==="number"&&Rr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function qt(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function ja(t,n,a){if(n!=null&&(n=""+en(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+en(a):""}function Wi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(it(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=en(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function bn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var cc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ks(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||cc.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function so(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&ks(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&ks(t,f,n[f])}function Ls(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yn(t){return fc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Rn=null;function Cr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pi=null,yi=null;function vi(t){var n=mi(t);if(n&&(t=n.stateNode)){var a=t[Ae]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ji(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+oe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Ae]||null;if(!c)throw Error(s(90));Ji(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Us(l)}break t;case"textarea":ja(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&qt(t,!!a.multiple,n,!1)}}}var zs=!1;function lo(t,n,a){if(zs)return t(n,a);zs=!0;try{var l=t(n);return l}finally{if(zs=!1,(pi!==null||yi!==null)&&(Wo(),pi&&(n=pi,t=yi,yi=pi=null,vi(n),t)))for(n=0;n<t.length;n++)vi(t[n])}}function Ba(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Ae]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var wn=!1;if(gn)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){wn=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{wn=!1}var Xn=null,ta=null,_i=null;function js(){if(_i)return _i;var t,n=ta,a=n.length,l,c="value"in Xn?Xn.value:Xn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return _i=c.slice(t,1<l?1-l:void 0)}function $n(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Zn(){return!0}function Bs(){return!1}function Me(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Zn:Bs,this.isPropagationStopped=Bs,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),n}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dr=Me(Ft),qa=w({},Ft,{view:0,detail:0}),oo=Me(qa),Or,Ir,Jn,Ha=w({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jn&&(Jn&&t.type==="mousemove"?(Or=t.screenX-Jn.screenX,Ir=t.screenY-Jn.screenY):Ir=Or=0,Jn=t),Or)},movementY:function(t){return"movementY"in t?t.movementY:Ir}}),Cn=Me(Ha),uo=w({},Ha,{dataTransfer:0}),dc=Me(uo),Ga=w({},qa,{relatedTarget:0}),Vr=Me(Ga),Ps=w({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Nr=Me(Ps),co=w({},Ft,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mr=Me(co),mc=w({},Ft,{data:0}),qs=Me(mc),Qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ho={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=fo[t])?!!n[t]:!1}function Fa(){return Hs}var mo=w({},qa,{key:function(t){if(t.key){var n=Qa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=$n(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ho[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fa,charCode:function(t){return t.type==="keypress"?$n(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$n(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xr=Me(mo),go=w({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gs=Me(go),Ei=w({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fa}),po=Me(Ei),yo=w({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),vo=Me(yo),_o=w({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ur=Me(_o),nn=w({},Ft,{newState:0,oldState:0}),Eo=Me(nn),To=[9,13,27,32],Wn=gn&&"CompositionEvent"in window,u=null;gn&&"documentMode"in document&&(u=document.documentMode);var m=gn&&"TextEvent"in window&&!u,p=gn&&(!Wn||u&&8<u&&11>=u),T=" ",k=!1;function B(t,n){switch(t){case"keyup":return To.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mt=!1;function Se(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(k=!0,T);case"textInput":return t=n.data,t===T&&k?null:t;default:return null}}function xt(t,n){if(Mt)return t==="compositionend"||!Wn&&B(t,n)?(t=js(),_i=ta=Xn=null,Mt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function be(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!xe[t.type]:n==="textarea"}function Ti(t,n,a,l){pi?yi?yi.push(l):yi=[l]:pi=l,n=au(n,"onChange"),0<n.length&&(a=new Dr("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Pe=null,ti=null;function Qs(t){Zg(t,0)}function Ao(t){var n=Yi(t);if(Us(n))return t}function wd(t,n){if(t==="change")return n}var Cd=!1;if(gn){var gc;if(gn){var pc="oninput"in document;if(!pc){var Dd=document.createElement("div");Dd.setAttribute("oninput","return;"),pc=typeof Dd.oninput=="function"}gc=pc}else gc=!1;Cd=gc&&(!document.documentMode||9<document.documentMode)}function Od(){Pe&&(Pe.detachEvent("onpropertychange",Id),ti=Pe=null)}function Id(t){if(t.propertyName==="value"&&Ao(ti)){var n=[];Ti(n,ti,t,Cr(t)),lo(Qs,n)}}function G_(t,n,a){t==="focusin"?(Od(),Pe=n,ti=a,Pe.attachEvent("onpropertychange",Id)):t==="focusout"&&Od()}function Q_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ao(ti)}function F_(t,n){if(t==="click")return Ao(n)}function K_(t,n){if(t==="input"||t==="change")return Ao(n)}function Y_(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var pn=typeof Object.is=="function"?Object.is:Y_;function Fs(t,n){if(pn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ne.call(n,c)||!pn(t[c],n[c]))return!1}return!0}function Vd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nd(t,n){var a=Vd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Vd(a)}}function Md(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Md(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Rr(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Rr(t.document)}return n}function yc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function X_(t,n){var a=xd(n);n=t.focusedElem;var l=t.selectionRange;if(a!==n&&n&&n.ownerDocument&&Md(n.ownerDocument.documentElement,n)){if(l!==null&&yc(n)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(a,n.value.length);else if(a=(t=n.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!a.extend&&f>l&&(c=l,l=f,f=c),c=Nd(n,f);var y=Nd(n,l);c&&y&&(a.rangeCount!==1||a.anchorNode!==c.node||a.anchorOffset!==c.offset||a.focusNode!==y.node||a.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),a.removeAllRanges(),f>l?(a.addRange(t),a.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),a.addRange(t)))}}for(t=[],a=n;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)a=t[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var $_=gn&&"documentMode"in document&&11>=document.documentMode,kr=null,vc=null,Ks=null,_c=!1;function Ud(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_c||kr==null||kr!==Rr(l)||(l=kr,"selectionStart"in l&&yc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ks&&Fs(Ks,l)||(Ks=l,l=au(vc,"onSelect"),0<l.length&&(n=new Dr("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=kr)))}function Ka(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Lr={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},Ec={},kd={};gn&&(kd=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function Ya(t){if(Ec[t])return Ec[t];if(!Lr[t])return t;var n=Lr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in kd)return Ec[t]=n[a];return t}var Ld=Ya("animationend"),zd=Ya("animationiteration"),jd=Ya("animationstart"),Z_=Ya("transitionrun"),J_=Ya("transitionstart"),W_=Ya("transitioncancel"),Bd=Ya("transitionend"),Pd=new Map,qd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Bn(t,n){Pd.set(t,n),mn(n,[t])}var Dn=[],zr=0,Tc=0;function So(){for(var t=zr,n=Tc=zr=0;n<t;){var a=Dn[n];Dn[n++]=null;var l=Dn[n];Dn[n++]=null;var c=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Hd(a,c,f)}}function bo(t,n,a,l){Dn[zr++]=t,Dn[zr++]=n,Dn[zr++]=a,Dn[zr++]=l,Tc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ac(t,n,a,l){return bo(t,n,a,l),Ro(t)}function ea(t,n){return bo(t,null,null,n),Ro(t)}function Hd(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-tn(a),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=a|536870912)}function Ro(t){if(50<vl)throw vl=0,Dh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var jr={},Gd=new WeakMap;function On(t,n){if(typeof t=="object"&&t!==null){var a=Gd.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ct(n)},Gd.set(t,n),n)}return{value:t,source:n,stack:ct(n)}}var Br=[],Pr=0,wo=null,Co=0,In=[],Vn=0,Xa=null,Ai=1,Si="";function $a(t,n){Br[Pr++]=Co,Br[Pr++]=wo,wo=t,Co=n}function Qd(t,n,a){In[Vn++]=Ai,In[Vn++]=Si,In[Vn++]=Xa,Xa=t;var l=Ai;t=Si;var c=32-tn(l)-1;l&=~(1<<c),a+=1;var f=32-tn(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ai=1<<32-tn(n)+c|a<<c|l,Si=f+t}else Ai=1<<f|a<<c|l,Si=t}function Sc(t){t.return!==null&&($a(t,1),Qd(t,1,0))}function bc(t){for(;t===wo;)wo=Br[--Pr],Br[Pr]=null,Co=Br[--Pr],Br[Pr]=null;for(;t===Xa;)Xa=In[--Vn],In[Vn]=null,Si=In[--Vn],In[Vn]=null,Ai=In[--Vn],In[Vn]=null}var an=null,qe=null,Ht=!1,Pn=null,ei=!1,Rc=Error(s(519));function Za(t){var n=Error(s(418,""));throw $s(On(n,t)),Rc}function Fd(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ne]=t,n[Ae]=l,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<El.length;a++)Vt(El[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),za(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),La(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Wi(n,l.value,l.defaultValue,l.children),La(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||ep(n.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=ru),n=!0):n=!1,n||Za(t)}function Kd(t){for(an=t.return;an;)switch(an.tag){case 3:case 27:ei=!0;return;case 5:case 13:ei=!1;return;default:an=an.return}}function Ys(t){if(t!==an)return!1;if(!Ht)return Kd(t),Ht=!0,!1;var n=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Qh(t.type,t.memoizedProps)),a=!a),a&&(n=!0),n&&qe&&Za(t),Kd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){qe=Hn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}qe=null}}else qe=an?Hn(t.stateNode.nextSibling):null;return!0}function Xs(){qe=an=null,Ht=!1}function $s(t){Pn===null?Pn=[t]:Pn.push(t)}var Zs=Error(s(460)),Yd=Error(s(474)),wc={then:function(){}};function Xd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Do(){}function $d(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Do,Do),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Zs?Error(s(483)):t;default:if(typeof n.status=="string")n.then(Do,Do);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Zs?Error(s(483)):t}throw Js=n,Zs}}var Js=null;function Zd(){if(Js===null)throw Error(s(459));var t=Js;return Js=null,t}var qr=null,Ws=0;function Oo(t){var n=Ws;return Ws+=1,qr===null&&(qr=[]),$d(qr,t,n)}function tl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Io(t,n){throw n.$$typeof===h?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Jd(t){var n=t._init;return n(t._payload)}function Wd(t){function n(U,M){if(t){var z=U.deletions;z===null?(U.deletions=[M],U.flags|=16):z.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function c(U,M){return U=da(U,M),U.index=0,U.sibling=null,U}function f(U,M,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<M?(U.flags|=33554434,M):z):(U.flags|=33554434,M)):(U.flags|=1048576,M)}function y(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function E(U,M,z,F){return M===null||M.tag!==6?(M=Eh(z,U.mode,F),M.return=U,M):(M=c(M,z),M.return=U,M)}function C(U,M,z,F){var ut=z.type;return ut===v?H(U,M,z.props.children,F,z.key):M!==null&&(M.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===ot&&Jd(ut)===M.type)?(M=c(M,z.props),tl(M,z),M.return=U,M):(M=Yo(z.type,z.key,z.props,null,U.mode,F),tl(M,z),M.return=U,M)}function x(U,M,z,F){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Th(z,U.mode,F),M.return=U,M):(M=c(M,z.children||[]),M.return=U,M)}function H(U,M,z,F,ut){return M===null||M.tag!==7?(M=lr(z,U.mode,F,ut),M.return=U,M):(M=c(M,z),M.return=U,M)}function Y(U,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Eh(""+M,U.mode,z),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case d:return z=Yo(M.type,M.key,M.props,null,U.mode,z),tl(z,M),z.return=U,z;case g:return M=Th(M,U.mode,z),M.return=U,M;case ot:var F=M._init;return M=F(M._payload),Y(U,M,z)}if(it(M)||rt(M))return M=lr(M,U.mode,z,null),M.return=U,M;if(typeof M.then=="function")return Y(U,Oo(M),z);if(M.$$typeof===P)return Y(U,Qo(U,M),z);Io(U,M)}return null}function j(U,M,z,F){var ut=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ut!==null?null:E(U,M,""+z,F);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case d:return z.key===ut?C(U,M,z,F):null;case g:return z.key===ut?x(U,M,z,F):null;case ot:return ut=z._init,z=ut(z._payload),j(U,M,z,F)}if(it(z)||rt(z))return ut!==null?null:H(U,M,z,F,null);if(typeof z.then=="function")return j(U,M,Oo(z),F);if(z.$$typeof===P)return j(U,M,Qo(U,z),F);Io(U,z)}return null}function q(U,M,z,F,ut){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(z)||null,E(M,U,""+F,ut);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case d:return U=U.get(F.key===null?z:F.key)||null,C(M,U,F,ut);case g:return U=U.get(F.key===null?z:F.key)||null,x(M,U,F,ut);case ot:var Dt=F._init;return F=Dt(F._payload),q(U,M,z,F,ut)}if(it(F)||rt(F))return U=U.get(z)||null,H(M,U,F,ut,null);if(typeof F.then=="function")return q(U,M,z,Oo(F),ut);if(F.$$typeof===P)return q(U,M,z,Qo(M,F),ut);Io(M,F)}return null}function ft(U,M,z,F){for(var ut=null,Dt=null,dt=M,vt=M=0,Le=null;dt!==null&&vt<z.length;vt++){dt.index>vt?(Le=dt,dt=null):Le=dt.sibling;var Gt=j(U,dt,z[vt],F);if(Gt===null){dt===null&&(dt=Le);break}t&&dt&&Gt.alternate===null&&n(U,dt),M=f(Gt,M,vt),Dt===null?ut=Gt:Dt.sibling=Gt,Dt=Gt,dt=Le}if(vt===z.length)return a(U,dt),Ht&&$a(U,vt),ut;if(dt===null){for(;vt<z.length;vt++)dt=Y(U,z[vt],F),dt!==null&&(M=f(dt,M,vt),Dt===null?ut=dt:Dt.sibling=dt,Dt=dt);return Ht&&$a(U,vt),ut}for(dt=l(dt);vt<z.length;vt++)Le=q(dt,U,vt,z[vt],F),Le!==null&&(t&&Le.alternate!==null&&dt.delete(Le.key===null?vt:Le.key),M=f(Le,M,vt),Dt===null?ut=Le:Dt.sibling=Le,Dt=Le);return t&&dt.forEach(function(Ea){return n(U,Ea)}),Ht&&$a(U,vt),ut}function Tt(U,M,z,F){if(z==null)throw Error(s(151));for(var ut=null,Dt=null,dt=M,vt=M=0,Le=null,Gt=z.next();dt!==null&&!Gt.done;vt++,Gt=z.next()){dt.index>vt?(Le=dt,dt=null):Le=dt.sibling;var Ea=j(U,dt,Gt.value,F);if(Ea===null){dt===null&&(dt=Le);break}t&&dt&&Ea.alternate===null&&n(U,dt),M=f(Ea,M,vt),Dt===null?ut=Ea:Dt.sibling=Ea,Dt=Ea,dt=Le}if(Gt.done)return a(U,dt),Ht&&$a(U,vt),ut;if(dt===null){for(;!Gt.done;vt++,Gt=z.next())Gt=Y(U,Gt.value,F),Gt!==null&&(M=f(Gt,M,vt),Dt===null?ut=Gt:Dt.sibling=Gt,Dt=Gt);return Ht&&$a(U,vt),ut}for(dt=l(dt);!Gt.done;vt++,Gt=z.next())Gt=q(dt,U,vt,Gt.value,F),Gt!==null&&(t&&Gt.alternate!==null&&dt.delete(Gt.key===null?vt:Gt.key),M=f(Gt,M,vt),Dt===null?ut=Gt:Dt.sibling=Gt,Dt=Gt);return t&&dt.forEach(function(dE){return n(U,dE)}),Ht&&$a(U,vt),ut}function he(U,M,z,F){if(typeof z=="object"&&z!==null&&z.type===v&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case d:t:{for(var ut=z.key;M!==null;){if(M.key===ut){if(ut=z.type,ut===v){if(M.tag===7){a(U,M.sibling),F=c(M,z.props.children),F.return=U,U=F;break t}}else if(M.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===ot&&Jd(ut)===M.type){a(U,M.sibling),F=c(M,z.props),tl(F,z),F.return=U,U=F;break t}a(U,M);break}else n(U,M);M=M.sibling}z.type===v?(F=lr(z.props.children,U.mode,F,z.key),F.return=U,U=F):(F=Yo(z.type,z.key,z.props,null,U.mode,F),tl(F,z),F.return=U,U=F)}return y(U);case g:t:{for(ut=z.key;M!==null;){if(M.key===ut)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(U,M.sibling),F=c(M,z.children||[]),F.return=U,U=F;break t}else{a(U,M);break}else n(U,M);M=M.sibling}F=Th(z,U.mode,F),F.return=U,U=F}return y(U);case ot:return ut=z._init,z=ut(z._payload),he(U,M,z,F)}if(it(z))return ft(U,M,z,F);if(rt(z)){if(ut=rt(z),typeof ut!="function")throw Error(s(150));return z=ut.call(z),Tt(U,M,z,F)}if(typeof z.then=="function")return he(U,M,Oo(z),F);if(z.$$typeof===P)return he(U,M,Qo(U,z),F);Io(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(U,M.sibling),F=c(M,z),F.return=U,U=F):(a(U,M),F=Eh(z,U.mode,F),F.return=U,U=F),y(U)):a(U,M)}return function(U,M,z,F){try{Ws=0;var ut=he(U,M,z,F);return qr=null,ut}catch(dt){if(dt===Zs)throw dt;var Dt=Un(29,dt,null,U.mode);return Dt.lanes=F,Dt.return=U,Dt}finally{}}}var Ja=Wd(!0),tm=Wd(!1),Hr=wt(null),Vo=wt(0);function em(t,n){t=xi,It(Vo,t),It(Hr,n),xi=t|n.baseLanes}function Cc(){It(Vo,xi),It(Hr,Hr.current)}function Dc(){xi=Vo.current,Qt(Hr),Qt(Vo)}var Nn=wt(null),ni=null;function na(t){var n=t.alternate;It(Re,Re.current&1),It(Nn,t),ni===null&&(n===null||Hr.current!==null||n.memoizedState!==null)&&(ni=t)}function nm(t){if(t.tag===22){if(It(Re,Re.current),It(Nn,t),ni===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ni=t)}}else ia()}function ia(){It(Re,Re.current),It(Nn,Nn.current)}function bi(t){Qt(Nn),ni===t&&(ni=null),Qt(Re)}var Re=wt(0);function No(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var t0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},e0=r.unstable_scheduleCallback,n0=r.unstable_NormalPriority,we={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oc(){return{controller:new t0,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&e0(n0,function(){t.controller.abort()})}var nl=null,Ic=0,Gr=0,Qr=null;function i0(t,n){if(nl===null){var a=nl=[];Ic=0,Gr=kh(),Qr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ic++,n.then(im,im),n}function im(){if(--Ic===0&&nl!==null){Qr!==null&&(Qr.status="fulfilled");var t=nl;nl=null,Gr=0,Qr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function a0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var am=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&i0(t,n),am!==null&&am(t,n)};var Wa=wt(null);function Vc(){var t=Wa.current;return t!==null?t:Jt.pooledCache}function Mo(t,n){n===null?It(Wa,Wa.current):It(Wa,n.pool)}function rm(){var t=Vc();return t===null?null:{parent:we._currentValue,pool:t}}var aa=0,Ct=null,Yt=null,ye=null,xo=!1,Fr=!1,tr=!1,Uo=0,il=0,Kr=null,r0=0;function me(){throw Error(s(321))}function Nc(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!pn(t[a],n[a]))return!1;return!0}function Mc(t,n,a,l,c,f){return aa=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?er:ra,tr=!1,f=a(l,c),tr=!1,Fr&&(f=lm(n,a,l,c)),sm(t),f}function sm(t){A.H=ii;var n=Yt!==null&&Yt.next!==null;if(aa=0,ye=Yt=Ct=null,xo=!1,il=0,Kr=null,n)throw Error(s(300));t===null||Ue||(t=t.dependencies,t!==null&&Go(t)&&(Ue=!0))}function lm(t,n,a,l){Ct=t;var c=0;do{if(Fr&&(Kr=null),il=0,Fr=!1,25<=c)throw Error(s(301));if(c+=1,ye=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=nr,f=n(a,l)}while(Fr);return f}function s0(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?al(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(Ct.flags|=1024),n}function xc(){var t=Uo!==0;return Uo=0,t}function Uc(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function kc(t){if(xo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}xo=!1}aa=0,ye=Yt=Ct=null,Fr=!1,il=Uo=0,Kr=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?Ct.memoizedState=ye=t:ye=ye.next=t,ye}function ve(){if(Yt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=ye===null?Ct.memoizedState:ye.next;if(n!==null)ye=n,Yt=t;else{if(t===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ye===null?Ct.memoizedState=ye=t:ye=ye.next=t}return ye}var ko;ko=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function al(t){var n=il;return il+=1,Kr===null&&(Kr=[]),t=$d(Kr,t,n),n=Ct,(ye===null?n.memoizedState:ye.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?er:ra),t}function Lo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===P)return Xe(t)}throw Error(s(438,String(t)))}function Lc(t){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ko(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=_t;return n.index++,a}function Ri(t,n){return typeof n=="function"?n(t):n}function zo(t){var n=ve();return zc(n,Yt,t)}function zc(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,C=null,x=n,H=!1;do{var Y=x.lane&-536870913;if(Y!==x.lane?(Ut&Y)===Y:(aa&Y)===Y){var j=x.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),Y===Gr&&(H=!0);else if((aa&j)===j){x=x.next,j===Gr&&(H=!0);continue}else Y={lane:0,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},C===null?(E=C=Y,y=f):C=C.next=Y,Ct.lanes|=j,ma|=j;Y=x.action,tr&&a(f,Y),f=x.hasEagerState?x.eagerState:a(f,Y)}else j={lane:Y,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},C===null?(E=C=j,y=f):C=C.next=j,Ct.lanes|=Y,ma|=Y;x=x.next}while(x!==null&&x!==n);if(C===null?y=f:C.next=E,!pn(f,t.memoizedState)&&(Ue=!0,H&&(a=Qr,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=C,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jc(t){var n=ve(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);pn(f,n.memoizedState)||(Ue=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function om(t,n,a){var l=Ct,c=ve(),f=Ht;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!pn((Yt||c).memoizedState,a);if(y&&(c.memoizedState=a,Ue=!0),c=c.queue,qc(hm.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,Yr(9,cm.bind(null,l,c,a,n),{destroy:void 0},null),Jt===null)throw Error(s(349));f||(aa&60)!==0||um(l,n,a)}return a}function um(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=ko(),Ct.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function cm(t,n,a,l){n.value=a,n.getSnapshot=l,fm(n)&&dm(t)}function hm(t,n,a){return a(function(){fm(n)&&dm(t)})}function fm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!pn(t,a)}catch{return!0}}function dm(t){var n=ea(t,2);n!==null&&rn(n,t,2)}function Bc(t){var n=un();if(typeof t=="function"){var a=t;if(t=a(),tr){Gn(!0);try{a()}finally{Gn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},n}function mm(t,n,a,l){return t.baseState=a,zc(t,Yt,typeof l=="function"?l:Ri)}function l0(t,n,a,l,c){if(Po(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};A.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,gm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function gm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=A.T,y={};A.T=y;try{var E=a(c,l),C=A.S;C!==null&&C(y,E),pm(t,n,E)}catch(x){Pc(t,n,x)}finally{A.T=f}}else try{f=a(c,l),pm(t,n,f)}catch(x){Pc(t,n,x)}}function pm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ym(t,n,l)},function(l){return Pc(t,n,l)}):ym(t,n,a)}function ym(t,n,a){n.status="fulfilled",n.value=a,vm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,gm(t,a)))}function Pc(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,vm(n),n=n.next;while(n!==l)}t.action=null}function vm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function _m(t,n){return n}function Em(t,n){if(Ht){var a=Jt.formState;if(a!==null){t:{var l=Ct;if(Ht){if(qe){e:{for(var c=qe,f=ei;c.nodeType!==8;){if(!f){c=null;break e}if(c=Hn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){qe=Hn(c.nextSibling),l=c.data==="F!";break t}}Za(l)}l=!1}l&&(n=a[0])}}return a=un(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_m,lastRenderedState:n},a.queue=l,a=zm.bind(null,Ct,l),l.dispatch=a,l=Bc(!1),f=Kc.bind(null,Ct,!1,l.queue),l=un(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=l0.bind(null,Ct,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Tm(t){var n=ve();return Am(n,Yt,t)}function Am(t,n,a){n=zc(t,n,_m)[0],t=zo(Ri)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?al(n):n;var l=ve(),c=l.queue,f=c.dispatch;return a!==l.memoizedState&&(Ct.flags|=2048,Yr(9,o0.bind(null,c,a),{destroy:void 0},null)),[n,f,t]}function o0(t,n){t.action=n}function Sm(t){var n=ve(),a=Yt;if(a!==null)return Am(n,a,t);ve(),n=n.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Yr(t,n,a,l){return t={tag:t,create:n,inst:a,deps:l,next:null},n=Ct.updateQueue,n===null&&(n=ko(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function bm(){return ve().memoizedState}function jo(t,n,a,l){var c=un();Ct.flags|=t,c.memoizedState=Yr(1|n,a,{destroy:void 0},l===void 0?null:l)}function Bo(t,n,a,l){var c=ve();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&Nc(l,Yt.memoizedState.deps)?c.memoizedState=Yr(n,a,f,l):(Ct.flags|=t,c.memoizedState=Yr(1|n,a,f,l))}function Rm(t,n){jo(8390656,8,t,n)}function qc(t,n){Bo(2048,8,t,n)}function wm(t,n){return Bo(4,2,t,n)}function Cm(t,n){return Bo(4,4,t,n)}function Dm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Om(t,n,a){a=a!=null?a.concat([t]):null,Bo(4,4,Dm.bind(null,n,t),a)}function Hc(){}function Im(t,n){var a=ve();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Nc(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Vm(t,n){var a=ve();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Nc(n,l[1]))return l[0];if(l=t(),tr){Gn(!0);try{t()}finally{Gn(!1)}}return a.memoizedState=[l,n],l}function Gc(t,n,a){return a===void 0||(aa&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Mg(),Ct.lanes|=t,ma|=t,a)}function Nm(t,n,a,l){return pn(a,n)?a:Hr.current!==null?(t=Gc(t,a,l),pn(t,n)||(Ue=!0),t):(aa&42)===0?(Ue=!0,t.memoizedState=a):(t=Mg(),Ct.lanes|=t,ma|=t,n)}function Mm(t,n,a,l,c){var f=W.p;W.p=f!==0&&8>f?f:8;var y=A.T,E={};A.T=E,Kc(t,!1,n,a);try{var C=c(),x=A.S;if(x!==null&&x(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=a0(C,l);rl(t,n,H,En(t))}else rl(t,n,l,En(t))}catch(Y){rl(t,n,{then:function(){},status:"rejected",reason:Y},En())}finally{W.p=f,A.T=y}}function u0(){}function Qc(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=xm(t).queue;Mm(t,c,n,yt,a===null?u0:function(){return Um(t),a(l)})}function xm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:yt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Um(t){var n=xm(t).next.queue;rl(t,n,{},En())}function Fc(){return Xe(Rl)}function km(){return ve().memoizedState}function Lm(){return ve().memoizedState}function c0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=En();t=oa(a);var l=ua(n,t,a);l!==null&&(rn(l,n,a),ol(l,n,a)),n={cache:Oc()},t.payload=n;return}n=n.return}}function h0(t,n,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Po(t)?jm(n,a):(a=Ac(t,n,a,l),a!==null&&(rn(a,t,l),Bm(a,n,l)))}function zm(t,n,a){var l=En();rl(t,n,a,l)}function rl(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Po(t))jm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,pn(E,y))return bo(t,n,c,0),Jt===null&&So(),!1}catch{}finally{}if(a=Ac(t,n,c,l),a!==null)return rn(a,t,l),Bm(a,n,l),!0}return!1}function Kc(t,n,a,l){if(l={lane:2,revertLane:kh(),action:l,hasEagerState:!1,eagerState:null,next:null},Po(t)){if(n)throw Error(s(479))}else n=Ac(t,a,l,2),n!==null&&rn(n,t,2)}function Po(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function jm(t,n){Fr=xo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Bm(t,n,a){if((a&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Qi(t,a)}}var ii={readContext:Xe,use:Lo,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me};ii.useCacheRefresh=me,ii.useMemoCache=me,ii.useHostTransitionStatus=me,ii.useFormState=me,ii.useActionState=me,ii.useOptimistic=me;var er={readContext:Xe,use:Lo,useCallback:function(t,n){return un().memoizedState=[t,n===void 0?null:n],t},useContext:Xe,useEffect:Rm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,jo(4194308,4,Dm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return jo(4194308,4,t,n)},useInsertionEffect:function(t,n){jo(4,2,t,n)},useMemo:function(t,n){var a=un();n=n===void 0?null:n;var l=t();if(tr){Gn(!0);try{t()}finally{Gn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=un();if(a!==void 0){var c=a(n);if(tr){Gn(!0);try{a(n)}finally{Gn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=h0.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=un();return t={current:t},n.memoizedState=t},useState:function(t){t=Bc(t);var n=t.queue,a=zm.bind(null,Ct,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Hc,useDeferredValue:function(t,n){var a=un();return Gc(a,t,n)},useTransition:function(){var t=Bc(!1);return t=Mm.bind(null,Ct,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ct,c=un();if(Ht){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(Ut&60)!==0||um(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Rm(hm.bind(null,l,f,t),[t]),l.flags|=2048,Yr(9,cm.bind(null,l,f,a,n),{destroy:void 0},null),a},useId:function(){var t=un(),n=Jt.identifierPrefix;if(Ht){var a=Si,l=Ai;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=Uo++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=r0++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return un().memoizedState=c0.bind(null,Ct)}};er.useMemoCache=Lc,er.useHostTransitionStatus=Fc,er.useFormState=Em,er.useActionState=Em,er.useOptimistic=function(t){var n=un();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Kc.bind(null,Ct,!0,a),a.dispatch=n,[t,n]};var ra={readContext:Xe,use:Lo,useCallback:Im,useContext:Xe,useEffect:qc,useImperativeHandle:Om,useInsertionEffect:wm,useLayoutEffect:Cm,useMemo:Vm,useReducer:zo,useRef:bm,useState:function(){return zo(Ri)},useDebugValue:Hc,useDeferredValue:function(t,n){var a=ve();return Nm(a,Yt.memoizedState,t,n)},useTransition:function(){var t=zo(Ri)[0],n=ve().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:om,useId:km};ra.useCacheRefresh=Lm,ra.useMemoCache=Lc,ra.useHostTransitionStatus=Fc,ra.useFormState=Tm,ra.useActionState=Tm,ra.useOptimistic=function(t,n){var a=ve();return mm(a,Yt,t,n)};var nr={readContext:Xe,use:Lo,useCallback:Im,useContext:Xe,useEffect:qc,useImperativeHandle:Om,useInsertionEffect:wm,useLayoutEffect:Cm,useMemo:Vm,useReducer:jc,useRef:bm,useState:function(){return jc(Ri)},useDebugValue:Hc,useDeferredValue:function(t,n){var a=ve();return Yt===null?Gc(a,t,n):Nm(a,Yt.memoizedState,t,n)},useTransition:function(){var t=jc(Ri)[0],n=ve().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:om,useId:km};nr.useCacheRefresh=Lm,nr.useMemoCache=Lc,nr.useHostTransitionStatus=Fc,nr.useFormState=Sm,nr.useActionState=Sm,nr.useOptimistic=function(t,n){var a=ve();return Yt!==null?mm(a,Yt,t,n):(a.baseState=t,[t,a.queue.dispatch])};function Yc(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Xc={isMounted:function(t){return(t=t._reactInternals)?st(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var l=En(),c=oa(l);c.payload=n,a!=null&&(c.callback=a),n=ua(t,c,l),n!==null&&(rn(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=En(),c=oa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ua(t,c,l),n!==null&&(rn(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=En(),l=oa(a);l.tag=2,n!=null&&(l.callback=n),n=ua(t,l,a),n!==null&&(rn(n,t,a),ol(n,t,a))}};function Pm(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Fs(a,l)||!Fs(c,f):!0}function qm(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Xc.enqueueReplaceState(n,n.state,null)}function ir(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var qo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hm(t){qo(t)}function Gm(t){console.error(t)}function Qm(t){qo(t)}function Ho(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Fm(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function $c(t,n,a){return a=oa(a),a.tag=3,a.payload={element:null},a.callback=function(){Ho(t,n)},a}function Km(t){return t=oa(t),t.tag=3,t}function Ym(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Fm(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Fm(n,a,l),typeof c!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function f0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ll(n,a,c,!0),a=Nn.current,a!==null){switch(a.tag){case 13:return ni===null?Vh():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===wc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Mh(t,l,c)),!1;case 22:return a.flags|=65536,l===wc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Mh(t,l,c)),!1}throw Error(s(435,a.tag))}return Mh(t,l,c),Vh(),!1}if(Ht)return n=Nn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Rc&&(t=Error(s(422),{cause:l}),$s(On(t,a)))):(l!==Rc&&(n=Error(s(423),{cause:l}),$s(On(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=On(l,a),c=$c(t.stateNode,l,c),hh(t,c),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:l});if(f=On(f,a),pl===null?pl=[f]:pl.push(f),ce!==4&&(ce=2),n===null)return!0;l=On(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=$c(a.stateNode,l,t),hh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ga===null||!ga.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Km(c),Ym(c,t,a,l),hh(a,c),!1}a=a.return}while(a!==null);return!1}var Xm=Error(s(461)),Ue=!1;function He(t,n,a,l){n.child=t===null?tm(n,null,a,l):Ja(n,t.child,a,l)}function $m(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return rr(n),l=Mc(t,n,a,y,f,c),E=xc(),t!==null&&!Ue?(Uc(t,n,c),wi(t,n,c)):(Ht&&E&&Sc(n),n.flags|=1,He(t,n,l,c),n.child)}function Zm(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!_h(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Jm(t,n,f,l,c)):(t=Yo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!rh(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Fs,a(y,l)&&t.ref===n.ref)return wi(t,n,c)}return n.flags|=1,t=da(f,l),t.ref=n.ref,t.return=n,n.child=t}function Jm(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Fs(f,l)&&t.ref===n.ref)if(Ue=!1,n.pendingProps=l=f,rh(t,c))(t.flags&131072)!==0&&(Ue=!0);else return n.lanes=t.lanes,wi(t,n,c)}return Zc(t,n,a,l,c)}function Wm(t,n,a){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(sl(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=y!==null?y.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return tg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mo(n,y!==null?y.cachePool:null),y!==null?em(n,y):Cc(),nm(n);else return n.lanes=n.childLanes=536870912,tg(t,n,y!==null?y.baseLanes|a:a,a)}else y!==null?(Mo(n,y.cachePool),em(n,y),ia(),n.memoizedState=null):(t!==null&&Mo(n,null),Cc(),ia());return He(t,n,c,a),n.child}function tg(t,n,a,l){var c=Vc();return c=c===null?null:{parent:we._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Mo(n,null),Cc(),nm(n),t!==null&&ll(t,n,l,!0),null}function sl(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=2097664)}}function Zc(t,n,a,l,c){return rr(n),a=Mc(t,n,a,l,void 0,c),l=xc(),t!==null&&!Ue?(Uc(t,n,c),wi(t,n,c)):(Ht&&l&&Sc(n),n.flags|=1,He(t,n,a,c),n.child)}function eg(t,n,a,l,c,f){return rr(n),n.updateQueue=null,a=lm(n,l,a,c),sm(t),l=xc(),t!==null&&!Ue?(Uc(t,n,f),wi(t,n,f)):(Ht&&l&&Sc(n),n.flags|=1,He(t,n,a,f),n.child)}function ng(t,n,a,l,c){if(rr(n),n.stateNode===null){var f=jr,y=a.contextType;typeof y=="object"&&y!==null&&(f=Xe(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Xc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},uh(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?Xe(y):jr,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Yc(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Xc.enqueueReplaceState(f,f.state,null),cl(n,l,f,c),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=ir(a,E);f.props=C;var x=f.context,H=a.contextType;y=jr,typeof H=="object"&&H!==null&&(y=Xe(H));var Y=a.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||x!==y)&&qm(n,f,l,y),la=!1;var j=n.memoizedState;f.state=j,cl(n,l,f,c),ul(),x=n.memoizedState,E||j!==x||la?(typeof Y=="function"&&(Yc(n,a,Y,l),x=n.memoizedState),(C=la||Pm(n,a,C,l,j,x,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=x),f.props=l,f.state=x,f.context=y,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ch(t,n),y=n.memoizedProps,H=ir(a,y),f.props=H,Y=n.pendingProps,j=f.context,x=a.contextType,C=jr,typeof x=="object"&&x!==null&&(C=Xe(x)),E=a.getDerivedStateFromProps,(x=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||j!==C)&&qm(n,f,l,C),la=!1,j=n.memoizedState,f.state=j,cl(n,l,f,c),ul();var q=n.memoizedState;y!==Y||j!==q||la||t!==null&&t.dependencies!==null&&Go(t.dependencies)?(typeof E=="function"&&(Yc(n,a,E,l),q=n.memoizedState),(H=la||Pm(n,a,H,l,j,q,C)||t!==null&&t.dependencies!==null&&Go(t.dependencies))?(x||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=C,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,sl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ja(n,t.child,null,c),n.child=Ja(n,null,a,c)):He(t,n,a,c),n.memoizedState=f.state,t=n.child):t=wi(t,n,c),t}function ig(t,n,a,l){return Xs(),n.flags|=256,He(t,n,a,l),n.child}var Jc={dehydrated:null,treeContext:null,retryLane:0};function Wc(t){return{baseLanes:t,cachePool:rm()}}function th(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=kn),t}function ag(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ht){if(c?na(n):ia(),Ht){var E=qe,C;if(C=E){t:{for(C=E,E=ei;C.nodeType!==8;){if(!E){E=null;break t}if(C=Hn(C.nextSibling),C===null){E=null;break t}}E=C}E!==null?(n.memoizedState={dehydrated:E,treeContext:Xa!==null?{id:Ai,overflow:Si}:null,retryLane:536870912},C=Un(18,null,null,0),C.stateNode=E,C.return=n,n.child=C,an=n,qe=null,C=!0):C=!1}C||Za(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;bi(n)}return E=l.children,l=l.fallback,c?(ia(),c=n.mode,E=nh({mode:"hidden",children:E},c),l=lr(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Wc(a),c.childLanes=th(t,y,a),n.memoizedState=Jc,l):(na(n),eh(n,E))}if(C=t.memoizedState,C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(na(n),n.flags&=-257,n=ih(t,n,a)):n.memoizedState!==null?(ia(),n.child=t.child,n.flags|=128,n=null):(ia(),c=l.fallback,E=n.mode,l=nh({mode:"visible",children:l.children},E),c=lr(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ja(n,t.child,null,a),l=n.child,l.memoizedState=Wc(a),l.childLanes=th(t,y,a),n.memoizedState=Jc,n=c);else if(na(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var x=y.dgst;y=x,l=Error(s(419)),l.stack="",l.digest=y,$s({value:l,source:null,stack:null}),n=ih(t,n,a)}else if(Ue||ll(t,n,a,!1),y=(a&t.childLanes)!==0,Ue||y){if(y=Jt,y!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,ea(t,l),rn(y,t,l),Xm}E.data==="$?"||Vh(),n=ih(t,n,a)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=C0.bind(null,t),E._reactRetry=n,n=null):(t=C.treeContext,qe=Hn(E.nextSibling),an=n,Ht=!0,Pn=null,ei=!1,t!==null&&(In[Vn++]=Ai,In[Vn++]=Si,In[Vn++]=Xa,Ai=t.id,Si=t.overflow,Xa=n),n=eh(n,l.children),n.flags|=4096);return n}return c?(ia(),c=l.fallback,E=n.mode,C=t.child,x=C.sibling,l=da(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,x!==null?c=da(x,c):(c=lr(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Wc(a):(C=E.cachePool,C!==null?(x=we._currentValue,C=C.parent!==x?{parent:x,pool:x}:C):C=rm(),E={baseLanes:E.baseLanes|a,cachePool:C}),c.memoizedState=E,c.childLanes=th(t,y,a),n.memoizedState=Jc,l):(na(n),a=t.child,t=a.sibling,a=da(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function eh(t,n){return n=nh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function nh(t,n){return Ig(t,n,0,null)}function ih(t,n,a){return Ja(n,t.child,null,a),t=eh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function rg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),lh(t.return,n,a)}function ah(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function sg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(He(t,n,l.children,a),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rg(t,a,n);else if(t.tag===19)rg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(It(Re,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&No(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),ah(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&No(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}ah(n,!0,a,null,f);break;case"together":ah(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ma|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ll(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=da(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=da(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function rh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Go(t)))}function d0(t,n,a){switch(n.tag){case 3:ee(n,n.stateNode.containerInfo),sa(n,we,t.memoizedState.cache),Xs();break;case 27:case 5:Be(n);break;case 4:ee(n,n.stateNode.containerInfo);break;case 10:sa(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(na(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ag(t,n,a):(na(n),t=wi(t,n,a),t!==null?t.sibling:null);na(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ll(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return sg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),It(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,Wm(t,n,a);case 24:sa(n,we,t.memoizedState.cache)}return wi(t,n,a)}function lg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ue=!0;else{if(!rh(t,a)&&(n.flags&128)===0)return Ue=!1,d0(t,n,a);Ue=(t.flags&131072)!==0}else Ue=!1,Ht&&(n.flags&1048576)!==0&&Qd(n,Co,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")_h(l)?(t=ir(l,t),n.tag=1,n=ng(null,n,l,t,a)):(n.tag=0,n=Zc(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===J){n.tag=11,n=$m(null,n,l,t,a);break t}else if(c===nt){n.tag=14,n=Zm(null,n,l,t,a);break t}}throw n=S(l)||l,Error(s(306,n,""))}}return n;case 0:return Zc(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ir(l,n.pendingProps),ng(t,n,l,c,a);case 3:t:{if(ee(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,ch(t,n),cl(n,f,null,a);var y=n.memoizedState;if(f=y.cache,sa(n,we,f),f!==c.cache&&oh(n,[we],a,!0),ul(),f=y.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=ig(t,n,f,a);break t}else if(f!==l){l=On(Error(s(424)),n),$s(l),n=ig(t,n,f,a);break t}else for(qe=Hn(n.stateNode.containerInfo.firstChild),an=n,Ht=!0,Pn=null,ei=!0,a=tm(n,null,f,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Xs(),f===l){n=wi(t,n,a);break t}He(t,n,f,a)}n=n.child}return n;case 26:return sl(t,n),t===null?(a=cp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ht||(a=n.type,t=n.pendingProps,l=su(te.current).createElement(a),l[Ne]=n,l[Ae]=t,Ge(l,a,t),ie(l),n.stateNode=l):n.memoizedState=cp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Be(n),t===null&&Ht&&(l=n.stateNode=lp(n.type,n.pendingProps,te.current),an=n,ei=!0,qe=Hn(l.firstChild)),l=n.pendingProps.children,t!==null||Ht?He(t,n,l,a):n.child=Ja(n,null,l,a),sl(t,n),n.child;case 5:return t===null&&Ht&&((c=l=qe)&&(l=H0(l,n.type,n.pendingProps,ei),l!==null?(n.stateNode=l,an=n,qe=Hn(l.firstChild),ei=!1,c=!0):c=!1),c||Za(n)),Be(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Qh(c,f)?l=null:y!==null&&Qh(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Mc(t,n,s0,null,null,a),Rl._currentValue=c),sl(t,n),He(t,n,l,a),n.child;case 6:return t===null&&Ht&&((t=a=qe)&&(a=G0(a,n.pendingProps,ei),a!==null?(n.stateNode=a,an=n,qe=null,t=!0):t=!1),t||Za(n)),null;case 13:return ag(t,n,a);case 4:return ee(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ja(n,null,l,a):He(t,n,l,a),n.child;case 11:return $m(t,n,n.type,n.pendingProps,a);case 7:return He(t,n,n.pendingProps,a),n.child;case 8:return He(t,n,n.pendingProps.children,a),n.child;case 12:return He(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,sa(n,n.type,l.value),He(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,rr(n),c=Xe(c),l=l(c),n.flags|=1,He(t,n,l,a),n.child;case 14:return Zm(t,n,n.type,n.pendingProps,a);case 15:return Jm(t,n,n.type,n.pendingProps,a);case 19:return sg(t,n,a);case 22:return Wm(t,n,a);case 24:return rr(n),l=Xe(we),t===null?(c=Vc(),c===null&&(c=Jt,f=Oc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},uh(n),sa(n,we,c)):((t.lanes&a)!==0&&(ch(t,n),cl(n,null,null,a),ul()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),sa(n,we,l)):(l=f.cache,sa(n,we,l),l!==c.cache&&oh(n,[we],a,!0))),He(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var sh=wt(null),ar=null,Ci=null;function sa(t,n,a){It(sh,n._currentValue),n._currentValue=a}function Di(t){t._currentValue=sh.current,Qt(sh)}function lh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function oh(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),lh(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),lh(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ll(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;pn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===je.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}c=c.return}t!==null&&oh(n,t,a,l),n.flags|=262144}function Go(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rr(t){ar=t,Ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xe(t){return og(ar,t)}function Qo(t,n){return ar===null&&rr(t),og(t,n)}function og(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ci===null){if(t===null)throw Error(s(308));Ci=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ci=Ci.next=n;return a}var la=!1;function uh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ch(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function oa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ua(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(re&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ro(t),Hd(t,null,a),n}return bo(t,l,n,a),Ro(t)}function ol(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Qi(t,a)}}function hh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var fh=!1;function ul(){if(fh){var t=Qr;if(t!==null)throw t}}function cl(t,n,a,l){fh=!1;var c=t.updateQueue;la=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,x=C.next;C.next=null,y===null?f=x:y.next=x,y=C;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=x:E.next=x,H.lastBaseUpdate=C))}if(f!==null){var Y=c.baseState;y=0,H=x=C=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Ut&j)===j:(l&j)===j){j!==0&&j===Gr&&(fh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ft=t,Tt=E;j=n;var he=a;switch(Tt.tag){case 1:if(ft=Tt.payload,typeof ft=="function"){Y=ft.call(he,Y,j);break t}Y=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=Tt.payload,j=typeof ft=="function"?ft.call(he,Y,j):ft,j==null)break t;Y=w({},Y,j);break t;case 2:la=!0}}j=E.callback,j!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(x=H=q,C=Y):H=H.next=q,y|=j;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(C=Y),c.baseState=C,c.firstBaseUpdate=x,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),ma|=y,t.lanes=y,t.memoizedState=Y}}function ug(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function cg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ug(a[t],n)}function hl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){$t(n,n.return,E)}}function ca(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var C=a;try{E()}catch(x){$t(c,C,x)}}}l=l.next}while(l!==f)}}catch(x){$t(n,n.return,x)}}function hg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{cg(n,a)}catch(l){$t(t,t.return,l)}}}function fg(t,n,a){a.props=ir(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$t(t,n,l)}}function sr(t,n){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(f){$t(t,n,f)}}function yn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){$t(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){$t(t,n,c)}else a.current=null}function dg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){$t(t,t.return,c)}}function mg(t,n,a){try{var l=t.stateNode;z0(l,t.type,a,n),l[Ae]=n}catch(c){$t(t,t.return,c)}}function gg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function dh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||gg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ru));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(mh(t,n,a),t=t.sibling;t!==null;)mh(t,n,a),t=t.sibling}function Fo(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Fo(t,n,a),t=t.sibling;t!==null;)Fo(t,n,a),t=t.sibling}var Oi=!1,ue=!1,gh=!1,pg=typeof WeakSet=="function"?WeakSet:Set,ke=null,yg=!1;function m0(t,n){if(t=t.containerInfo,Hh=fu,t=xd(t),yc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,C=-1,x=0,H=0,Y=t,j=null;e:for(;;){for(var q;Y!==a||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(C=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===t)break e;if(j===a&&++x===c&&(E=y),j===f&&++H===l&&(C=y),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gh={focusedElem:t,selectionRange:a},fu=!1,ke=n;ke!==null;)if(n=ke,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ke=t;else for(;ke!==null;){switch(n=ke,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ft=ir(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ft,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Tt){$t(a,a.return,Tt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Yh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,ke=t;break}ke=n.return}return ft=yg,yg=!1,ft}function vg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Vi(t,a),l&4&&hl(5,a);break;case 1:if(Vi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(E){$t(a,a.return,E)}else{var c=ir(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){$t(a,a.return,E)}}l&64&&hg(a),l&512&&sr(a,a.return);break;case 3:if(Vi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{cg(l,t)}catch(E){$t(a,a.return,E)}}break;case 26:Vi(t,a),l&512&&sr(a,a.return);break;case 27:case 5:Vi(t,a),n===null&&l&4&&dg(a),l&512&&sr(a,a.return);break;case 12:Vi(t,a);break;case 13:Vi(t,a),l&4&&Tg(t,a);break;case 22:if(c=a.memoizedState!==null||Oi,!c){n=n!==null&&n.memoizedState!==null||ue;var f=Oi,y=ue;Oi=c,(ue=n)&&!y?ha(t,a,(a.subtreeFlags&8772)!==0):Vi(t,a),Oi=f,ue=y}l&512&&(a.memoizedProps.mode==="manual"?sr(a,a.return):yn(a,a.return));break;default:Vi(t,a)}}function _g(t){var n=t.alternate;n!==null&&(t.alternate=null,_g(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ka(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _e=null,vn=!1;function Ii(t,n,a){for(a=a.child;a!==null;)Eg(t,n,a),a=a.sibling}function Eg(t,n,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Bi,a)}catch{}switch(a.tag){case 26:ue||yn(a,n),Ii(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ue||yn(a,n);var l=_e,c=vn;for(_e=a.stateNode,Ii(t,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);ka(a),_e=l,vn=c;break;case 5:ue||yn(a,n);case 6:c=_e;var f=vn;if(_e=null,Ii(t,n,a),_e=c,vn=f,_e!==null)if(vn)try{t=_e,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){$t(a,n,y)}else try{_e.removeChild(a.stateNode)}catch(y){$t(a,n,y)}break;case 18:_e!==null&&(vn?(n=_e,a=a.stateNode,n.nodeType===8?Kh(n.parentNode,a):n.nodeType===1&&Kh(n,a),Ol(n)):Kh(_e,a.stateNode));break;case 4:l=_e,c=vn,_e=a.stateNode.containerInfo,vn=!0,Ii(t,n,a),_e=l,vn=c;break;case 0:case 11:case 14:case 15:ue||ca(2,a,n),ue||ca(4,a,n),Ii(t,n,a);break;case 1:ue||(yn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&fg(a,n,l)),Ii(t,n,a);break;case 21:Ii(t,n,a);break;case 22:ue||yn(a,n),ue=(l=ue)||a.memoizedState!==null,Ii(t,n,a),ue=l;break;default:Ii(t,n,a)}}function Tg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ol(t)}catch(a){$t(n,n.return,a)}}function g0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new pg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new pg),n;default:throw Error(s(435,t.tag))}}function ph(t,n){var a=g0(t);n.forEach(function(l){var c=D0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function Mn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:_e=E.stateNode,vn=!1;break t;case 3:_e=E.stateNode.containerInfo,vn=!0;break t;case 4:_e=E.stateNode.containerInfo,vn=!0;break t}E=E.return}if(_e===null)throw Error(s(160));Eg(f,y,c),_e=null,vn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ag(n,t),n=n.sibling}var qn=null;function Ag(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(n,t),xn(t),l&4&&(ca(3,t,t.return),hl(3,t),ca(5,t,t.return));break;case 1:Mn(n,t),xn(t),l&512&&(ue||a===null||yn(a,a.return)),l&64&&Oi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=qn;if(Mn(n,t),xn(t),l&512&&(ue||a===null||yn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ki]||f[Ne]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ge(f,l,a),f[Ne]=t,ie(f),l=f;break t;case"link":var y=dp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Ge(f,l,a),c.head.appendChild(f);break;case"meta":if(y=dp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Ge(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ne]=t,ie(f),l=f}t.stateNode=l}else mp(c,t.type,t.stateNode);else t.stateNode=fp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?mp(c,t.type,t.stateNode):fp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&mg(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var C=c.firstChild;C;){var x=C.nextSibling,H=C.nodeName;C[Ki]||H==="HEAD"||H==="BODY"||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&C.rel.toLowerCase()==="stylesheet"||c.removeChild(C),C=x}for(var Y=t.type,j=c.attributes;j.length;)c.removeAttributeNode(j[0]);Ge(c,Y,f),c[Ne]=t,c[Ae]=f}catch(ft){$t(t,t.return,ft)}}case 5:if(Mn(n,t),xn(t),l&512&&(ue||a===null||yn(a,a.return)),t.flags&32){c=t.stateNode;try{bn(c,"")}catch(ft){$t(t,t.return,ft)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,mg(t,c,a!==null?a.memoizedProps:c)),l&1024&&(gh=!0);break;case 6:if(Mn(n,t),xn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ft){$t(t,t.return,ft)}}break;case 3:if(uu=null,c=qn,qn=lu(n.containerInfo),Mn(n,t),qn=c,xn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ol(n.containerInfo)}catch(ft){$t(t,t.return,ft)}gh&&(gh=!1,Sg(t));break;case 4:l=qn,qn=lu(t.stateNode.containerInfo),Mn(n,t),xn(t),qn=l;break;case 12:Mn(n,t),xn(t);break;case 13:Mn(n,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rh=ln()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ph(t,l)));break;case 22:if(l&512&&(ue||a===null||yn(a,a.return)),C=t.memoizedState!==null,x=a!==null&&a.memoizedState!==null,H=Oi,Y=ue,Oi=H||C,ue=Y||x,Mn(n,t),ue=Y,Oi=H,xn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=C?n._visibility&-2:n._visibility|1,C&&(n=Oi||ue,a===null||x||n||Xr(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(a=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){x=a=n;try{if(c=x.stateNode,C)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=x.stateNode,E=x.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ft){$t(x,x.return,ft)}}}else if(n.tag===6){if(a===null){x=n;try{x.stateNode.nodeValue=C?"":x.memoizedProps}catch(ft){$t(x,x.return,ft)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ph(t,a))));break;case 19:Mn(n,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ph(t,l)));break;case 21:break;default:Mn(n,t),xn(t)}}function xn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var a=t.return;a!==null;){if(gg(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var c=l.stateNode,f=dh(t);Fo(t,f,c);break;case 5:var y=l.stateNode;l.flags&32&&(bn(y,""),l.flags&=-33);var E=dh(t);Fo(t,E,y);break;case 3:case 4:var C=l.stateNode.containerInfo,x=dh(t);mh(t,x,C);break;default:throw Error(s(161))}}}catch(H){$t(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Sg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Sg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Vi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)vg(t,n.alternate,n),n=n.sibling}function Xr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ca(4,n,n.return),Xr(n);break;case 1:yn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&fg(n,n.return,a),Xr(n);break;case 26:case 27:case 5:yn(n,n.return),Xr(n);break;case 22:yn(n,n.return),n.memoizedState===null&&Xr(n);break;default:Xr(n)}t=t.sibling}}function ha(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ha(c,f,a),hl(4,f);break;case 1:if(ha(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(x){$t(l,l.return,x)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)ug(C[c],E)}catch(x){$t(l,l.return,x)}}a&&y&64&&hg(f),sr(f,f.return);break;case 26:case 27:case 5:ha(c,f,a),a&&l===null&&y&4&&dg(f),sr(f,f.return);break;case 12:ha(c,f,a);break;case 13:ha(c,f,a),a&&y&4&&Tg(c,f);break;case 22:f.memoizedState===null&&ha(c,f,a),sr(f,f.return);break;default:ha(c,f,a)}n=n.sibling}}function yh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function vh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t))}function fa(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bg(t,n,a,l),n=n.sibling}function bg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:fa(t,n,a,l),c&2048&&hl(9,n);break;case 3:fa(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t)));break;case 12:if(c&2048){fa(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){$t(n,n.return,C)}}else fa(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?fa(t,n,a,l):fl(t,n):f._visibility&4?fa(t,n,a,l):(f._visibility|=4,$r(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&yh(n.alternate,n);break;case 24:fa(t,n,a,l),c&2048&&vh(n.alternate,n);break;default:fa(t,n,a,l)}}function $r(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,C=l,x=y.flags;switch(y.tag){case 0:case 11:case 15:$r(f,y,E,C,c),hl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&4?$r(f,y,E,C,c):fl(f,y):(H._visibility|=4,$r(f,y,E,C,c)),c&&x&2048&&yh(y.alternate,y);break;case 24:$r(f,y,E,C,c),c&&x&2048&&vh(y.alternate,y);break;default:$r(f,y,E,C,c)}n=n.sibling}}function fl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:fl(a,l),c&2048&&yh(l.alternate,l);break;case 24:fl(a,l),c&2048&&vh(l.alternate,l);break;default:fl(a,l)}n=n.sibling}}var dl=8192;function Zr(t){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)Rg(t),t=t.sibling}function Rg(t){switch(t.tag){case 26:Zr(t),t.flags&dl&&t.memoizedState!==null&&iE(qn,t.memoizedState,t.memoizedProps);break;case 5:Zr(t);break;case 3:case 4:var n=qn;qn=lu(t.stateNode.containerInfo),Zr(t),qn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=dl,dl=16777216,Zr(t),dl=n):Zr(t));break;default:Zr(t)}}function wg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ml(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ke=l,Dg(l,t)}wg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cg(t),t=t.sibling}function Cg(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&ca(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Ko(t)):ml(t);break;default:ml(t)}}function Ko(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ke=l,Dg(l,t)}wg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ca(8,n,n.return),Ko(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,Ko(n));break;default:Ko(n)}t=t.sibling}}function Dg(t,n){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:ca(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ke=l;else t:for(a=t;ke!==null;){l=ke;var c=l.sibling,f=l.return;if(_g(l),l===a){ke=null;break t}if(c!==null){c.return=f,ke=c;break t}ke=f}}}function p0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,n,a,l){return new p0(t,n,a,l)}function _h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function da(t,n){var a=t.alternate;return a===null?(a=Un(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Og(t,n){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Yo(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")_h(t)&&(y=1);else if(typeof t=="string")y=eE(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case v:return lr(a.children,c,f,n);case _:y=8,c|=24;break;case b:return t=Un(12,a,n,c|2),t.elementType=b,t.lanes=f,t;case X:return t=Un(13,a,n,c),t.elementType=X,t.lanes=f,t;case $:return t=Un(19,a,n,c),t.elementType=$,t.lanes=f,t;case ht:return Ig(a,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N:case P:y=10;break t;case L:y=9;break t;case J:y=11;break t;case nt:y=14;break t;case ot:y=16,l=null;break t}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Un(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function lr(t,n,a,l){return t=Un(7,t,l,n),t.lanes=a,t}function Ig(t,n,a,l){t=Un(22,t,l,n),t.elementType=ht,t.lanes=a;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(s(456));if((c._pendingVisibility&2)===0){var y=ea(f,2);y!==null&&(c._pendingVisibility|=2,rn(y,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(s(456));if((c._pendingVisibility&2)!==0){var y=ea(f,2);y!==null&&(c._pendingVisibility&=-3,rn(y,f,2))}}};return t.stateNode=c,t}function Eh(t,n,a){return t=Un(6,t,null,n),t.lanes=a,t}function Th(t,n,a){return n=Un(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Ni(t){t.flags|=4}function Vg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gp(n)){if(n=Nn.current,n!==null&&((Ut&4194176)===Ut?ni!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==ni))throw Js=wc,Yd;t.flags|=8192}}function Xo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Hi():536870912,t.lanes|=n,Wr|=n)}function gl(t,n){if(!Ht)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ae(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function y0(t,n,a){var l=n.pendingProps;switch(bc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(we),Zt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ys(n)?Ni(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Pn!==null&&(Oh(Pn),Pn=null))),ae(n),null;case 26:return a=n.memoizedState,t===null?(Ni(n),a!==null?(ae(n),Vg(n,a)):(ae(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ni(n),ae(n),Vg(n,a)):(ae(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ni(n),ae(n),n.flags&=-16777217),null;case 27:Ie(n),a=te.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ae(n),null}t=le.current,Ys(n)?Fd(n):(t=lp(c,l,a),n.stateNode=t,Ni(n))}return ae(n),null;case 5:if(Ie(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ae(n),null}if(t=le.current,Ys(n))Fd(n);else{switch(c=su(te.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[Ne]=n,t[Ae]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Ge(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ni(n)}}return ae(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=te.current,Ys(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=an,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ne]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ep(t.nodeValue,a)),t||Za(n)}else t=su(t).createTextNode(l),t[Ne]=n,n.stateNode=t}return ae(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ys(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Ne]=n}else Xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),c=!1}else Pn!==null&&(Oh(Pn),Pn=null),c=!0;if(!c)return n.flags&256?(bi(n),n):(bi(n),null)}if(bi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Xo(n,n.updateQueue),ae(n),null;case 4:return Zt(),t===null&&Bh(n.stateNode.containerInfo),ae(n),null;case 10:return Di(n.type),ae(n),null;case 19:if(Qt(Re),c=n.memoizedState,c===null)return ae(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)gl(c,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=No(t),f!==null){for(n.flags|=128,gl(c,!1),t=f.updateQueue,n.updateQueue=t,Xo(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Og(a,t),a=a.sibling;return It(Re,Re.current&1|2),n.child}t=t.sibling}c.tail!==null&&ln()>$o&&(n.flags|=128,l=!0,gl(c,!1),n.lanes=4194304)}else{if(!l)if(t=No(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Xo(n,t),gl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Ht)return ae(n),null}else 2*ln()-c.renderingStartTime>$o&&a!==536870912&&(n.flags|=128,l=!0,gl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=ln(),n.sibling=null,t=Re.current,It(Re,l?t&1|2:t&1),n):(ae(n),null);case 22:case 23:return bi(n),Dc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),a=n.updateQueue,a!==null&&Xo(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Qt(Wa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Di(we),ae(n),null;case 25:return null}throw Error(s(156,n.tag))}function v0(t,n){switch(bc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Di(we),Zt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ie(n),null;case 13:if(bi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Xs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Qt(Re),null;case 4:return Zt(),null;case 10:return Di(n.type),null;case 22:case 23:return bi(n),Dc(),t!==null&&Qt(Wa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Di(we),null;case 25:return null;default:return null}}function Ng(t,n){switch(bc(n),n.tag){case 3:Di(we),Zt();break;case 26:case 27:case 5:Ie(n);break;case 4:Zt();break;case 13:bi(n);break;case 19:Qt(Re);break;case 10:Di(n.type);break;case 22:case 23:bi(n),Dc(),t!==null&&Qt(Wa);break;case 24:Di(we)}}var _0={getCacheForType:function(t){var n=Xe(we),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},E0=typeof WeakMap=="function"?WeakMap:Map,re=0,Jt=null,Ot=null,Ut=0,Wt=0,_n=null,Mi=!1,Jr=!1,Ah=!1,xi=0,ce=0,ma=0,or=0,Sh=0,kn=0,Wr=0,pl=null,ai=null,bh=!1,Rh=0,$o=1/0,Zo=null,ga=null,Jo=!1,ur=null,yl=0,wh=0,Ch=null,vl=0,Dh=null;function En(){if((re&2)!==0&&Ut!==0)return Ut&-Ut;if(A.T!==null){var t=Gr;return t!==0?t:kh()}return io()}function Mg(){kn===0&&(kn=(Ut&536870912)===0||Ht?Is():536870912);var t=Nn.current;return t!==null&&(t.flags|=32),kn}function rn(t,n,a){(t===Jt&&Wt===2||t.cancelPendingCommit!==null)&&(ts(t,0),Ui(t,Ut,kn,!1)),de(t,a),((re&2)===0||t!==Jt)&&(t===Jt&&((re&2)===0&&(or|=a),ce===4&&Ui(t,Ut,kn,!1)),ri(t))}function xg(t,n,a){if((re&6)!==0)throw Error(s(327));var l=!a&&(n&60)===0&&(n&t.expiredLanes)===0||qi(t,n),c=l?S0(t,n):Nh(t,n,!0),f=l;do{if(c===0){Jr&&!l&&Ui(t,n,0,!1);break}else if(c===6)Ui(t,n,0,!Mi);else{if(a=t.current.alternate,f&&!T0(a)){c=Nh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=pl;var C=E.current.memoizedState.isDehydrated;if(C&&(ts(E,y).flags|=256),y=Nh(E,y,!1),y!==2){if(Ah&&!C){E.errorRecoveryDisabledLanes|=f,or|=f,c=4;break t}f=ai,ai=c,f!==null&&Oh(f)}c=y}if(f=!1,c!==2)continue}}if(c===1){ts(t,0),Ui(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Ui(l,n,kn,!Mi);break t}break;case 2:ai=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(f=Rh+300-ln(),10<f)){if(Ui(l,n,kn,!Mi),An(l,0)!==0)break t;l.timeoutHandle=ap(Ug.bind(null,l,a,ai,Zo,bh,n,kn,or,Wr,Mi,2,-0,0),f);break t}Ug(l,a,ai,Zo,bh,n,kn,or,Wr,Mi,0,-0,0)}}break}while(!0);ri(t)}function Oh(t){ai===null?ai=t:ai.push.apply(ai,t)}function Ug(t,n,a,l,c,f,y,E,C,x,H,Y,j){var q=n.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:nE},Rg(n),n=aE(),n!==null)){t.cancelPendingCommit=n(qg.bind(null,t,a,l,c,y,E,C,1,Y,j)),Ui(t,f,y,!x);return}qg(t,a,l,c,y,E,C,H,Y,j)}function T0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!pn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ui(t,n,a,l){n&=~Sh,n&=~or,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-tn(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&Gi(t,a,n)}function Wo(){return(re&6)===0?(_l(0),!1):!0}function Ih(){if(Ot!==null){if(Wt===0)var t=Ot.return;else t=Ot,Ci=ar=null,kc(t),qr=null,Ws=0,t=Ot;for(;t!==null;)Ng(t.alternate,t),t=t.return;Ot=null}}function ts(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,B0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ih(),Jt=t,Ot=a=da(t.current,null),Ut=n,Wt=0,_n=null,Mi=!1,Jr=qi(t,n),Ah=!1,Wr=kn=Sh=or=ma=ce=0,ai=pl=null,bh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-tn(l),f=1<<c;n|=t[c],l&=~f}return xi=n,So(),a}function kg(t,n){Ct=null,A.H=ii,n===Zs?(n=Zd(),Wt=3):n===Yd?(n=Zd(),Wt=4):Wt=n===Xm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Ot===null&&(ce=1,Ho(t,On(n,t.current)))}function Lg(){var t=A.H;return A.H=ii,t===null?ii:t}function zg(){var t=A.A;return A.A=_0,t}function Vh(){ce=4,Mi||(Ut&4194176)!==Ut&&Nn.current!==null||(Jr=!0),(ma&134217727)===0&&(or&134217727)===0||Jt===null||Ui(Jt,Ut,kn,!1)}function Nh(t,n,a){var l=re;re|=2;var c=Lg(),f=zg();(Jt!==t||Ut!==n)&&(Zo=null,ts(t,n)),n=!1;var y=ce;t:do try{if(Wt!==0&&Ot!==null){var E=Ot,C=_n;switch(Wt){case 8:Ih(),y=6;break t;case 3:case 2:case 6:Nn.current===null&&(n=!0);var x=Wt;if(Wt=0,_n=null,es(t,E,C,x),a&&Jr){y=0;break t}break;default:x=Wt,Wt=0,_n=null,es(t,E,C,x)}}A0(),y=ce;break}catch(H){kg(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ci=ar=null,re=l,A.H=c,A.A=f,Ot===null&&(Jt=null,Ut=0,So()),y}function A0(){for(;Ot!==null;)jg(Ot)}function S0(t,n){var a=re;re|=2;var l=Lg(),c=zg();Jt!==t||Ut!==n?(Zo=null,$o=ln()+500,ts(t,n)):Jr=qi(t,n);t:do try{if(Wt!==0&&Ot!==null){n=Ot;var f=_n;e:switch(Wt){case 1:Wt=0,_n=null,es(t,n,f,1);break;case 2:if(Xd(f)){Wt=0,_n=null,Bg(n);break}n=function(){Wt===2&&Jt===t&&(Wt=7),ri(t)},f.then(n,n);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:Xd(f)?(Wt=0,_n=null,Bg(n)):(Wt=0,_n=null,es(t,n,f,7));break;case 5:var y=null;switch(Ot.tag){case 26:y=Ot.memoizedState;case 5:case 27:var E=Ot;if(!y||gp(y)){Wt=0,_n=null;var C=E.sibling;if(C!==null)Ot=C;else{var x=E.return;x!==null?(Ot=x,tu(x)):Ot=null}break e}}Wt=0,_n=null,es(t,n,f,5);break;case 6:Wt=0,_n=null,es(t,n,f,6);break;case 8:Ih(),ce=6;break t;default:throw Error(s(462))}}b0();break}catch(H){kg(t,H)}while(!0);return Ci=ar=null,A.H=l,A.A=c,re=a,Ot!==null?0:(Jt=null,Ut=0,So(),ce)}function b0(){for(;Ot!==null&&!sc();)jg(Ot)}function jg(t){var n=lg(t.alternate,t,xi);t.memoizedProps=t.pendingProps,n===null?tu(t):Ot=n}function Bg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=eg(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=eg(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:kc(n);default:Ng(a,n),n=Ot=Og(n,xi),n=lg(a,n,xi)}t.memoizedProps=t.pendingProps,n===null?tu(t):Ot=n}function es(t,n,a,l){Ci=ar=null,kc(n),qr=null,Ws=0;var c=n.return;try{if(f0(t,c,n,a,Ut)){ce=1,Ho(t,On(a,t.current)),Ot=null;return}}catch(f){if(c!==null)throw Ot=c,f;ce=1,Ho(t,On(a,t.current)),Ot=null;return}n.flags&32768?(Ht||l===1?t=!0:Jr||(Ut&536870912)!==0?t=!1:(Mi=t=!0,(l===2||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Pg(n,t)):tu(n)}function tu(t){var n=t;do{if((n.flags&32768)!==0){Pg(n,Mi);return}t=n.return;var a=y0(n.alternate,n,xi);if(a!==null){Ot=a;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=t}while(n!==null);ce===0&&(ce=5)}function Pg(t,n){do{var a=v0(t.alternate,t);if(a!==null){a.flags&=32767,Ot=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ot=t;return}Ot=t=a}while(t!==null);ce=6,Ot=null}function qg(t,n,a,l,c,f,y,E,C,x){var H=A.T,Y=W.p;try{W.p=2,A.T=null,R0(t,n,a,l,Y,c,f,y,E,C,x)}finally{A.T=H,W.p=Y}}function R0(t,n,a,l,c,f,y,E){do ns();while(ur!==null);if((re&6)!==0)throw Error(s(327));var C=t.finishedWork;if(l=t.finishedLanes,C===null)return null;if(t.finishedWork=null,t.finishedLanes=0,C===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var x=C.lanes|C.childLanes;if(x|=Tc,eo(t,l,x,f,y,E),t===Jt&&(Ot=Jt=null,Ut=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||Jo||(Jo=!0,wh=x,Ch=a,O0(fi,function(){return ns(),null})),a=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||a?(a=A.T,A.T=null,f=W.p,W.p=2,y=re,re|=4,m0(t,C),Ag(C,t),X_(Gh,t.containerInfo),fu=!!Hh,Gh=Hh=null,t.current=C,vg(t,C.alternate,C),ws(),re=y,W.p=f,A.T=a):t.current=C,Jo?(Jo=!1,ur=t,yl=l):Hg(t,x),x=t.pendingLanes,x===0&&(ga=null),Ds(C.stateNode),ri(t),n!==null)for(c=t.onRecoverableError,C=0;C<n.length;C++)x=n[C],c(x.value,{componentStack:x.stack});return(yl&3)!==0&&ns(),x=t.pendingLanes,(l&4194218)!==0&&(x&42)!==0?t===Dh?vl++:(vl=0,Dh=t):vl=0,_l(0),null}function Hg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,el(n)))}function ns(){if(ur!==null){var t=ur,n=wh;wh=0;var a=no(yl),l=A.T,c=W.p;try{if(W.p=32>a?32:a,A.T=null,ur===null)var f=!1;else{a=Ch,Ch=null;var y=ur,E=yl;if(ur=null,yl=0,(re&6)!==0)throw Error(s(331));var C=re;if(re|=4,Cg(y.current),bg(y,y.current,E,a),re=C,_l(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Bi,y)}catch{}f=!0}return f}finally{W.p=c,A.T=l,Hg(t,n)}}return!1}function Gg(t,n,a){n=On(a,n),n=$c(t.stateNode,n,2),t=ua(t,n,2),t!==null&&(de(t,2),ri(t))}function $t(t,n,a){if(t.tag===3)Gg(t,t,a);else for(;n!==null;){if(n.tag===3){Gg(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ga===null||!ga.has(l))){t=On(a,t),a=Km(2),l=ua(n,a,2),l!==null&&(Ym(a,l,n,t),de(l,2),ri(l));break}}n=n.return}}function Mh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new E0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Ah=!0,c.add(a),t=w0.bind(null,t,n,a),n.then(t,t))}function w0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(Ut&a)===a&&(ce===4||ce===3&&(Ut&62914560)===Ut&&300>ln()-Rh?(re&2)===0&&ts(t,0):Sh|=a,Wr===Ut&&(Wr=0)),ri(t)}function Qg(t,n){n===0&&(n=Hi()),t=ea(t,n),t!==null&&(de(t,n),ri(t))}function C0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Qg(t,a)}function D0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Qg(t,a)}function O0(t,n){return dn(t,n)}var eu=null,is=null,xh=!1,nu=!1,Uh=!1,cr=0;function ri(t){t!==is&&t.next===null&&(is===null?eu=is=t:is=is.next=t),nu=!0,xh||(xh=!0,V0(I0))}function _l(t,n){if(!Uh&&nu){Uh=!0;do for(var a=!1,l=eu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-tn(42|t)+1)-1,f&=c&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,Yg(l,f))}else f=Ut,f=An(l,l===Jt?f:0),(f&3)===0||qi(l,f)||(a=!0,Yg(l,f));l=l.next}while(a);Uh=!1}}function I0(){nu=xh=!1;var t=0;cr!==0&&(j0()&&(t=cr),cr=0);for(var n=ln(),a=null,l=eu;l!==null;){var c=l.next,f=Fg(l,n);f===0?(l.next=null,a===null?eu=c:a.next=c,c===null&&(is=a)):(a=l,(t!==0||(f&3)!==0)&&(nu=!0)),l=c}_l(t)}function Fg(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-tn(f),E=1<<y,C=c[y];C===-1?((E&a)===0||(E&l)!==0)&&(c[y]=Tr(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,a=Ut,a=An(t,t===n?a:0),l=t.callbackNode,a===0||t===n&&Wt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Er(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qi(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Er(l),no(a)){case 2:case 8:a=Ve;break;case 32:a=fi;break;case 268435456:a=Cs;break;default:a=fi}return l=Kg.bind(null,t),a=dn(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Er(l),t.callbackPriority=2,t.callbackNode=null,2}function Kg(t,n){var a=t.callbackNode;if(ns()&&t.callbackNode!==a)return null;var l=Ut;return l=An(t,t===Jt?l:0),l===0?null:(xg(t,l,n),Fg(t,ln()),t.callbackNode!=null&&t.callbackNode===a?Kg.bind(null,t):null)}function Yg(t,n){if(ns())return null;xg(t,n,!0)}function V0(t){P0(function(){(re&6)!==0?dn(Te,t):t()})}function kh(){return cr===0&&(cr=Is()),cr}function Xg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Yn(""+t)}function $g(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function N0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Xg((c[Ae]||null).action),y=l.submitter;y&&(n=(n=y[Ae]||null)?Xg(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Dr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(cr!==0){var C=y?$g(c,y):new FormData(c);Qc(a,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=y?$g(c,y):new FormData(c),Qc(a,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var Lh=0;Lh<qd.length;Lh++){var zh=qd[Lh],M0=zh.toLowerCase(),x0=zh[0].toUpperCase()+zh.slice(1);Bn(M0,"on"+x0)}Bn(Ld,"onAnimationEnd"),Bn(zd,"onAnimationIteration"),Bn(jd,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(Z_,"onTransitionRun"),Bn(J_,"onTransitionStart"),Bn(W_,"onTransitionCancel"),Bn(Bd,"onTransitionEnd"),on("onMouseEnter",["mouseout","mouseover"]),on("onMouseLeave",["mouseout","mouseover"]),on("onPointerEnter",["pointerout","pointerover"]),on("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function Zg(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],C=E.instance,x=E.currentTarget;if(E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=x;try{f(c)}catch(H){qo(H)}c.currentTarget=null,f=C}else for(y=0;y<l.length;y++){if(E=l[y],C=E.instance,x=E.currentTarget,E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=x;try{f(c)}catch(H){qo(H)}c.currentTarget=null,f=C}}}}function Vt(t,n){var a=n[Ua];a===void 0&&(a=n[Ua]=new Set);var l=t+"__bubble";a.has(l)||(Jg(n,t,2,!1),a.add(l))}function jh(t,n,a){var l=0;n&&(l|=4),Jg(a,t,l,n)}var iu="_reactListening"+Math.random().toString(36).slice(2);function Bh(t){if(!t[iu]){t[iu]=!0,Ns.forEach(function(a){a!=="selectionchange"&&(U0.has(a)||jh(a,!1,t),jh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[iu]||(n[iu]=!0,jh("selectionchange",!1,n))}}function Jg(t,n,a,l){switch(Tp(n)){case 2:var c=lE;break;case 8:c=oE;break;default:c=Wh}a=c.bind(null,n,a,t),c=void 0,!wn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function Ph(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var C=y.tag;if((C===3||C===4)&&(C=y.stateNode.containerInfo,C===c||C.nodeType===8&&C.parentNode===c))return;y=y.return}for(;E!==null;){if(y=jn(E),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){l=f=y;continue t}E=E.parentNode}}l=l.return}lo(function(){var x=f,H=Cr(a),Y=[];t:{var j=Pd.get(t);if(j!==void 0){var q=Dr,ft=t;switch(t){case"keypress":if($n(a)===0)break t;case"keydown":case"keyup":q=xr;break;case"focusin":ft="focus",q=Vr;break;case"focusout":ft="blur",q=Vr;break;case"beforeblur":case"afterblur":q=Vr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=po;break;case Ld:case zd:case jd:q=Nr;break;case Bd:q=vo;break;case"scroll":case"scrollend":q=oo;break;case"wheel":q=Ur;break;case"copy":case"cut":case"paste":q=Mr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Gs;break;case"toggle":case"beforetoggle":q=Eo}var Tt=(n&4)!==0,he=!Tt&&(t==="scroll"||t==="scrollend"),U=Tt?j!==null?j+"Capture":null:j;Tt=[];for(var M=x,z;M!==null;){var F=M;if(z=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||z===null||U===null||(F=Ba(M,U),F!=null&&Tt.push(Tl(M,F,z))),he)break;M=M.return}0<Tt.length&&(j=new q(j,ft,null,a,H),Y.push({event:j,listeners:Tt}))}}if((n&7)===0){t:{if(j=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",j&&a!==Rn&&(ft=a.relatedTarget||a.fromElement)&&(jn(ft)||ft[di]))break t;if((q||j)&&(j=H.window===H?H:(j=H.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ft=a.relatedTarget||a.toElement,q=x,ft=ft?jn(ft):null,ft!==null&&(he=st(ft),Tt=ft.tag,ft!==he||Tt!==5&&Tt!==27&&Tt!==6)&&(ft=null)):(q=null,ft=x),q!==ft)){if(Tt=Cn,F="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Tt=Gs,F="onPointerLeave",U="onPointerEnter",M="pointer"),he=q==null?j:Yi(q),z=ft==null?j:Yi(ft),j=new Tt(F,M+"leave",q,a,H),j.target=he,j.relatedTarget=z,F=null,jn(H)===x&&(Tt=new Tt(U,M+"enter",ft,a,H),Tt.target=z,Tt.relatedTarget=he,F=Tt),he=F,q&&ft)e:{for(Tt=q,U=ft,M=0,z=Tt;z;z=as(z))M++;for(z=0,F=U;F;F=as(F))z++;for(;0<M-z;)Tt=as(Tt),M--;for(;0<z-M;)U=as(U),z--;for(;M--;){if(Tt===U||U!==null&&Tt===U.alternate)break e;Tt=as(Tt),U=as(U)}Tt=null}else Tt=null;q!==null&&Wg(Y,j,q,Tt,!1),ft!==null&&he!==null&&Wg(Y,he,ft,Tt,!0)}}t:{if(j=x?Yi(x):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var ut=wd;else if(be(j))if(Cd)ut=K_;else{ut=Q_;var Dt=G_}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?x&&Ls(x.elementType)&&(ut=wd):ut=F_;if(ut&&(ut=ut(t,x))){Ti(Y,ut,a,H);break t}Dt&&Dt(t,j,x),t==="focusout"&&x&&j.type==="number"&&x.memoizedProps.value!=null&&wr(j,"number",j.value)}switch(Dt=x?Yi(x):window,t){case"focusin":(be(Dt)||Dt.contentEditable==="true")&&(kr=Dt,vc=x,Ks=null);break;case"focusout":Ks=vc=kr=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,Ud(Y,a,H);break;case"selectionchange":if($_)break;case"keydown":case"keyup":Ud(Y,a,H)}var dt;if(Wn)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Mt?B(t,a)&&(vt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(p&&a.locale!=="ko"&&(Mt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Mt&&(dt=js()):(Xn=H,ta="value"in Xn?Xn.value:Xn.textContent,Mt=!0)),Dt=au(x,vt),0<Dt.length&&(vt=new qs(vt,t,null,a,H),Y.push({event:vt,listeners:Dt}),dt?vt.data=dt:(dt=tt(a),dt!==null&&(vt.data=dt)))),(dt=m?Se(t,a):xt(t,a))&&(vt=au(x,"onBeforeInput"),0<vt.length&&(Dt=new qs("onBeforeInput","beforeinput",null,a,H),Y.push({event:Dt,listeners:vt}),Dt.data=dt)),N0(Y,t,x,a,H)}Zg(Y,n)})}function Tl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function au(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ba(t,a),c!=null&&l.unshift(Tl(t,c,f)),c=Ba(t,n),c!=null&&l.push(Tl(t,c,f))),t=t.return}return l}function as(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wg(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,C=E.alternate,x=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||x===null||(C=x,c?(x=Ba(a,f),x!=null&&y.unshift(Tl(a,x,C))):c||(x=Ba(a,f),x!=null&&y.push(Tl(a,x,C)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var k0=/\r\n?/g,L0=/\u0000|\uFFFD/g;function tp(t){return(typeof t=="string"?t:""+t).replace(k0,`
`).replace(L0,"")}function ep(t,n){return n=tp(n),tp(t)===n}function ru(){}function Xt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&bn(t,""+l);break;case"className":Zi(t,"class",l);break;case"tabIndex":Zi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zi(t,a,l);break;case"style":so(t,l,f);break;case"data":if(n!=="object"){Zi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Yn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Yn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ru);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Yn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),$i(t,"popover",l);break;case"xlinkActuate":Sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Sn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Sn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Sn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Sn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$i(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hc.get(a)||a,$i(t,a,l))}}function qh(t,n,a,l,c,f){switch(a){case"style":so(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ru);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!br.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Ae]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):$i(t,a,l)}}}function Ge(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,f,y,a,null)}}c&&Xt(t,n,"srcSet",a.srcSet,a,null),l&&Xt(t,n,"src",a.src,a,null);return;case"input":Vt("invalid",t);var E=f=y=c=null,C=null,x=null;for(l in a)if(a.hasOwnProperty(l)){var H=a[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":C=H;break;case"defaultChecked":x=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Xt(t,n,l,H,a,null)}}za(t,f,E,C,x,y,c,!1),La(t);return;case"select":Vt("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Xt(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?qt(t,!!l,n,!1):a!=null&&qt(t,!!l,a,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xt(t,n,y,E,a,null)}Wi(t,l,c,f),La(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,C,l,a,null)}return;case"dialog":Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<El.length;l++)Vt(El[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,x,l,a,null)}return;default:if(Ls(n)){for(H in a)a.hasOwnProperty(H)&&(l=a[H],l!==void 0&&qh(t,n,H,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Xt(t,n,E,l,a,null))}function z0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,C=null,x=null,H=null;for(q in a){var Y=a[q];if(a.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Y;default:l.hasOwnProperty(q)||Xt(t,n,q,null,l,Y)}}for(var j in l){var q=l[j];if(Y=a[j],l.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":c=q;break;case"checked":x=q;break;case"defaultChecked":H=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Y&&Xt(t,n,j,q,l,Y)}}Ji(t,y,E,C,x,H,f,c);return;case"select":q=y=E=j=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,C)}for(c in l)if(f=l[c],C=a[c],l.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==C&&Xt(t,n,c,f,l,C)}n=E,a=y,l=q,j!=null?qt(t,!!a,j,!1):!!l!=!!a&&(n!=null?qt(t,!!a,n,!0):qt(t,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":j=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Xt(t,n,y,c,l,f)}ja(t,j,q);return;case"option":for(var ft in a)if(j=a[ft],a.hasOwnProperty(ft)&&j!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":t.selected=!1;break;default:Xt(t,n,ft,null,l,j)}for(C in l)if(j=l[C],q=a[C],l.hasOwnProperty(C)&&j!==q&&(j!=null||q!=null))switch(C){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Xt(t,n,C,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)j=a[Tt],a.hasOwnProperty(Tt)&&j!=null&&!l.hasOwnProperty(Tt)&&Xt(t,n,Tt,null,l,j);for(x in l)if(j=l[x],q=a[x],l.hasOwnProperty(x)&&j!==q&&(j!=null||q!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Xt(t,n,x,j,l,q)}return;default:if(Ls(n)){for(var he in a)j=a[he],a.hasOwnProperty(he)&&j!==void 0&&!l.hasOwnProperty(he)&&qh(t,n,he,void 0,l,j);for(H in l)j=l[H],q=a[H],!l.hasOwnProperty(H)||j===q||j===void 0&&q===void 0||qh(t,n,H,j,l,q);return}}for(var U in a)j=a[U],a.hasOwnProperty(U)&&j!=null&&!l.hasOwnProperty(U)&&Xt(t,n,U,null,l,j);for(Y in l)j=l[Y],q=a[Y],!l.hasOwnProperty(Y)||j===q||j==null&&q==null||Xt(t,n,Y,j,l,q)}var Hh=null,Gh=null;function su(t){return t.nodeType===9?t:t.ownerDocument}function np(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ip(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Qh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Fh=null;function j0(){var t=window.event;return t&&t.type==="popstate"?t===Fh?!1:(Fh=t,!0):(Fh=null,!1)}var ap=typeof setTimeout=="function"?setTimeout:void 0,B0=typeof clearTimeout=="function"?clearTimeout:void 0,rp=typeof Promise=="function"?Promise:void 0,P0=typeof queueMicrotask=="function"?queueMicrotask:typeof rp<"u"?function(t){return rp.resolve(null).then(t).catch(q0)}:ap;function q0(t){setTimeout(function(){throw t})}function Kh(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(l===0){t.removeChild(c),Ol(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=c}while(a);Ol(n)}function Yh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yh(a),ka(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function H0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ki])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function G0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function Hn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function sp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function lp(t,n,a){switch(n=su(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Ln=new Map,op=new Set;function lu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ki=W.d;W.d={f:Q0,r:F0,D:K0,C:Y0,L:X0,m:$0,X:J0,S:Z0,M:W0};function Q0(){var t=ki.f(),n=Wo();return t||n}function F0(t){var n=mi(t);n!==null&&n.tag===5&&n.type==="form"?Um(n):ki.r(t)}var rs=typeof document>"u"?null:document;function up(t,n,a){var l=rs;if(l&&typeof n=="string"&&n){var c=oe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),op.has(c)||(op.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ge(n,"link",t),ie(n),l.head.appendChild(n)))}}function K0(t){ki.D(t),up("dns-prefetch",t,null)}function Y0(t,n){ki.C(t,n),up("preconnect",t,n)}function X0(t,n,a){ki.L(t,n,a);var l=rs;if(l&&t&&n){var c='link[rel="preload"][as="'+oe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+oe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+oe(a.imageSizes)+'"]')):c+='[href="'+oe(t)+'"]';var f=c;switch(n){case"style":f=ss(t);break;case"script":f=ls(t)}Ln.has(f)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Ln.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Al(f))||n==="script"&&l.querySelector(Sl(f))||(n=l.createElement("link"),Ge(n,"link",t),ie(n),l.head.appendChild(n)))}}function $0(t,n){ki.m(t,n);var a=rs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+oe(l)+'"][href="'+oe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ls(t)}if(!Ln.has(f)&&(t=w({rel:"modulepreload",href:t},n),Ln.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(f)))return}l=a.createElement("link"),Ge(l,"link",t),ie(l),a.head.appendChild(l)}}}function Z0(t,n,a){ki.S(t,n,a);var l=rs;if(l&&t){var c=Xi(l).hoistableStyles,f=ss(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Al(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Ln.get(f))&&Xh(t,a);var C=y=l.createElement("link");ie(C),Ge(C,"link",t),C._p=new Promise(function(x,H){C.onload=x,C.onerror=H}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ou(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function J0(t,n){ki.X(t,n);var a=rs;if(a&&t){var l=Xi(a).hoistableScripts,c=ls(t),f=l.get(c);f||(f=a.querySelector(Sl(c)),f||(t=w({src:t,async:!0},n),(n=Ln.get(c))&&$h(t,n),f=a.createElement("script"),ie(f),Ge(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function W0(t,n){ki.M(t,n);var a=rs;if(a&&t){var l=Xi(a).hoistableScripts,c=ls(t),f=l.get(c);f||(f=a.querySelector(Sl(c)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Ln.get(c))&&$h(t,n),f=a.createElement("script"),ie(f),Ge(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function cp(t,n,a,l){var c=(c=te.current)?lu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ss(a.href),a=Xi(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ss(a.href);var f=Xi(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Al(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),f||tE(c,t,a,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ls(a),a=Xi(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ss(t){return'href="'+oe(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function hp(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function tE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",a),ie(n),t.head.appendChild(n))}function ls(t){return'[src="'+oe(t)+'"]'}function Sl(t){return"script[async]"+t}function fp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+oe(a.href)+'"]');if(l)return n.instance=l,ie(l),l;var c=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ie(l),Ge(l,"style",c),ou(l,a.precedence,t),n.instance=l;case"stylesheet":c=ss(a.href);var f=t.querySelector(Al(c));if(f)return n.state.loading|=4,n.instance=f,ie(f),f;l=hp(a),(c=Ln.get(c))&&Xh(l,c),f=(t.ownerDocument||t).createElement("link"),ie(f);var y=f;return y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),Ge(f,"link",l),n.state.loading|=4,ou(f,a.precedence,t),n.instance=f;case"script":return f=ls(a.src),(c=t.querySelector(Sl(f)))?(n.instance=c,ie(c),c):(l=a,(c=Ln.get(f))&&(l=w({},a),$h(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ie(c),Ge(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ou(l,a.precedence,t));return n.instance}function ou(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Xh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function $h(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var uu=null;function dp(t,n,a){if(uu===null){var l=new Map,c=uu=new Map;c.set(a,l)}else c=uu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Ki]||f[Ne]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function mp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function eE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function gp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var bl=null;function nE(){}function iE(t,n,a){if(bl===null)throw Error(s(475));var l=bl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ss(a.href),f=t.querySelector(Al(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=cu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ie(f);return}f=t.ownerDocument||t,a=hp(a),(c=Ln.get(c))&&Xh(a,c),f=f.createElement("link"),ie(f);var y=f;y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),Ge(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=cu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function aE(){if(bl===null)throw Error(s(475));var t=bl;return t.stylesheets&&t.count===0&&Zh(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Zh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function cu(){if(this.count--,this.count===0){if(this.stylesheets)Zh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hu=null;function Zh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hu=new Map,n.forEach(rE,t),hu=null,cu.call(t))}function rE(t,n){if(!(n.state.loading&4)){var a=hu.get(t);if(a)var l=a.get(null);else{a=new Map,hu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=cu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Rl={$$typeof:P,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function sE(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.hiddenUpdates=Ar(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function pp(t,n,a,l,c,f,y,E,C,x,H,Y){return t=new sE(t,n,a,y,E,C,x,Y),n=1,f===!0&&(n|=24),f=Un(3,null,null,n),t.current=f,f.stateNode=t,n=Oc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},uh(f),t}function yp(t){return t?(t=jr,t):jr}function vp(t,n,a,l,c,f){c=yp(c),l.context===null?l.context=c:l.pendingContext=c,l=oa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ua(t,l,n),a!==null&&(rn(a,t,n),ol(a,t,n))}function _p(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Jh(t,n){_p(t,n),(t=t.alternate)&&_p(t,n)}function Ep(t){if(t.tag===13){var n=ea(t,67108864);n!==null&&rn(n,t,67108864),Jh(t,67108864)}}var fu=!0;function lE(t,n,a,l){var c=A.T;A.T=null;var f=W.p;try{W.p=2,Wh(t,n,a,l)}finally{W.p=f,A.T=c}}function oE(t,n,a,l){var c=A.T;A.T=null;var f=W.p;try{W.p=8,Wh(t,n,a,l)}finally{W.p=f,A.T=c}}function Wh(t,n,a,l){if(fu){var c=tf(l);if(c===null)Ph(t,n,l,du,a),Ap(t,l);else if(cE(c,t,n,a,l))l.stopPropagation();else if(Ap(t,l),n&4&&-1<uE.indexOf(t)){for(;c!==null;){var f=mi(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=zn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var C=1<<31-tn(y);E.entanglements[1]|=C,y&=~C}ri(f),(re&6)===0&&($o=ln()+500,_l(0))}}break;case 13:E=ea(f,2),E!==null&&rn(E,f,2),Wo(),Jh(f,2)}if(f=tf(l),f===null&&Ph(t,n,l,du,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else Ph(t,n,l,null,a)}}function tf(t){return t=Cr(t),ef(t)}var du=null;function ef(t){if(du=null,t=jn(t),t!==null){var n=st(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=St(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return du=t,null}function Tp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zl()){case Te:return 2;case Ve:return 8;case fi:case Jl:return 32;case Cs:return 268435456;default:return 32}default:return 32}}var nf=!1,pa=null,ya=null,va=null,wl=new Map,Cl=new Map,_a=[],uE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ap(t,n){switch(t){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(n.pointerId)}}function Dl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=mi(n),n!==null&&Ep(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function cE(t,n,a,l,c){switch(n){case"focusin":return pa=Dl(pa,t,n,a,l,c),!0;case"dragenter":return ya=Dl(ya,t,n,a,l,c),!0;case"mouseover":return va=Dl(va,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return wl.set(f,Dl(wl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Cl.set(f,Dl(Cl.get(f)||null,t,n,a,l,c)),!0}return!1}function Sp(t){var n=jn(t.target);if(n!==null){var a=st(n);if(a!==null){if(n=a.tag,n===13){if(n=St(a),n!==null){t.blockedOn=n,Fi(t.priority,function(){if(a.tag===13){var l=En(),c=ea(a,l);c!==null&&rn(c,a,l),Jh(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=tf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Rn=l,a.target.dispatchEvent(l),Rn=null}else return n=mi(a),n!==null&&Ep(n),t.blockedOn=a,!1;n.shift()}return!0}function bp(t,n,a){mu(t)&&a.delete(n)}function hE(){nf=!1,pa!==null&&mu(pa)&&(pa=null),ya!==null&&mu(ya)&&(ya=null),va!==null&&mu(va)&&(va=null),wl.forEach(bp),Cl.forEach(bp)}function gu(t,n){t.blockedOn===n&&(t.blockedOn=null,nf||(nf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hE)))}var pu=null;function Rp(t){pu!==t&&(pu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){pu===t&&(pu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(ef(l||a)===null)continue;break}var f=mi(a);f!==null&&(t.splice(n,3),n-=3,Qc(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Ol(t){function n(C){return gu(C,t)}pa!==null&&gu(pa,t),ya!==null&&gu(ya,t),va!==null&&gu(va,t),wl.forEach(n),Cl.forEach(n);for(var a=0;a<_a.length;a++){var l=_a[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<_a.length&&(a=_a[0],a.blockedOn===null);)Sp(a),a.blockedOn===null&&_a.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[Ae]||null;if(typeof f=="function")y||Rp(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[Ae]||null)E=y.formAction;else if(ef(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Rp(a)}}}function af(t){this._internalRoot=t}yu.prototype.render=af.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=En();vp(a,l,t,n,null,null)},yu.prototype.unmount=af.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&ns(),vp(t.current,2,null,t,null,null),Wo(),n[di]=null}};function yu(t){this._internalRoot=t}yu.prototype.unstable_scheduleHydration=function(t){if(t){var n=io();t={blockedOn:null,target:t,priority:n};for(var a=0;a<_a.length&&n!==0&&n<_a[a].priority;a++);_a.splice(a,0,t),a===0&&Sp(t)}};var wp=e.version;if(wp!=="19.0.0")throw Error(s(527,wp,"19.0.0"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=Q(n),t=t!==null?et(t):null,t=t===null?null:t.stateNode,t};var fE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:jn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vu.isDisabled&&vu.supportsFiber)try{Bi=vu.inject(fE),Ye=vu}catch{}}return Vl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=Hm,f=Gm,y=Qm,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=pp(t,1,!1,null,null,a,l,c,f,y,E,null),t[di]=n.current,Bh(t.nodeType===8?t.parentNode:t),new af(n)},Vl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=Hm,y=Gm,E=Qm,C=null,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(x=a.formState)),n=pp(t,1,!0,n,a??null,l,c,f,y,E,C,x),n.context=yp(null),a=n.current,l=En(),c=oa(l),c.callback=null,ua(a,c,l),n.current.lanes=l,de(n,l),ri(n),t[di]=n.current,Bh(t),new yu(n)},Vl.version="19.0.0",Vl}var kp;function SE(){if(kp)return lf.exports;kp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),lf.exports=AE(),lf.exports}var bE=SE();const RE="/Ruslana_Cakes/assets/Cake2-vvsJnBCt.jpg",Lp=({cake:r})=>{const{Image:e,Description:i,Price:s}=r||{};return G.jsxs("div",{className:"cake-card-container",children:[G.jsx("img",{src:e||RE,alt:"Sweets"}),G.jsxs("div",{className:"cake-card-info",children:[G.jsx("p",{className:"cake-card-description",children:i}),G.jsx("p",{className:"cake-card-price",children:G.jsx("strong",{children:`От ${s} руб.`})})]})]})},wE=()=>{};var zp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},CE=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],g=r[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,g=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,b=h>>2,N=(h&3)<<4|g>>4;let L=(g&15)<<2|_>>6,P=_&63;v||(P=64,d||(L=64)),s.push(i[b],i[N],i[L],i[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(tv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):CE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const N=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||g==null||_==null||N==null)throw new DE;const L=h<<2|g>>4;if(s.push(L),_!==64){const P=g<<4&240|_>>2;if(s.push(P),N!==64){const J=_<<6&192|N;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class DE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OE=function(r){const e=tv(r);return ev.encodeByteArray(e,!0)},Vu=function(r){return OE(r).replace(/\./g,"")},IE=function(r){try{return ev.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=()=>VE().__FIREBASE_DEFAULTS__,ME=()=>{if(typeof process>"u"||typeof zp>"u")return;const r=zp.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},xE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&IE(r[1]);return e&&JSON.parse(e)},$f=()=>{try{return wE()||NE()||ME()||xE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},UE=r=>{var e,i;return(i=(e=$f())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},kE=r=>{const e=UE(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},nv=()=>{var r;return(r=$f())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Vu(JSON.stringify(i)),Vu(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BE(){var r;const e=(r=$f())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function qE(){return!BE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iv(){try{return typeof indexedDB=="object"}catch{return!1}}function av(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}function HE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="FirebaseError";class Ma extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=GE,Object.setPrototypeOf(this,Ma.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?QE(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ma(o,g,s)}}function QE(r,e){return r.replace(FE,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const FE=/\{\$([^}]+)}/g;function Bl(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if(jp(h)&&jp(d)){if(!Bl(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function jp(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=1e3,YE=2,XE=4*60*60*1e3,$E=.5;function Bp(r,e=KE,i=YE){const s=e*Math.pow(i,r),o=Math.round($E*s*(Math.random()-.5)*2);return Math.min(XE,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(r){return r&&r._delegate?r._delegate:r}class Li{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new LE;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WE(e))try{this.getOrInitializeService({instanceIdentifier:hr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hr){return this.instances.has(e)}getOptions(e=hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:JE(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=hr){return this.component?this.component.multipleInstances?e:hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JE(r){return r===hr?void 0:r}function WE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ZE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const eT={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},nT=Lt.INFO,iT={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},aT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=iT[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jf{constructor(e){this.name=e,this._logLevel=nT,this._logHandler=aT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const rT=(r,e)=>e.some(i=>r instanceof i);let Pp,qp;function sT(){return Pp||(Pp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lT(){return qp||(qp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rv=new WeakMap,wf=new WeakMap,sv=new WeakMap,hf=new WeakMap,Wf=new WeakMap;function oT(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Sa(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&rv.set(i,r)}).catch(()=>{}),Wf.set(e,r),e}function uT(r){if(wf.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});wf.set(r,e)}let Cf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return wf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||sv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Sa(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function cT(r){Cf=r(Cf)}function hT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(ff(this),e,...i);return sv.set(s,e.sort?e.sort():[e]),Sa(s)}:lT().includes(r)?function(...e){return r.apply(ff(this),e),Sa(rv.get(this))}:function(...e){return Sa(r.apply(ff(this),e))}}function fT(r){return typeof r=="function"?hT(r):(r instanceof IDBTransaction&&uT(r),rT(r,sT())?new Proxy(r,Cf):r)}function Sa(r){if(r instanceof IDBRequest)return oT(r);if(hf.has(r))return hf.get(r);const e=fT(r);return e!==r&&(hf.set(r,e),Wf.set(e,r)),e}const ff=r=>Wf.get(r);function lv(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),g=Sa(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Sa(d.result),v.oldVersion,v.newVersion,Sa(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const dT=["get","getKey","getAll","getAllKeys","count"],mT=["put","add","delete","clear"],df=new Map;function Hp(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(df.get(e))return df.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=mT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||dT.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return df.set(e,h),h}cT(r=>({...r,get:(e,i,s)=>Hp(e,i)||r.get(e,i,s),has:(e,i)=>!!Hp(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(pT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function pT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Df="@firebase/app",Gp="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new Jf("@firebase/app"),yT="@firebase/app-compat",vT="@firebase/analytics-compat",_T="@firebase/analytics",ET="@firebase/app-check-compat",TT="@firebase/app-check",AT="@firebase/auth",ST="@firebase/auth-compat",bT="@firebase/database",RT="@firebase/data-connect",wT="@firebase/database-compat",CT="@firebase/functions",DT="@firebase/functions-compat",OT="@firebase/installations",IT="@firebase/installations-compat",VT="@firebase/messaging",NT="@firebase/messaging-compat",MT="@firebase/performance",xT="@firebase/performance-compat",UT="@firebase/remote-config",kT="@firebase/remote-config-compat",LT="@firebase/storage",zT="@firebase/storage-compat",jT="@firebase/firestore",BT="@firebase/vertexai",PT="@firebase/firestore-compat",qT="firebase",HT="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="[DEFAULT]",GT={[Df]:"fire-core",[yT]:"fire-core-compat",[_T]:"fire-analytics",[vT]:"fire-analytics-compat",[TT]:"fire-app-check",[ET]:"fire-app-check-compat",[AT]:"fire-auth",[ST]:"fire-auth-compat",[bT]:"fire-rtdb",[RT]:"fire-data-connect",[wT]:"fire-rtdb-compat",[CT]:"fire-fn",[DT]:"fire-fn-compat",[OT]:"fire-iid",[IT]:"fire-iid-compat",[VT]:"fire-fcm",[NT]:"fire-fcm-compat",[MT]:"fire-perf",[xT]:"fire-perf-compat",[UT]:"fire-rc",[kT]:"fire-rc-compat",[LT]:"fire-gcs",[zT]:"fire-gcs-compat",[jT]:"fire-fst",[PT]:"fire-fst-compat",[BT]:"fire-vertex","fire-js":"fire-js",[qT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=new Map,QT=new Map,If=new Map;function Qp(r,e){try{r.container.addComponent(e)}catch(i){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function wa(r){const e=r.name;if(If.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;If.set(e,r);for(const i of Nu.values())Qp(i,r);for(const i of QT.values())Qp(i,r);return!0}function Fl(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function FT(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ba=new Qu("app","Firebase",KT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ba.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=HT;function ov(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Of,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ba.create("bad-app-name",{appName:String(o)});if(i||(i=nv()),!i)throw ba.create("no-options");const h=Nu.get(o);if(h){if(Bl(i,h.options)&&Bl(s,h.config))return h;throw ba.create("duplicate-app",{appName:o})}const d=new tT(o);for(const v of If.values())d.addComponent(v);const g=new YT(i,s,d);return Nu.set(o,g),g}function uv(r=Of){const e=Nu.get(r);if(!e&&r===Of&&nv())return ov();if(!e)throw ba.create("no-app",{appName:r});return e}function oi(r,e,i){var s;let o=(s=GT[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(g.join(" "));return}wa(new Li(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="firebase-heartbeat-database",ZT=1,Pl="firebase-heartbeat-store";let mf=null;function cv(){return mf||(mf=lv($T,ZT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Pl)}catch(i){console.warn(i)}}}}).catch(r=>{throw ba.create("idb-open",{originalErrorMessage:r.message})})),mf}async function JT(r){try{const i=(await cv()).transaction(Pl),s=await i.objectStore(Pl).get(hv(r));return await i.done,s}catch(e){if(e instanceof Ma)zi.warn(e.message);else{const i=ba.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zi.warn(i.message)}}}async function Fp(r,e){try{const s=(await cv()).transaction(Pl,"readwrite");await s.objectStore(Pl).put(e,hv(r)),await s.done}catch(i){if(i instanceof Ma)zi.warn(i.message);else{const s=ba.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});zi.warn(s.message)}}}function hv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=1024,tA=30;class eA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new iA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Kp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>tA){const d=aA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){zi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Kp(),{heartbeatsToSend:s,unsentEntries:o}=nA(this._heartbeatsCache.heartbeats),h=Vu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return zi.warn(i),""}}}function Kp(){return new Date().toISOString().substring(0,10)}function nA(r,e=WT){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Yp(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Yp(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class iA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iv()?av().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await JT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Fp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Fp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Yp(r){return Vu(JSON.stringify({version:2,heartbeats:r})).length}function aA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(r){wa(new Li("platform-logger",e=>new gT(e),"PRIVATE")),wa(new Li("heartbeat",e=>new eA(e),"PRIVATE")),oi(Df,Gp,r),oi(Df,Gp,"esm2017"),oi("fire-js","")}rA("");var Xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ra,fv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,S){function A(){}A.prototype=S.prototype,R.D=S.prototype,R.prototype=new A,R.prototype.constructor=R,R.C=function(w,O,I){for(var D=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)D[Nt-2]=arguments[Nt];return S.prototype[O].apply(w,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,S,A){A||(A=0);var w=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)w[O]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(O=0;16>O;++O)w[O]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=R.g[0],A=R.g[1],O=R.g[2];var I=R.g[3],D=S+(I^A&(O^I))+w[0]+3614090360&4294967295;S=A+(D<<7&4294967295|D>>>25),D=I+(O^S&(A^O))+w[1]+3905402710&4294967295,I=S+(D<<12&4294967295|D>>>20),D=O+(A^I&(S^A))+w[2]+606105819&4294967295,O=I+(D<<17&4294967295|D>>>15),D=A+(S^O&(I^S))+w[3]+3250441966&4294967295,A=O+(D<<22&4294967295|D>>>10),D=S+(I^A&(O^I))+w[4]+4118548399&4294967295,S=A+(D<<7&4294967295|D>>>25),D=I+(O^S&(A^O))+w[5]+1200080426&4294967295,I=S+(D<<12&4294967295|D>>>20),D=O+(A^I&(S^A))+w[6]+2821735955&4294967295,O=I+(D<<17&4294967295|D>>>15),D=A+(S^O&(I^S))+w[7]+4249261313&4294967295,A=O+(D<<22&4294967295|D>>>10),D=S+(I^A&(O^I))+w[8]+1770035416&4294967295,S=A+(D<<7&4294967295|D>>>25),D=I+(O^S&(A^O))+w[9]+2336552879&4294967295,I=S+(D<<12&4294967295|D>>>20),D=O+(A^I&(S^A))+w[10]+4294925233&4294967295,O=I+(D<<17&4294967295|D>>>15),D=A+(S^O&(I^S))+w[11]+2304563134&4294967295,A=O+(D<<22&4294967295|D>>>10),D=S+(I^A&(O^I))+w[12]+1804603682&4294967295,S=A+(D<<7&4294967295|D>>>25),D=I+(O^S&(A^O))+w[13]+4254626195&4294967295,I=S+(D<<12&4294967295|D>>>20),D=O+(A^I&(S^A))+w[14]+2792965006&4294967295,O=I+(D<<17&4294967295|D>>>15),D=A+(S^O&(I^S))+w[15]+1236535329&4294967295,A=O+(D<<22&4294967295|D>>>10),D=S+(O^I&(A^O))+w[1]+4129170786&4294967295,S=A+(D<<5&4294967295|D>>>27),D=I+(A^O&(S^A))+w[6]+3225465664&4294967295,I=S+(D<<9&4294967295|D>>>23),D=O+(S^A&(I^S))+w[11]+643717713&4294967295,O=I+(D<<14&4294967295|D>>>18),D=A+(I^S&(O^I))+w[0]+3921069994&4294967295,A=O+(D<<20&4294967295|D>>>12),D=S+(O^I&(A^O))+w[5]+3593408605&4294967295,S=A+(D<<5&4294967295|D>>>27),D=I+(A^O&(S^A))+w[10]+38016083&4294967295,I=S+(D<<9&4294967295|D>>>23),D=O+(S^A&(I^S))+w[15]+3634488961&4294967295,O=I+(D<<14&4294967295|D>>>18),D=A+(I^S&(O^I))+w[4]+3889429448&4294967295,A=O+(D<<20&4294967295|D>>>12),D=S+(O^I&(A^O))+w[9]+568446438&4294967295,S=A+(D<<5&4294967295|D>>>27),D=I+(A^O&(S^A))+w[14]+3275163606&4294967295,I=S+(D<<9&4294967295|D>>>23),D=O+(S^A&(I^S))+w[3]+4107603335&4294967295,O=I+(D<<14&4294967295|D>>>18),D=A+(I^S&(O^I))+w[8]+1163531501&4294967295,A=O+(D<<20&4294967295|D>>>12),D=S+(O^I&(A^O))+w[13]+2850285829&4294967295,S=A+(D<<5&4294967295|D>>>27),D=I+(A^O&(S^A))+w[2]+4243563512&4294967295,I=S+(D<<9&4294967295|D>>>23),D=O+(S^A&(I^S))+w[7]+1735328473&4294967295,O=I+(D<<14&4294967295|D>>>18),D=A+(I^S&(O^I))+w[12]+2368359562&4294967295,A=O+(D<<20&4294967295|D>>>12),D=S+(A^O^I)+w[5]+4294588738&4294967295,S=A+(D<<4&4294967295|D>>>28),D=I+(S^A^O)+w[8]+2272392833&4294967295,I=S+(D<<11&4294967295|D>>>21),D=O+(I^S^A)+w[11]+1839030562&4294967295,O=I+(D<<16&4294967295|D>>>16),D=A+(O^I^S)+w[14]+4259657740&4294967295,A=O+(D<<23&4294967295|D>>>9),D=S+(A^O^I)+w[1]+2763975236&4294967295,S=A+(D<<4&4294967295|D>>>28),D=I+(S^A^O)+w[4]+1272893353&4294967295,I=S+(D<<11&4294967295|D>>>21),D=O+(I^S^A)+w[7]+4139469664&4294967295,O=I+(D<<16&4294967295|D>>>16),D=A+(O^I^S)+w[10]+3200236656&4294967295,A=O+(D<<23&4294967295|D>>>9),D=S+(A^O^I)+w[13]+681279174&4294967295,S=A+(D<<4&4294967295|D>>>28),D=I+(S^A^O)+w[0]+3936430074&4294967295,I=S+(D<<11&4294967295|D>>>21),D=O+(I^S^A)+w[3]+3572445317&4294967295,O=I+(D<<16&4294967295|D>>>16),D=A+(O^I^S)+w[6]+76029189&4294967295,A=O+(D<<23&4294967295|D>>>9),D=S+(A^O^I)+w[9]+3654602809&4294967295,S=A+(D<<4&4294967295|D>>>28),D=I+(S^A^O)+w[12]+3873151461&4294967295,I=S+(D<<11&4294967295|D>>>21),D=O+(I^S^A)+w[15]+530742520&4294967295,O=I+(D<<16&4294967295|D>>>16),D=A+(O^I^S)+w[2]+3299628645&4294967295,A=O+(D<<23&4294967295|D>>>9),D=S+(O^(A|~I))+w[0]+4096336452&4294967295,S=A+(D<<6&4294967295|D>>>26),D=I+(A^(S|~O))+w[7]+1126891415&4294967295,I=S+(D<<10&4294967295|D>>>22),D=O+(S^(I|~A))+w[14]+2878612391&4294967295,O=I+(D<<15&4294967295|D>>>17),D=A+(I^(O|~S))+w[5]+4237533241&4294967295,A=O+(D<<21&4294967295|D>>>11),D=S+(O^(A|~I))+w[12]+1700485571&4294967295,S=A+(D<<6&4294967295|D>>>26),D=I+(A^(S|~O))+w[3]+2399980690&4294967295,I=S+(D<<10&4294967295|D>>>22),D=O+(S^(I|~A))+w[10]+4293915773&4294967295,O=I+(D<<15&4294967295|D>>>17),D=A+(I^(O|~S))+w[1]+2240044497&4294967295,A=O+(D<<21&4294967295|D>>>11),D=S+(O^(A|~I))+w[8]+1873313359&4294967295,S=A+(D<<6&4294967295|D>>>26),D=I+(A^(S|~O))+w[15]+4264355552&4294967295,I=S+(D<<10&4294967295|D>>>22),D=O+(S^(I|~A))+w[6]+2734768916&4294967295,O=I+(D<<15&4294967295|D>>>17),D=A+(I^(O|~S))+w[13]+1309151649&4294967295,A=O+(D<<21&4294967295|D>>>11),D=S+(O^(A|~I))+w[4]+4149444226&4294967295,S=A+(D<<6&4294967295|D>>>26),D=I+(A^(S|~O))+w[11]+3174756917&4294967295,I=S+(D<<10&4294967295|D>>>22),D=O+(S^(I|~A))+w[2]+718787259&4294967295,O=I+(D<<15&4294967295|D>>>17),D=A+(I^(O|~S))+w[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+I&4294967295}s.prototype.u=function(R,S){S===void 0&&(S=R.length);for(var A=S-this.blockSize,w=this.B,O=this.h,I=0;I<S;){if(O==0)for(;I<=A;)o(this,R,I),I+=this.blockSize;if(typeof R=="string"){for(;I<S;)if(w[O++]=R.charCodeAt(I++),O==this.blockSize){o(this,w),O=0;break}}else for(;I<S;)if(w[O++]=R[I++],O==this.blockSize){o(this,w),O=0;break}}this.h=O,this.o+=S},s.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;var A=8*this.o;for(S=R.length-8;S<R.length;++S)R[S]=A&255,A/=256;for(this.u(R),R=Array(16),S=A=0;4>S;++S)for(var w=0;32>w;w+=8)R[A++]=this.g[S]>>>w&255;return R};function h(R,S){var A=g;return Object.prototype.hasOwnProperty.call(A,R)?A[R]:A[R]=S(R)}function d(R,S){this.h=S;for(var A=[],w=!0,O=R.length-1;0<=O;O--){var I=R[O]|0;w&&I==S||(A[O]=I,w=!1)}this.g=A}var g={};function v(R){return-128<=R&&128>R?h(R,function(S){return new d([S|0],0>S?-1:0)}):new d([R|0],0>R?-1:0)}function _(R){if(isNaN(R)||!isFinite(R))return N;if(0>R)return $(_(-R));for(var S=[],A=1,w=0;R>=A;w++)S[w]=R/A|0,A*=4294967296;return new d(S,0)}function b(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return $(b(R.substring(1),S));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=_(Math.pow(S,8)),w=N,O=0;O<R.length;O+=8){var I=Math.min(8,R.length-O),D=parseInt(R.substring(O,O+I),S);8>I?(I=_(Math.pow(S,I)),w=w.j(I).add(_(D))):(w=w.j(A),w=w.add(_(D)))}return w}var N=v(0),L=v(1),P=v(16777216);r=d.prototype,r.m=function(){if(X(this))return-$(this).m();for(var R=0,S=1,A=0;A<this.g.length;A++){var w=this.i(A);R+=(0<=w?w:4294967296+w)*S,S*=4294967296}return R},r.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(J(this))return"0";if(X(this))return"-"+$(this).toString(R);for(var S=_(Math.pow(R,6)),A=this,w="";;){var O=_t(A,S).g;A=nt(A,O.j(S));var I=((0<A.g.length?A.g[0]:A.h)>>>0).toString(R);if(A=O,J(A))return I+w;for(;6>I.length;)I="0"+I;w=I+w}},r.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function J(R){if(R.h!=0)return!1;for(var S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function X(R){return R.h==-1}r.l=function(R){return R=nt(this,R),X(R)?-1:J(R)?0:1};function $(R){for(var S=R.g.length,A=[],w=0;w<S;w++)A[w]=~R.g[w];return new d(A,~R.h).add(L)}r.abs=function(){return X(this)?$(this):this},r.add=function(R){for(var S=Math.max(this.g.length,R.g.length),A=[],w=0,O=0;O<=S;O++){var I=w+(this.i(O)&65535)+(R.i(O)&65535),D=(I>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);w=D>>>16,I&=65535,D&=65535,A[O]=D<<16|I}return new d(A,A[A.length-1]&-2147483648?-1:0)};function nt(R,S){return R.add($(S))}r.j=function(R){if(J(this)||J(R))return N;if(X(this))return X(R)?$(this).j($(R)):$($(this).j(R));if(X(R))return $(this.j($(R)));if(0>this.l(P)&&0>R.l(P))return _(this.m()*R.m());for(var S=this.g.length+R.g.length,A=[],w=0;w<2*S;w++)A[w]=0;for(w=0;w<this.g.length;w++)for(var O=0;O<R.g.length;O++){var I=this.i(w)>>>16,D=this.i(w)&65535,Nt=R.i(O)>>>16,Pt=R.i(O)&65535;A[2*w+2*O]+=D*Pt,ot(A,2*w+2*O),A[2*w+2*O+1]+=I*Pt,ot(A,2*w+2*O+1),A[2*w+2*O+1]+=D*Nt,ot(A,2*w+2*O+1),A[2*w+2*O+2]+=I*Nt,ot(A,2*w+2*O+2)}for(w=0;w<S;w++)A[w]=A[2*w+1]<<16|A[2*w];for(w=S;w<2*S;w++)A[w]=0;return new d(A,0)};function ot(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function ht(R,S){this.g=R,this.h=S}function _t(R,S){if(J(S))throw Error("division by zero");if(J(R))return new ht(N,N);if(X(R))return S=_t($(R),S),new ht($(S.g),$(S.h));if(X(S))return S=_t(R,$(S)),new ht($(S.g),S.h);if(30<R.g.length){if(X(R)||X(S))throw Error("slowDivide_ only works with positive integers.");for(var A=L,w=S;0>=w.l(R);)A=mt(A),w=mt(w);var O=rt(A,1),I=rt(w,1);for(w=rt(w,2),A=rt(A,2);!J(w);){var D=I.add(w);0>=D.l(R)&&(O=O.add(A),I=D),w=rt(w,1),A=rt(A,1)}return S=nt(R,O.j(S)),new ht(O,S)}for(O=N;0<=R.l(S);){for(A=Math.max(1,Math.floor(R.m()/S.m())),w=Math.ceil(Math.log(A)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),I=_(A),D=I.j(S);X(D)||0<D.l(R);)A-=w,I=_(A),D=I.j(S);J(I)&&(I=L),O=O.add(I),R=nt(R,D)}return new ht(O,R)}r.A=function(R){return _t(this,R).h},r.and=function(R){for(var S=Math.max(this.g.length,R.g.length),A=[],w=0;w<S;w++)A[w]=this.i(w)&R.i(w);return new d(A,this.h&R.h)},r.or=function(R){for(var S=Math.max(this.g.length,R.g.length),A=[],w=0;w<S;w++)A[w]=this.i(w)|R.i(w);return new d(A,this.h|R.h)},r.xor=function(R){for(var S=Math.max(this.g.length,R.g.length),A=[],w=0;w<S;w++)A[w]=this.i(w)^R.i(w);return new d(A,this.h^R.h)};function mt(R){for(var S=R.g.length+1,A=[],w=0;w<S;w++)A[w]=R.i(w)<<1|R.i(w-1)>>>31;return new d(A,R.h)}function rt(R,S){var A=S>>5;S%=32;for(var w=R.g.length-A,O=[],I=0;I<w;I++)O[I]=0<S?R.i(I+A)>>>S|R.i(I+A+1)<<32-S:R.i(I+A);return new d(O,R.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,fv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,Ra=d}).apply(typeof Xp<"u"?Xp:typeof self<"u"?self:typeof window<"u"?window:{});var _u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dv,Nl,mv,Ru,Vf,gv,pv,yv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof _u=="object"&&_u];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in p))break t;p=p[k]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,k={next:function(){if(!T&&p<u.length){var B=p++;return{value:m(B,u[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function b(u,m,p){return u.call.apply(u.bind,arguments)}function N(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,T),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function L(u,m,p){return L=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:N,L.apply(null,arguments)}function P(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function J(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,k,B){for(var tt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)tt[Mt-2]=arguments[Mt];return m.prototype[k].apply(T,tt)}}function X(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function $(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(v(T)){const k=u.length||0,B=T.length||0;u.length=k+B;for(let tt=0;tt<B;tt++)u[k+tt]=T[tt]}else u.push(T)}}class nt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ot(u){return/^[\s\xa0]*$/.test(u)}function ht(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function _t(u){return _t[" "](u),u}_t[" "]=function(){};var mt=ht().indexOf("Gecko")!=-1&&!(ht().toLowerCase().indexOf("webkit")!=-1&&ht().indexOf("Edge")==-1)&&!(ht().indexOf("Trident")!=-1||ht().indexOf("MSIE")!=-1)&&ht().indexOf("Edge")==-1;function rt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function R(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(u,m){let p,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(p in T)u[p]=T[p];for(let B=0;B<A.length;B++)p=A[B],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function O(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function I(u){g.setTimeout(()=>{throw u},0)}function D(){var u=St;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Nt{constructor(){this.h=this.g=null}add(m,p){const T=Pt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var Pt=new nt(()=>new Z,u=>u.reset());class Z{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,st=!1,St=new Nt,V=()=>{const u=g.Promise.resolve(void 0);ct=()=>{u.then(Q)}};var Q=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(p){I(p)}var m=Pt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}st=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var W=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function yt(u,m){if(it.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(mt){t:{try{_t(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:gt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&yt.aa.h.call(this)}}J(yt,it);var gt={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Kt="closure_listenable_"+(1e6*Math.random()|0),wt=0;function Qt(u,m,p,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=k,this.key=++wt,this.da=this.fa=!1}function It(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,p,T,k){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var tt=te(u,m,T,k);return-1<tt?(m=u[tt],p||(m.fa=!1)):(m=new Qt(m,this.src,B,!!T,k),m.fa=p,u.push(m)),m};function Oe(u,m){var p=m.type;if(p in u.g){var T=u.g[p],k=Array.prototype.indexOf.call(T,m,void 0),B;(B=0<=k)&&Array.prototype.splice.call(T,k,1),B&&(It(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function te(u,m,p,T){for(var k=0;k<u.length;++k){var B=u[k];if(!B.da&&B.listener==m&&B.capture==!!p&&B.ha==T)return k}return-1}var je="closure_lm_"+(1e6*Math.random()|0),ee={};function Zt(u,m,p,T,k){if(Array.isArray(m)){for(var B=0;B<m.length;B++)Zt(u,m[B],p,T,k);return null}return p=Zl(p),u&&u[Kt]?u.K(m,p,_(T)?!!T.capture:!1,k):Be(u,m,p,!1,T,k)}function Be(u,m,p,T,k,B){if(!m)throw Error("Invalid event type");var tt=_(k)?!!k.capture:!!k,Mt=ws(u);if(Mt||(u[je]=Mt=new le(u)),p=Mt.add(m,p,T,tt,B),p.proxy)return p;if(T=Ie(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)W||(k=tt),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(Er(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ie(){function u(p){return m.call(u.src,u.listener,p)}const m=sc;return u}function ne(u,m,p,T,k){if(Array.isArray(m))for(var B=0;B<m.length;B++)ne(u,m[B],p,T,k);else T=_(T)?!!T.capture:!!T,p=Zl(p),u&&u[Kt]?(u=u.i,m=String(m).toString(),m in u.g&&(B=u.g[m],p=te(B,p,T,k),-1<p&&(It(B[p]),Array.prototype.splice.call(B,p,1),B.length==0&&(delete u.g[m],u.h--)))):u&&(u=ws(u))&&(m=u.g[m.toString()],u=-1,m&&(u=te(m,p,T,k)),(p=-1<u?m[u]:null)&&dn(p))}function dn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Kt])Oe(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Er(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=ws(m))?(Oe(p,u),p.h==0&&(p.src=null,m[je]=null)):It(u)}}}function Er(u){return u in ee?ee[u]:ee[u]="on"+u}function sc(u,m){if(u.da)u=!0;else{m=new yt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&dn(u),u=p.call(T,m)}return u}function ws(u){return u=u[je],u instanceof le?u:null}var ln="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zl(u){return typeof u=="function"?u:(u[ln]||(u[ln]=function(m){return u.handleEvent(m)}),u[ln])}function Te(){et.call(this),this.i=new le(this),this.M=this,this.F=null}J(Te,et),Te.prototype[Kt]=!0,Te.prototype.removeEventListener=function(u,m,p,T){ne(this,u,m,p,T)};function Ve(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new it(m,u);else if(m instanceof it)m.target=m.target||u;else{var k=m;m=new it(T,u),w(m,k)}if(k=!0,p)for(var B=p.length-1;0<=B;B--){var tt=m.g=p[B];k=fi(tt,T,!0,m)&&k}if(tt=m.g=u,k=fi(tt,T,!0,m)&&k,k=fi(tt,T,!1,m)&&k,p)for(B=0;B<p.length;B++)tt=m.g=p[B],k=fi(tt,T,!1,m)&&k}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)It(p[T]);delete u.g[m],u.h--}}this.F=null},Te.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},Te.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function fi(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,B=0;B<m.length;++B){var tt=m[B];if(tt&&!tt.da&&tt.capture==p){var Mt=tt.listener,Se=tt.ha||tt.src;tt.fa&&Oe(u.i,tt),k=Mt.call(Se,T)!==!1&&k}}return k&&!T.defaultPrevented}function Jl(u,m,p){if(typeof u=="function")p&&(u=L(u,p));else if(u&&typeof u.handleEvent=="function")u=L(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Cs(u){u.g=Jl(()=>{u.g=null,u.i&&(u.i=!1,Cs(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class lc extends et{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Cs(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xa(u){et.call(this),this.h=u,this.g={}}J(xa,et);var Bi=[];function Ye(u){rt(u.g,function(m,p){this.g.hasOwnProperty(p)&&dn(m)},u),u.g={}}xa.prototype.N=function(){xa.aa.N.call(this),Ye(this)},xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ds=g.JSON.stringify,Gn=g.JSON.parse,tn=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Os(){}Os.prototype.h=null;function Wl(u){return u.h||(u.h=u.i())}function to(){}var Qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pi(){it.call(this,"d")}J(Pi,it);function zn(){it.call(this,"c")}J(zn,it);var An={},qi=null;function Tr(){return qi=qi||new Te}An.La="serverreachability";function Is(u){it.call(this,An.La,u)}J(Is,it);function Hi(u){const m=Tr();Ve(m,new Is(m))}An.STAT_EVENT="statevent";function Ar(u,m){it.call(this,An.STAT_EVENT,u),this.stat=m}J(Ar,it);function de(u){const m=Tr();Ve(m,new Ar(m,u))}An.Ma="timingevent";function eo(u,m){it.call(this,An.Ma,u),this.size=m}J(eo,it);function Gi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Qi(){this.g=!0}Qi.prototype.xa=function(){this.g=!1};function no(u,m,p,T,k,B){u.info(function(){if(u.g)if(B)for(var tt="",Mt=B.split("&"),Se=0;Se<Mt.length;Se++){var xt=Mt[Se].split("=");if(1<xt.length){var xe=xt[0];xt=xt[1];var be=xe.split("_");tt=2<=be.length&&be[1]=="type"?tt+(xe+"="+xt+"&"):tt+(xe+"=redacted&")}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+p+`
`+tt})}function io(u,m,p,T,k,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+p+`
`+B+" "+tt})}function Fi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ne(u,p)+(T?" "+T:"")})}function Fn(u,m){u.info(function(){return"TIMEOUT: "+m})}Qi.prototype.info=function(){};function Ne(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var k=T[1];if(Array.isArray(k)&&!(1>k.length)){var B=k[0];if(B!="noop"&&B!="stop"&&B!="close")for(var tt=1;tt<k.length;tt++)k[tt]=""}}}}return Ds(p)}catch{return m}}var Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ua;function Sr(){}J(Sr,Os),Sr.prototype.g=function(){return new XMLHttpRequest},Sr.prototype.i=function(){return{}},Ua=new Sr;function Kn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new xa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vs}function Vs(){this.i=null,this.g="",this.h=!1}var Ki={},ka={};function jn(u,m,p){u.L=1,u.v=ja(oe(m)),u.m=p,u.P=!0,mi(u,null)}function mi(u,m){u.F=Date.now(),ie(u),u.A=oe(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),yi(p.i,"t",T),u.C=0,p=u.j.J,u.h=new Vs,u.g=vo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new lc(L(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Bi[0]=k.toString()),k=Bi);for(var B=0;B<k.length;B++){var tt=Zt(p,k[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Hi(),no(u.i,u.u,u.A,u.l,u.R,u.m)}Kn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Cn(u)==3?m.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)t:{const be=Cn(this.g);var m=this.g.Ba();const Ti=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||uo(this.g)))){this.J||be!=4||m==7||(m==8||0>=Ti?Hi(3):Hi(2)),br(this);var p=this.g.Z();this.X=p;e:if(Yi(this)){var T=uo(this.g);u="";var k=T.length,B=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),mn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(B&&m==k-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,io(this.i,this.u,this.A,this.l,this.R,be,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Se=this.g;if((Mt=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(Mt)){var xt=Mt;break e}}xt=null}if(p=xt)Fi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gn(this,p);else{this.o=!1,this.s=3,de(12),on(this),mn(this);break t}}if(this.P){p=!0;let Pe;for(;!this.J&&this.C<tt.length;)if(Pe=Xi(this,tt),Pe==ka){be==4&&(this.s=4,de(14),p=!1),Fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==Ki){this.s=4,de(15),Fi(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else Fi(this.i,this.l,Pe,null),gn(this,Pe);if(Yi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||tt.length!=0||this.h.h||(this.s=1,de(16),p=!1),this.o=this.o&&p,!p)Fi(this.i,this.l,tt,"[Invalid Chunked Response]"),on(this),mn(this);else if(0<tt.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),Fa(xe),xe.M=!0,de(11))}}else Fi(this.i,this.l,tt,null),gn(this,tt);be==4&&on(this),this.o&&!this.J&&(be==4?go(this.j,this):(this.o=!1,ie(this)))}else dc(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),on(this),mn(this)}}}catch{}finally{}};function Yi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Xi(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?ka:(p=Number(m.substring(p,T)),isNaN(p)?Ki:(T+=1,T+p>m.length?ka:(m=m.slice(T,T+p),u.C=T+p,m)))}Kn.prototype.cancel=function(){this.J=!0,on(this)};function ie(u){u.S=Date.now()+u.I,Ns(u,u.I)}function Ns(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Gi(L(u.ba,u),m)}function br(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Kn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Fn(this.i,this.A),this.L!=2&&(Hi(),de(17)),on(this),this.s=2,mn(this)):Ns(this,this.S-u)};function mn(u){u.j.G==0||u.J||go(u.j,u)}function on(u){br(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ye(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function gn(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||$i(p.h,u))){if(!u.K&&$i(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)xr(p),Nr(p);else break t;Hs(p),de(18)}}else p.za=k[1],0<p.za-p.T&&37500>k[2]&&p.F&&p.v==0&&!p.C&&(p.C=Gi(L(p.Za,p),6e3));if(1>=ao(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ei(p,11)}else if((u.K||p.g==u)&&xr(p),!ot(m))for(k=p.Da.g.parse(m),m=0;m<k.length;m++){let xt=k[m];if(p.T=xt[0],xt=xt[1],p.G==2)if(xt[0]=="c"){p.K=xt[1],p.ia=xt[2];const xe=xt[3];xe!=null&&(p.la=xe,p.j.info("VER="+p.la));const be=xt[4];be!=null&&(p.Aa=be,p.j.info("SVER="+p.Aa));const Ti=xt[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(T=1.5*Ti,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Pe=u.g;if(Pe){const ti=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var B=T.h;B.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Zi(B,B.h),B.h=null))}if(T.D){const Qs=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;Qs&&(T.ya=Qs,qt(T.I,T.D,Qs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=u;if(T.qa=yo(T,T.J?T.ia:null,T.W),tt.K){Sn(T.h,tt);var Mt=tt,Se=T.L;Se&&(Mt.I=Se),Mt.B&&(br(Mt),ie(Mt)),T.g=tt}else fo(T);0<p.i.length&&Mr(p)}else xt[0]!="stop"&&xt[0]!="close"||Ei(p,7);else p.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Ei(p,7):Ps(p):xt[0]!="noop"&&p.l&&p.l.ta(xt),p.v=0)}}Hi(4)}catch{}}var oc=class{constructor(u,m){this.g=u,this.map=m}};function Ms(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ao(u){return u.h?1:u.g?u.g.size:0}function $i(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Zi(u,m){u.g?u.g.add(m):u.h=m}function Sn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ms.prototype.cancel=function(){if(this.i=en(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function en(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return X(u.i)}function ro(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function uc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function La(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=uc(u),T=ro(u),k=T.length,B=0;B<k;B++)m.call(void 0,T[B],p&&p[B],u)}var Us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rr(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),k=null;if(0<=T){var B=u[p].substring(0,T);k=u[p].substring(T+1)}else B=u[p];m(B,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function gi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof gi){this.h=u.h,Ji(this,u.j),this.o=u.o,this.g=u.g,za(this,u.s),this.l=u.l;var m=u.i,p=new Yn;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),wr(this,p),this.m=u.m}else u&&(m=String(u).match(Us))?(this.h=!1,Ji(this,m[1]||"",!0),this.o=Wi(m[2]||""),this.g=Wi(m[3]||"",!0),za(this,m[4]),this.l=Wi(m[5]||"",!0),wr(this,m[6]||"",!0),this.m=Wi(m[7]||"")):(this.h=!1,this.i=new Yn(null,this.h))}gi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(bn(m,ks,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(bn(m,ks,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(bn(p,p.charAt(0)=="/"?Ls:so,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",bn(p,fc)),u.join("")};function oe(u){return new gi(u)}function Ji(u,m,p){u.j=p?Wi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function za(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function wr(u,m,p){m instanceof Yn?(u.i=m,zs(u.i,u.h)):(p||(m=bn(m,hc)),u.i=new Yn(m,u.h))}function qt(u,m,p){u.i.set(m,p)}function ja(u){return qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Wi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function bn(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,cc),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ks=/[#\/\?@]/g,so=/[#\?:]/g,Ls=/[#\?]/g,hc=/[#\?@]/g,fc=/#/g;function Yn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Rn(u){u.g||(u.g=new Map,u.h=0,u.i&&Rr(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=Yn.prototype,r.add=function(u,m){Rn(this),this.i=null,u=vi(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Cr(u,m){Rn(u),m=vi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function pi(u,m){return Rn(u),m=vi(u,m),u.g.has(m)}r.forEach=function(u,m){Rn(this),this.g.forEach(function(p,T){p.forEach(function(k){u.call(m,k,T,this)},this)},this)},r.na=function(){Rn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const k=u[T];for(let B=0;B<k.length;B++)p.push(m[T])}return p},r.V=function(u){Rn(this);let m=[];if(typeof u=="string")pi(this,u)&&(m=m.concat(this.g.get(vi(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},r.set=function(u,m){return Rn(this),this.i=null,u=vi(this,u),pi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function yi(u,m,p){Cr(u,m),0<p.length&&(u.i=null,u.g.set(vi(u,m),X(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const B=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var k=B;tt[T]!==""&&(k+="="+encodeURIComponent(String(tt[T]))),u.push(k)}}return this.i=u.join("&")};function vi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function zs(u,m){m&&!u.j&&(Rn(u),u.i=null,u.g.forEach(function(p,T){var k=T.toLowerCase();T!=k&&(Cr(this,T),yi(this,k,p))},u)),u.j=m}function lo(u,m){const p=new Qi;if(g.Image){const T=new Image;T.onload=P(wn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=P(wn,p,"TestLoadImage: error",!1,m,T),T.onabort=P(wn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=P(wn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ba(u,m){const p=new Qi,T=new AbortController,k=setTimeout(()=>{T.abort(),wn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(k),B.ok?wn(p,"TestPingServer: ok",!0,m):wn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),wn(p,"TestPingServer: error",!1,m)})}function wn(u,m,p,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(p)}catch{}}function Pa(){this.g=new tn}function Xn(u,m,p){const T=p||"";try{La(u,function(k,B){let tt=k;_(k)&&(tt=Ds(k)),m.push(T+B+"="+encodeURIComponent(tt))})}catch(k){throw m.push(T+"type="+encodeURIComponent("_badmap")),k}}function ta(u){this.l=u.Ub||null,this.j=u.eb||!1}J(ta,Os),ta.prototype.g=function(){return new _i(this.l,this.j)},ta.prototype.i=function(u){return function(){return u}}({});function _i(u,m){Te.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(_i,Te),r=_i.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;js(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function js(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?$n(this):Zn(this),this.readyState==3&&js(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,$n(this))},r.Qa=function(u){this.g&&(this.response=u,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Bs(u){let m="";return rt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Me(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Bs(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):qt(u,m,p))}function Ft(u){Te.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(Ft,Te);var Dr=/^https?$/i,qa=["POST","PUT"];r=Ft.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ua.g(),this.v=this.o?Wl(this.o):Wl(Ua),this.g.onreadystatechange=L(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){oo(this,B);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)p.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())p.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(B=>B.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(qa,m,void 0))||T||k||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of p)this.g.setRequestHeader(B,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ha(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){oo(this,B)}};function oo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Or(u),Jn(u)}function Or(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ve(this,"complete"),Ve(this,"abort"),Jn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jn(this,!0)),Ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ir(this):this.bb())},r.bb=function(){Ir(this)};function Ir(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Cn(u)!=4||u.Z()!=2)){if(u.u&&Cn(u)==4)Jl(u.Ea,0,u);else if(Ve(u,"readystatechange"),Cn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var k=String(u.D).match(Us)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),T=!Dr.test(k?k.toLowerCase():"")}p=T}if(p)Ve(u,"complete"),Ve(u,"success");else{u.m=6;try{var B=2<Cn(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",Or(u)}}finally{Jn(u)}}}}function Jn(u,m){if(u.g){Ha(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ve(u,"ready");try{p.onreadystatechange=T}catch{}}}function Ha(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Cn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Gn(m)}};function uo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function dc(u){const m={};u=(u.g&&2<=Cn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ot(u[T]))continue;var p=O(u[T]);const k=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const B=m[k]||[];m[k]=B,B.push(p)}R(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ga(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Vr(u){this.Aa=0,this.i=[],this.j=new Qi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ga("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ga("baseRetryDelayMs",5e3,u),this.cb=Ga("retryDelaySeedMs",1e4,u),this.Wa=Ga("forwardChannelMaxRetries",2,u),this.wa=Ga("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ms(u&&u.concurrentRequestLimit),this.Da=new Pa,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Vr.prototype,r.la=8,r.G=1,r.connect=function(u,m,p,T){de(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=yo(this,null,this.W),Mr(this)};function Ps(u){if(co(u),u.G==3){var m=u.U++,p=oe(u.I);if(qt(p,"SID",u.K),qt(p,"RID",m),qt(p,"TYPE","terminate"),Qa(u,p),m=new Kn(u,u.j,m),m.L=2,m.v=ja(oe(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=vo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ie(m)}po(u)}function Nr(u){u.g&&(Fa(u),u.g.cancel(),u.g=null)}function co(u){Nr(u),u.u&&(g.clearTimeout(u.u),u.u=null),xr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Mr(u){if(!xs(u.h)&&!u.s){u.s=!0;var m=u.Ga;ct||V(),st||(ct(),st=!0),St.add(m,u),u.B=0}}function mc(u,m){return ao(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Gi(L(u.Ga,u,m),Gs(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Kn(this,this.j,u);let B=this.o;if(this.S&&(B?(B=S(B),w(B,this.S)):B=this.S),this.m!==null||this.O||(k.H=B,B=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=ho(this,k,m),p=oe(this.I),qt(p,"RID",u),qt(p,"CVER",22),this.D&&qt(p,"X-HTTP-Session-Id",this.D),Qa(this,p),B&&(this.O?m="headers="+encodeURIComponent(String(Bs(B)))+"&"+m:this.m&&Me(p,this.m,B)),Zi(this.h,k),this.Ua&&qt(p,"TYPE","init"),this.P?(qt(p,"$req",m),qt(p,"SID","null"),k.T=!0,jn(k,p,null)):jn(k,p,m),this.G=2}}else this.G==3&&(u?qs(this,u):this.i.length==0||xs(this.h)||qs(this))};function qs(u,m){var p;m?p=m.l:p=u.U++;const T=oe(u.I);qt(T,"SID",u.K),qt(T,"RID",p),qt(T,"AID",u.T),Qa(u,T),u.m&&u.o&&Me(T,u.m,u.o),p=new Kn(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ho(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Zi(u.h,p),jn(p,T,m)}function Qa(u,m){u.H&&rt(u.H,function(p,T){qt(m,T,p)}),u.l&&La({},function(p,T){qt(m,T,p)})}function ho(u,m,p){p=Math.min(u.i.length,p);var T=u.l?L(u.l.Na,u.l,u):null;t:{var k=u.i;let B=-1;for(;;){const tt=["count="+p];B==-1?0<p?(B=k[0].g,tt.push("ofs="+B)):B=0:tt.push("ofs="+B);let Mt=!0;for(let Se=0;Se<p;Se++){let xt=k[Se].g;const xe=k[Se].map;if(xt-=B,0>xt)B=Math.max(0,k[Se].g-100),Mt=!1;else try{Xn(xe,tt,"req"+xt+"_")}catch{T&&T(xe)}}if(Mt){T=tt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function fo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ct||V(),st||(ct(),st=!0),St.add(m,u),u.v=0}}function Hs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Gi(L(u.Fa,u),Gs(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,mo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Gi(L(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),Nr(this),mo(this))};function Fa(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function mo(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=oe(u.qa);qt(m,"RID","rpc"),qt(m,"SID",u.K),qt(m,"AID",u.T),qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&qt(m,"TO",u.ja),qt(m,"TYPE","xmlhttp"),Qa(u,m),u.m&&u.o&&Me(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=ja(oe(m)),p.m=null,p.P=!0,mi(p,u)}r.Za=function(){this.C!=null&&(this.C=null,Nr(this),Hs(this),de(19))};function xr(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function go(u,m){var p=null;if(u.g==m){xr(u),Fa(u),u.g=null;var T=2}else if($i(u.h,m))p=m.D,Sn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;T=Tr(),Ve(T,new eo(T,p)),Mr(u)}else fo(u);else if(k=m.s,k==3||k==0&&0<m.X||!(T==1&&mc(u,m)||T==2&&Hs(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),k){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function Gs(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var p=L(u.fb,u),T=u.Xa;const k=!T;T=new gi(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ji(T,"https"),ja(T),k?lo(T.toString(),p):Ba(T.toString(),p)}else de(2);u.G=0,u.l&&u.l.sa(m),po(u),co(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function po(u){if(u.G=0,u.ka=[],u.l){const m=en(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,X(u.i),u.i.length=0),u.l.ra()}}function yo(u,m,p){var T=p instanceof gi?oe(p):new gi(p);if(T.g!="")m&&(T.g=m+"."+T.g),za(T,T.s);else{var k=g.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var B=new gi(null);T&&Ji(B,T),m&&(B.g=m),k&&za(B,k),p&&(B.l=p),T=B}return p=u.D,m=u.ya,p&&m&&qt(T,p,m),qt(T,"VER",u.la),Qa(u,T),T}function vo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ft(new ta({eb:p})):new Ft(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _o(){}r=_o.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ur(){}Ur.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){Te.call(this),this.g=new Vr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ot(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ot(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Wn(this)}J(nn,Te),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Ps(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Ds(u),u=p);m.i.push(new oc(m.Ya++,u)),m.G==3&&Mr(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Ps(this.g),delete this.g,nn.aa.N.call(this)};function Eo(u){Pi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}J(Eo,Pi);function To(){zn.call(this),this.status=1}J(To,zn);function Wn(u){this.g=u}J(Wn,_o),Wn.prototype.ua=function(){Ve(this.g,"a")},Wn.prototype.ta=function(u){Ve(this.g,new Eo(u))},Wn.prototype.sa=function(u){Ve(this.g,new To)},Wn.prototype.ra=function(){Ve(this.g,"b")},Ur.prototype.createWebChannel=Ur.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,yv=function(){return new Ur},pv=function(){return Tr()},gv=An,Vf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,Ru=Ae,di.COMPLETE="complete",mv=di,to.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",Te.prototype.listen=Te.prototype.K,Nl=to,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,dv=Ft}).apply(typeof _u<"u"?_u:typeof self<"u"?self:typeof window<"u"?window:{});const $p="@firebase/firestore",Zp="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let As="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new Jf("@firebase/firestore");function os(){return pr.logLevel}function lt(r,...e){if(pr.logLevel<=Lt.DEBUG){const i=e.map(td);pr.debug(`Firestore (${As}): ${r}`,...i)}}function ji(r,...e){if(pr.logLevel<=Lt.ERROR){const i=e.map(td);pr.error(`Firestore (${As}): ${r}`,...i)}}function gs(r,...e){if(pr.logLevel<=Lt.WARN){const i=e.map(td);pr.warn(`Firestore (${As}): ${r}`,...i)}}function td(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(r="Unexpected state"){const e=`FIRESTORE (${As}) INTERNAL ASSERTION FAILED: `+r;throw ji(e),new Error(e)}function se(r,e){r||bt()}function jt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Ma{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Je.UNAUTHENTICATED))}shutdown(){}}class lA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class oA{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){se(this.o===void 0);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new mr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await o(this.currentUser)})},g=v=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new mr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(se(typeof s.accessToken=="string"),new vv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return se(e===null||typeof e=="string"),new Je(e)}}class uA{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class cA{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new uA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,FT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){se(this.o===void 0);const s=h=>{h.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?o(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Jp(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(se(typeof i.token=="string"),this.R=i.token,new Jp(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=fA(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function zt(r,e){return r<e?-1:r>e?1:0}function ps(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=-62135596800,ty=1e6;class hn{static now(){return hn.fromMillis(Date.now())}static fromDate(e){return hn.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*ty);return new hn(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new pt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new pt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Wp)throw new pt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ty}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Wp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new hn(0,0))}static max(){return new At(new hn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="__name__";class si{constructor(e,i,s){i===void 0?i=0:i>e.length&&bt(),s===void 0?s=e.length-i:s>e.length-i&&bt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return si.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=si.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Math.sign(e.length-i.length)}static compareSegments(e,i){const s=si.isNumericId(e),o=si.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?si.extractNumericId(e).compare(si.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ra.fromString(e.substring(4,e.length-2))}}class fe extends si{construct(e,i,s){return new fe(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new pt(at.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new fe(i)}static emptyPath(){return new fe([])}}const mA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends si{construct(e,i,s){return new sn(e,i,s)}static isValidIdentifier(e){return mA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ey}static keyField(){return new sn([ey])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new pt(at.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new pt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new pt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new pt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(i)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.path=e}static fromPath(e){return new Et(fe.fromString(e))}static fromName(e){return new Et(fe.fromString(e).popFirst(5))}static empty(){return new Et(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return fe.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Et(new fe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=-1;function gA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new hn(i+1,0):new hn(i,s));return new Ca(o,Et.empty(),e)}function pA(r){return new Ca(r.readTime,r.key,ql)}class Ca{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ca(At.min(),Et.empty(),ql)}static max(){return new Ca(At.max(),Et.empty(),ql)}}function yA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=Et.comparator(r.documentKey,e.documentKey),i!==0?i:zt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _A{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(r){if(r.code!==at.FAILED_PRECONDITION||r.message!==vA)throw r;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):K.reject(i)}static resolve(e){return new K((i,s)=>{i(e)})}static reject(e){return new K((i,s)=>{s(e)})}static waitFor(e){return new K((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},v=>s(v))}),d=!0,h===o&&i()})}static or(e){let i=K.resolve(!1);for(const s of e)i=i.next(o=>o?K.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new K((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(b=>{d[_]=b,++g,g===h&&s(d)},b=>o(b))}})}static doWhile(e,i){return new K((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function EA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ss(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ku.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=-1;function Yu(r){return r==null}function Nf(r){return r===0&&1/r==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="";function AA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=ny(e)),e=SA(r.get(i),e);return ny(e)}function SA(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case _v:i+="";break;default:i+=h}}return i}function ny(r){return r+_v+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Kl(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function bA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e,i){this.comparator=e,this.root=i||Fe.EMPTY}insert(e,i){return new pe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(e){return new pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eu(this.root,e,this.comparator,!0)}}class Eu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fe{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Fe.RED,this.left=o??Fe.EMPTY,this.right=h??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Fe(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Fe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const e=this.left.check();if(e!==this.right.check())throw bt();return e+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(e,i,s,o,h){return this}insert(e,i,s){return new Fe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.comparator=e,this.data=new pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ay(this.data.getIterator())}getIteratorFrom(e){return new ay(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof De)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new De(this.comparator);return i.data=e,i}}class ay{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Ta([])}unionWith(e){let i=new De(sn.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Ta(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ps(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Ev("Invalid base64 string: "+h):h}}(e);return new Ke(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new Ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const RA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(r){if(se(!!r),typeof r=="string"){let e=0;const i=RA.exec(r);if(se(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Oa(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="server_timestamp",Av="__type__",Sv="__previous_value__",bv="__local_write_time__";function ed(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Av])===null||i===void 0?void 0:i.stringValue)===Tv}function Xu(r){const e=r.mapValue.fields[Sv];return ed(e)?Xu(e):e}function Hl(r){const e=Da(r.mapValue.fields[bv].timestampValue);return new hn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,i,s,o,h,d,g,v,_){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_}}const Mu="(default)";class Gl{constructor(e,i){this.projectId=e,this.database=i||Mu}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===Mu}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="__type__",DA="__max__",Tu={mapValue:{}},OA="__vector__",Mf="value";function Ia(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ed(r)?4:VA(r)?9007199254740991:IA(r)?10:11:bt()}function ci(r,e){if(r===e)return!0;const i=Ia(r);if(i!==Ia(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Hl(r).isEqual(Hl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Da(o.timestampValue),g=Da(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,h){return Oa(o.bytesValue).isEqual(Oa(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,h){return ge(o.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(h.geoPointValue.longitude)}(r,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return ge(o.integerValue)===ge(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ge(o.doubleValue),g=ge(h.doubleValue);return d===g?Nf(d)===Nf(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return ps(r.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(iy(d)!==iy(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!ci(d[v],g[v])))return!1;return!0}(r,e);default:return bt()}}function Ql(r,e){return(r.values||[]).find(i=>ci(i,e))!==void 0}function ys(r,e){if(r===e)return 0;const i=Ia(r),s=Ia(e);if(i!==s)return zt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(r.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ge(h.integerValue||h.doubleValue),v=ge(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(r,e);case 3:return ry(r.timestampValue,e.timestampValue);case 4:return ry(Hl(r),Hl(e));case 5:return zt(r.stringValue,e.stringValue);case 6:return function(h,d){const g=Oa(h),v=Oa(d);return g.compareTo(v)}(r.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const b=zt(g[_],v[_]);if(b!==0)return b}return zt(g.length,v.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,d){const g=zt(ge(h.latitude),ge(d.latitude));return g!==0?g:zt(ge(h.longitude),ge(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return sy(r.arrayValue,e.arrayValue);case 10:return function(h,d){var g,v,_,b;const N=h.fields||{},L=d.fields||{},P=(g=N[Mf])===null||g===void 0?void 0:g.arrayValue,J=(v=L[Mf])===null||v===void 0?void 0:v.arrayValue,X=zt(((_=P==null?void 0:P.values)===null||_===void 0?void 0:_.length)||0,((b=J==null?void 0:J.values)===null||b===void 0?void 0:b.length)||0);return X!==0?X:sy(P,J)}(r.mapValue,e.mapValue);case 11:return function(h,d){if(h===Tu.mapValue&&d===Tu.mapValue)return 0;if(h===Tu.mapValue)return 1;if(d===Tu.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},b=Object.keys(_);v.sort(),b.sort();for(let N=0;N<v.length&&N<b.length;++N){const L=zt(v[N],b[N]);if(L!==0)return L;const P=ys(g[v[N]],_[b[N]]);if(P!==0)return P}return zt(v.length,b.length)}(r.mapValue,e.mapValue);default:throw bt()}}function ry(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return zt(r,e);const i=Da(r),s=Da(e),o=zt(i.seconds,s.seconds);return o!==0?o:zt(i.nanos,s.nanos)}function sy(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=ys(i[o],s[o]);if(h)return h}return zt(i.length,s.length)}function vs(r){return xf(r)}function xf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Da(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Oa(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return Et.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=xf(h);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${xf(i.fields[d])}`;return o+"}"}(r.mapValue):bt()}function wu(r){switch(Ia(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xu(r);return e?16+wu(e):16;case 5:return 2*r.stringValue.length;case 6:return Oa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+wu(h),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Kl(s.fields,(h,d)=>{o+=h.length+wu(d)}),o}(r.mapValue);default:throw bt()}}function Uf(r){return!!r&&"integerValue"in r}function nd(r){return!!r&&"arrayValue"in r}function ly(r){return!!r&&"nullValue"in r}function oy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function gf(r){return!!r&&"mapValue"in r}function IA(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[CA])===null||i===void 0?void 0:i.stringValue)===OA}function Ul(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Kl(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Ul(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ul(r.arrayValue.values[i]);return e}return Object.assign({},r)}function VA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===DA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.value=e}static empty(){return new li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!gf(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(i)}setAll(e){let i=sn.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Ul(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());gf(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];gf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Kl(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new li(Ul(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new We(e,0,At.min(),At.min(),At.min(),li.empty(),0)}static newFoundDocument(e,i,s,o){return new We(e,1,i,At.min(),s,o,0)}static newNoDocument(e,i){return new We(e,2,i,At.min(),At.min(),li.empty(),0)}static newUnknownDocument(e,i){return new We(e,3,i,At.min(),At.min(),li.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof We&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,i){this.position=e,this.inclusive=i}}function uy(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=Et.comparator(Et.fromName(d.referenceValue),i.key):s=ys(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function cy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ci(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,i="asc"){this.field=e,this.dir=i}}function NA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{}class Ce extends Rv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new xA(e,i,s):i==="array-contains"?new LA(e,s):i==="in"?new zA(e,s):i==="not-in"?new jA(e,s):i==="array-contains-any"?new BA(e,s):new Ce(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new UA(e,s):new kA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ys(i,this.value)):i!==null&&Ia(this.value)===Ia(i)&&this.matchesComparison(ys(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends Rv{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new hi(e,i)}matches(e){return wv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function wv(r){return r.op==="and"}function Cv(r){return MA(r)&&wv(r)}function MA(r){for(const e of r.filters)if(e instanceof hi)return!1;return!0}function kf(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+vs(r.value);if(Cv(r))return r.filters.map(e=>kf(e)).join(",");{const e=r.filters.map(i=>kf(i)).join(",");return`${r.op}(${e})`}}function Dv(r,e){return r instanceof Ce?function(s,o){return o instanceof Ce&&s.op===o.op&&s.field.isEqual(o.field)&&ci(s.value,o.value)}(r,e):r instanceof hi?function(s,o){return o instanceof hi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&Dv(d,o.filters[g]),!0):!1}(r,e):void bt()}function Ov(r){return r instanceof Ce?function(i){return`${i.field.canonicalString()} ${i.op} ${vs(i.value)}`}(r):r instanceof hi?function(i){return i.op.toString()+" {"+i.getFilters().map(Ov).join(" ,")+"}"}(r):"Filter"}class xA extends Ce{constructor(e,i,s){super(e,i,s),this.key=Et.fromName(s.referenceValue)}matches(e){const i=Et.comparator(e.key,this.key);return this.matchesComparison(i)}}class UA extends Ce{constructor(e,i){super(e,"in",i),this.keys=Iv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class kA extends Ce{constructor(e,i){super(e,"not-in",i),this.keys=Iv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Iv(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>Et.fromName(s.referenceValue))}class LA extends Ce{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return nd(i)&&Ql(i.arrayValue,this.value)}}class zA extends Ce{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ql(this.value.arrayValue,i)}}class jA extends Ce{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Ql(this.value.arrayValue,i)}}class BA extends Ce{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!nd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Ql(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function hy(r,e=null,i=[],s=[],o=null,h=null,d=null){return new PA(r,e,i,s,o,h,d)}function id(r){const e=jt(r);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>kf(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),Yu(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>vs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>vs(s)).join(",")),e.le=i}return e.le}function ad(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!NA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Dv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!cy(r.startAt,e.startAt)&&cy(r.endAt,e.endAt)}function Lf(r){return Et.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function qA(r,e,i,s,o,h,d,g){return new $u(r,e,i,s,o,h,d,g)}function Vv(r){return new $u(r)}function fy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function HA(r){return r.collectionGroup!==null}function kl(r){const e=jt(r);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new De(sn.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Uu(h,s))}),i.has(sn.keyField().canonicalString())||e.he.push(new Uu(sn.keyField(),s))}return e.he}function ui(r){const e=jt(r);return e.Pe||(e.Pe=GA(e,kl(r))),e.Pe}function GA(r,e){if(r.limitType==="F")return hy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Uu(o.field,h)});const i=r.endAt?new xu(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new xu(r.startAt.position,r.startAt.inclusive):null;return hy(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function zf(r,e,i){return new $u(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Zu(r,e){return ad(ui(r),ui(e))&&r.limitType===e.limitType}function Nv(r){return`${id(ui(r))}|lt:${r.limitType}`}function us(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>Ov(o)).join(", ")}]`),Yu(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>vs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>vs(o)).join(",")),`Target(${s})`}(ui(r))}; limitType=${r.limitType})`}function Ju(r,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):Et.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(r,e)&&function(s,o){for(const h of kl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,g,v){const _=uy(d,g,v);return d.inclusive?_<=0:_<0}(s.startAt,kl(s),o)||s.endAt&&!function(d,g,v){const _=uy(d,g,v);return d.inclusive?_>=0:_>0}(s.endAt,kl(s),o))}(r,e)}function QA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Mv(r){return(e,i)=>{let s=!1;for(const o of kl(r)){const h=FA(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function FA(r,e,i){const s=r.field.isKeyField()?Et.comparator(e.key,i.key):function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?ys(v,_):bt()}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return bt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Kl(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return bA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=new pe(Et.comparator);function Va(){return KA}const xv=new pe(Et.comparator);function Ml(...r){let e=xv;for(const i of r)e=e.insert(i.key,i);return e}function YA(r){let e=xv;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function fr(){return Ll()}function Uv(){return Ll()}function Ll(){return new _r(r=>r.toString(),(r,e)=>r.isEqual(e))}const XA=new De(Et.comparator);function Bt(...r){let e=XA;for(const i of r)e=e.add(i);return e}const $A=new De(zt);function ZA(){return $A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nf(e)?"-0":e}}function WA(r){return{integerValue:""+r}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(){this._=void 0}}function tS(r,e,i){return r instanceof jf?function(o,h){const d={fields:{[Av]:{stringValue:Tv},[bv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&ed(h)&&(h=Xu(h)),h&&(d.fields[Sv]=h),{mapValue:d}}(i,e):r instanceof ku?kv(r,e):r instanceof Lu?Lv(r,e):function(o,h){const d=nS(o,h),g=dy(d)+dy(o.Ie);return Uf(d)&&Uf(o.Ie)?WA(g):JA(o.serializer,g)}(r,e)}function eS(r,e,i){return r instanceof ku?kv(r,e):r instanceof Lu?Lv(r,e):i}function nS(r,e){return r instanceof Bf?function(s){return Uf(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class jf extends Wu{}class ku extends Wu{constructor(e){super(),this.elements=e}}function kv(r,e){const i=zv(e);for(const s of r.elements)i.some(o=>ci(o,s))||i.push(s);return{arrayValue:{values:i}}}class Lu extends Wu{constructor(e){super(),this.elements=e}}function Lv(r,e){let i=zv(e);for(const s of r.elements)i=i.filter(o=>!ci(o,s));return{arrayValue:{values:i}}}class Bf extends Wu{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function dy(r){return ge(r.integerValue||r.doubleValue)}function zv(r){return nd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function iS(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof ku&&o instanceof ku||s instanceof Lu&&o instanceof Lu?ps(s.elements,o.elements,ci):s instanceof Bf&&o instanceof Bf?ci(s.Ie,o.Ie):s instanceof jf&&o instanceof jf}(r.transform,e.transform)}class gr{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class rd{}function jv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new rS(r.key,gr.none()):new sd(r.key,r.data,gr.none());{const i=r.data,s=li.empty();let o=new De(sn.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new tc(r.key,s,new Ta(o.toArray()),gr.none())}}function aS(r,e,i){r instanceof sd?function(o,h,d){const g=o.value.clone(),v=gy(o.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof tc?function(o,h,d){if(!Cu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=gy(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Bv(o)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(r,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function zl(r,e,i,s){return r instanceof sd?function(h,d,g,v){if(!Cu(h.precondition,d))return g;const _=h.value.clone(),b=py(h.fieldTransforms,v,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(r,e,i,s):r instanceof tc?function(h,d,g,v){if(!Cu(h.precondition,d))return g;const _=py(h.fieldTransforms,v,d),b=d.data;return b.setAll(Bv(h)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(N=>N.field))}(r,e,i,s):function(h,d,g){return Cu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function my(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ps(s,o,(h,d)=>iS(h,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class sd extends rd{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class tc extends rd{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Bv(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function gy(r,e,i){const s=new Map;se(r.length===i.length);for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,eS(d,g,i[o]))}return s}function py(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,tS(h,d,e))}return s}class rS extends rd{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&aS(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=zl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=zl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Uv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const v=jv(d,g);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Bt())}isEqual(e){return this.batchId===e.batchId&&ps(this.mutations,e.mutations,(i,s)=>my(i,s))&&ps(this.baseMutations,e.baseMutations,(i,s)=>my(i,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,kt;function Pv(r){if(r===void 0)return ji("GRPC error has no .code"),at.UNKNOWN;switch(r){case Ee.OK:return at.OK;case Ee.CANCELLED:return at.CANCELLED;case Ee.UNKNOWN:return at.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return at.INTERNAL;case Ee.UNAVAILABLE:return at.UNAVAILABLE;case Ee.UNAUTHENTICATED:return at.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case Ee.NOT_FOUND:return at.NOT_FOUND;case Ee.ALREADY_EXISTS:return at.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return at.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case Ee.ABORTED:return at.ABORTED;case Ee.OUT_OF_RANGE:return at.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return at.UNIMPLEMENTED;case Ee.DATA_LOSS:return at.DATA_LOSS;default:return bt()}}(kt=Ee||(Ee={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=new Ra([4294967295,4294967295],0);function yy(r){const e=uS().encode(r),i=new fv;return i.update(e),new Uint8Array(i.digest())}function vy(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ra([i,s],0),new Ra([o,h],0)]}class ld{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(s<0)throw new xl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Ra.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(Ra.fromNumber(s)));return o.compare(cS)===1&&(o=new Ra([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=yy(e),[s,o]=vy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new ld(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=yy(e),[s,o]=vy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new ec(At.min(),o,new pe(zt),Va(),Bt())}}class Yl{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Yl(s,i,Bt(),Bt(),Bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class qv{constructor(e,i){this.targetId=e,this.ge=i}}class Hv{constructor(e,i,s=Ke.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class _y{constructor(){this.pe=0,this.ye=Ey(),this.we=Ke.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Bt(),i=Bt(),s=Bt();return this.ye.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:bt()}}),new Yl(this.we,this.be,e,i,s)}Me(){this.Se=!1,this.ye=Ey()}xe(e,i){this.Se=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,se(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class hS{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Va(),this.$e=Au(),this.Ke=Au(),this.Ue=new pe(zt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:bt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const h=o.target;if(Lf(h))if(s===0){const d=new Et(h.path);this.ze(i,d,We.newNoDocument(d,At.min()))}else se(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),v=g?this.nt(g,e,d):1;if(v!==0){this.Ye(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,_)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Oa(s).toUint8Array()}catch(v){if(v instanceof Ev)return gs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new ld(d,o,h)}catch(v){return gs(v instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&Lf(g.target)){const v=new Et(g.target.path);this._t(v).has(d)||this.ut(d,v)||this.ze(d,v,We.newNoDocument(v,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let s=Bt();this.Ke.forEach((h,d)=>{let g=!0;d.forEachWhile(v=>{const _=this.Xe(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const o=new ec(e,i,this.Ue,this.Qe,s);return this.Qe=Va(),this.$e=Au(),this.Ke=Au(),this.Ue=new pe(zt),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new _y,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new De(zt),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new De(zt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new _y),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Au(){return new pe(Et.comparator)}function Ey(){return new pe(Et.comparator)}const fS={asc:"ASCENDING",desc:"DESCENDING"},dS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mS={and:"AND",or:"OR"};class gS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Pf(r,e){return r.useProto3Json||Yu(e)?e:{value:e}}function pS(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function fs(r){return se(!!r),At.fromTimestamp(function(i){const s=Da(i);return new hn(s.seconds,s.nanos)}(r))}function vS(r,e){return qf(r,e).canonicalString()}function qf(r,e){const i=function(o){return new fe(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function Gv(r){const e=fe.fromString(r);return se(Xv(e)),e}function pf(r,e){const i=Gv(e);if(i.get(1)!==r.databaseId.projectId)throw new pt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new pt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new Et(Fv(i))}function Qv(r,e){return vS(r.databaseId,e)}function _S(r){const e=Gv(r);return e.length===4?fe.emptyPath():Fv(e)}function Ty(r){return new fe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Fv(r){return se(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function ES(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:bt()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(_,b){return _.useProto3Json?(se(b===void 0||typeof b=="string"),Ke.fromBase64String(b||"")):(se(b===void 0||b instanceof Buffer||b instanceof Uint8Array),Ke.fromUint8Array(b||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const b=_.code===void 0?at.UNKNOWN:Pv(_.code);return new pt(b,_.message||"")}(d);i=new Hv(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=pf(r,s.document.name),h=fs(s.document.updateTime),d=s.document.createTime?fs(s.document.createTime):At.min(),g=new li({mapValue:{fields:s.document.fields}}),v=We.newFoundDocument(o,h,d,g),_=s.targetIds||[],b=s.removedTargetIds||[];i=new Du(_,b,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=pf(r,s.document),h=s.readTime?fs(s.readTime):At.min(),d=We.newNoDocument(o,h),g=s.removedTargetIds||[];i=new Du([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=pf(r,s.document),h=s.removedTargetIds||[];i=new Du([],h,o,null)}else{if(!("filter"in e))return bt();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new oS(o,h),g=s.targetId;i=new qv(g,d)}}return i}function TS(r,e){return{documents:[Qv(r,e.path)]}}function AS(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Qv(r,o);const h=function(_){if(_.length!==0)return Yv(hi.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(b=>function(L){return{field:cs(L.field),direction:RS(L.dir)}}(b))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Pf(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:i,parent:o}}function SS(r){let e=_S(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){se(s===1);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let h=[];i.where&&(h=function(N){const L=Kv(N);return L instanceof hi&&Cv(L)?L.getFilters():[L]}(i.where));let d=[];i.orderBy&&(d=function(N){return N.map(L=>function(J){return new Uu(hs(J.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(L))}(i.orderBy));let g=null;i.limit&&(g=function(N){let L;return L=typeof N=="object"?N.value:N,Yu(L)?null:L}(i.limit));let v=null;i.startAt&&(v=function(N){const L=!!N.before,P=N.values||[];return new xu(P,L)}(i.startAt));let _=null;return i.endAt&&(_=function(N){const L=!N.before,P=N.values||[];return new xu(P,L)}(i.endAt)),qA(e,o,d,h,g,"F",v,_)}function bS(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Kv(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=hs(i.unaryFilter.field);return Ce.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=hs(i.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=hs(i.unaryFilter.field);return Ce.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=hs(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}(r):r.fieldFilter!==void 0?function(i){return Ce.create(hs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return hi.create(i.compositeFilter.filters.map(s=>Kv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt()}}(i.compositeFilter.op))}(r):bt()}function RS(r){return fS[r]}function wS(r){return dS[r]}function CS(r){return mS[r]}function cs(r){return{fieldPath:r.canonicalString()}}function hs(r){return sn.fromServerFormat(r.fieldPath)}function Yv(r){return r instanceof Ce?function(i){if(i.op==="=="){if(oy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NAN"}};if(ly(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(oy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NAN"}};if(ly(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(i.field),op:wS(i.op),value:i.value}}}(r):r instanceof hi?function(i){const s=i.getFilters().map(o=>Yv(o));return s.length===1?s[0]:{compositeFilter:{op:CS(i.op),filters:s}}}(r):bt()}function Xv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,i,s,o,h=At.min(),d=At.min(),g=Ke.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new Aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.Tt=e}}function OS(r){const e=SS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.Tn=new VS}addToCollectionParentIndex(e,i){return this.Tn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(Ca.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(Ca.min())}updateCollectionGroup(e,i,s){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class VS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new De(fe.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new De(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$v=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn($v,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new _s(0)}static Un(){return new _s(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="LruGarbageCollector",NS=1048576;function by([r,e],[i,s]){const o=zt(r,i);return o===0?zt(e,s):o}class MS{constructor(e){this.Hn=e,this.buffer=new De(by),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();by(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class xS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){lt(Sy,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ss(i)?lt(Sy,"Ignoring IndexedDB error during garbage collection: ",i):await Fu(i)}await this.er(3e5)})}}class US{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return K.resolve(Ku.ae);const s=new MS(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Ay)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ay):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,h,d,g,v,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(s=N,g=Date.now(),this.removeTargets(e,s,i))).next(N=>(h=N,v=Date.now(),this.removeOrphanedDocuments(e,s))).next(N=>(_=Date.now(),os()<=Lt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${N} documents in `+(_-v)+`ms
Total Duration: ${_-b}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:N})))}}function kS(r,e){return new US(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.changes=new _r(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,We.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?K.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&zl(s.mutation,o,Ta.empty(),hn.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Bt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Bt()){const o=fr();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=Ml();return h.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=fr();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Bt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=Va();const d=Ll(),g=function(){return Ll()}();return i.forEach((v,_)=>{const b=s.get(_.key);o.has(_.key)&&(b===void 0||b.mutation instanceof tc)?h=h.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),zl(b.mutation,_,b.mutation.getFieldMask(),hn.now())):d.set(_.key,Ta.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,b)=>d.set(_,b)),i.forEach((_,b)=>{var N;return g.set(_,new zS(b,(N=d.get(_))!==null&&N!==void 0?N:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Ll();let o=new pe((d,g)=>d-g),h=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let b=s.get(v)||Ta.empty();b=g.applyToLocalView(_,b),s.set(v,b);const N=(o.get(g.batchId)||Bt()).add(v);o=o.insert(g.batchId,N)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,b=v.value,N=Uv();b.forEach(L=>{if(!h.has(L)){const P=jv(i.get(L),s.get(L));P!==null&&N.set(L,P),h=h.add(L)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,N))}return K.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return Et.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):HA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):K.resolve(fr());let g=ql,v=h;return d.next(_=>K.forEach(_,(b,N)=>(g<N.largestBatchId&&(g=N.largestBatchId),h.get(b)?K.resolve():this.remoteDocumentCache.getEntry(e,b).next(L=>{v=v.insert(b,L)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Bt())).next(b=>({batchId:g,changes:YA(b)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Et(i)).next(s=>{let o=Ml();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Ml();return this.indexManager.getCollectionParents(e,h).next(g=>K.forEach(g,v=>{const _=function(N,L){return new $u(L,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(b=>{b.forEach((N,L)=>{d=d.insert(N,L)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((v,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,We.newInvalidDocument(b)))});let g=Ml();return d.forEach((v,_)=>{const b=h.get(v);b!==void 0&&zl(b.mutation,_,Ta.empty(),hn.now()),Ju(i,_)&&(g=g.insert(v,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return K.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:fs(o.createTime)}}(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:OS(o.bundledQuery),readTime:fs(o.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.overlays=new pe(Et.comparator),this.Rr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const s=fr();return K.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.Et(e,i,h)}),K.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(s)),K.resolve()}getOverlaysForCollection(e,i,s){const o=fr(),h=i.length+1,d=new Et(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&o.set(v.getKey(),v)}return K.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new pe((_,b)=>_-b);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let b=h.get(_.largestBatchId);b===null&&(b=fr(),h=h.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const g=fr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,b)=>g.set(_,b)),!(g.size()>=o)););return K.resolve(g)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new lS(i,s));let h=this.Rr.get(i);h===void 0&&(h=Bt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this.Vr=new De(ze.mr),this.gr=new De(ze.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new ze(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new ze(e,i))}br(e,i){e.forEach(s=>this.removeReference(s,i))}Sr(e){const i=new Et(new fe([])),s=new ze(i,e),o=new ze(i,e+1),h=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new Et(new fe([])),s=new ze(i,e),o=new ze(i,e+1);let h=Bt();return this.gr.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new ze(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class ze{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return Et.comparator(e.key,i.key)||zt(e.Cr,i.Cr)}static pr(e,i){return zt(e.Cr,i.Cr)||Et.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new De(ze.mr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new sS(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new ze(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),h=o<0?0:o;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?TA:this.Fr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new ze(i,0),o=new ze(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([s,o],d=>{const g=this.Or(d.Cr);h.push(g)}),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new De(zt);return i.forEach(o=>{const h=new ze(o,0),d=new ze(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{s=s.add(g.Cr)})}),K.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;Et.isDocumentKey(h)||(h=h.child(""));const d=new ze(new Et(h),0);let g=new De(zt);return this.Mr.forEachWhile(v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Cr)),!0)},d),K.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){se(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return K.forEach(i.mutations,o=>{const h=new ze(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new ze(i,0),o=this.Mr.firstAfterOrEqual(s);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.kr=e,this.docs=function(){return new pe(Et.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return K.resolve(s?s.document.mutableCopy():We.newInvalidDocument(i))}getEntries(e,i){let s=Va();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():We.newInvalidDocument(o))}),K.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Va();const d=i.path,g=new Et(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:b}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||yA(pA(b),s)<=0||(o.has(b.key)||Ju(i,b))&&(h=h.insert(b.key,b.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,s,o){bt()}qr(e,i){return K.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new QS(this)}getSize(e){return K.resolve(this.size)}}class QS extends LS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),K.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.persistence=e,this.Qr=new _r(i=>id(i),ad),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$r=0,this.Kr=new od,this.targetCount=0,this.Ur=_s.Kn()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),K.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new _s(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.zn(i),K.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.Sr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),K.waitFor(h).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return K.resolve(s)}addMatchingKeys(e,i,s){return this.Kr.yr(i,s),K.resolve()}removeMatchingKeys(e,i,s){this.Kr.br(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Kr.Sr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Kr.vr(i);return K.resolve(s)}containsKey(e,i){return K.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Ku(0),this.zr=!1,this.zr=!0,this.jr=new qS,this.referenceDelegate=e(this),this.Hr=new FS(this),this.indexManager=new IS,this.remoteDocumentCache=function(o){return new GS(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new DS(i),this.Yr=new BS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new PS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new HS(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){lt("MemoryPersistence","Starting transaction:",e);const o=new KS(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(h=>this.referenceDelegate.Xr(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}ei(e,i){return K.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class KS extends _A{constructor(e){super(),this.currentSequenceNumber=e}}class ud{constructor(e){this.persistence=e,this.ti=new od,this.ni=null}static ri(e){return new ud(e)}get ii(){if(this.ni)return this.ni;throw bt()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),K.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),K.resolve()}removeTarget(e,i){this.ti.Sr(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.ii.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ii,s=>{const o=Et.fromPath(s);return this.si(e,o).next(h=>{h||i.removeEntry(o,At.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return K.or([()=>K.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class zu{constructor(e,i){this.persistence=e,this.oi=new _r(s=>AA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=kS(this,i)}static ri(e,i){return new zu(e,i)}Zr(){}Xr(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return K.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(h=>h?K.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,h.removeEntry(d,At.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),K.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=wu(e.data.value)),i}ar(e,i,s){return K.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=Bt(),o=Bt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new cd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return qE()?8:EA(jE())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new YS;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,s,o){return s.documentReadCount<this.es?(os()<=Lt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",us(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),K.resolve()):(os()<=Lt.DEBUG&&lt("QueryEngine","Query:",us(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(os()<=Lt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",us(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(i))):K.resolve())}rs(e,i){if(fy(i))return K.resolve(null);let s=ui(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=zf(i,null,"F"),s=ui(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Bt(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(v=>{const _=this.cs(i,g);return this.ls(i,_,d,v.readTime)?this.rs(e,zf(i,null,"F")):this.hs(e,_,i,v)}))})))}ss(e,i,s,o){return fy(i)||o.isEqual(At.min())?K.resolve(null):this.ns.getDocuments(e,s).next(h=>{const d=this.cs(i,h);return this.ls(i,d,s,o)?K.resolve(null):(os()<=Lt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),us(i)),this.hs(e,d,i,gA(o,ql)).next(g=>g))})}cs(e,i){let s=new De(Mv(e));return i.forEach((o,h)=>{Ju(e,h)&&(s=s.add(h))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}_s(e,i,s){return os()<=Lt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",us(i)),this.ns.getDocumentsMatchingQuery(e,i,Ca.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="LocalStore",$S=3e8;class ZS{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new pe(zt),this.Is=new _r(h=>id(h),ad),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function JS(r,e,i,s){return new ZS(r,e,i,s)}async function Jv(r,e){const i=jt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let v=Bt();for(const _ of o){d.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}for(const _ of h){g.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(s,v).next(_=>({Rs:_,removedBatchIds:d,addedBatchIds:g}))})})}function Wv(r){const e=jt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function WS(r,e){const i=jt(r),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];e.targetChanges.forEach((b,N)=>{const L=o.get(N);if(!L)return;g.push(i.Hr.removeMatchingKeys(h,b.removedDocuments,N).next(()=>i.Hr.addMatchingKeys(h,b.addedDocuments,N)));let P=L.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(N)!==null?P=P.withResumeToken(Ke.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):b.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(b.resumeToken,s)),o=o.insert(N,P),function(X,$,nt){return X.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=$S?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0}(L,P,b)&&g.push(i.Hr.updateTargetData(h,P))});let v=Va(),_=Bt();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,b))}),g.push(t1(h,d,e.documentUpdates).next(b=>{v=b.Vs,_=b.fs})),!s.isEqual(At.min())){const b=i.Hr.getLastRemoteSnapshotVersion(h).next(N=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(b)}return K.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.Ts=o,h))}function t1(r,e,i){let s=Bt(),o=Bt();return i.forEach(h=>s=s.add(h)),e.getEntries(r,s).next(h=>{let d=Va();return i.forEach((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(At.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):lt(hd,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)}),{Vs:d,fs:o}})}function e1(r,e){const i=jt(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(h=>h?(o=h,K.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new Aa(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function Hf(r,e,i){const s=jt(r),o=s.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Ss(d))throw d;lt(hd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Ry(r,e,i){const s=jt(r);let o=At.min(),h=Bt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,b){const N=jt(v),L=N.Is.get(b);return L!==void 0?K.resolve(N.Ts.get(L)):N.Hr.getTargetData(_,b)}(s,d,ui(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(v=>{h=v})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:At.min(),i?h:Bt())).next(g=>(n1(s,QA(e),g),{documents:g,gs:h})))}function n1(r,e,i){let s=r.Es.get(e)||At.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),r.Es.set(e,s)}class wy{constructor(){this.activeTargetIds=ZA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i1{constructor(){this.ho=new wy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new wy,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="ConnectivityMonitor";class Dy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){lt(Cy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){lt(Cy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su=null;function Gf(){return Su===null?Su=function(){return 268435456+Math.round(2147483648*Math.random())}():Su++,"0x"+Su.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="RestConnection",r1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class s1{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Mu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,i,s,o,h){const d=Gf(),g=this.So(e,i.toUriEncodedString());lt(yf,`Sending RPC '${e}' ${d}:`,g,s);const v={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(v,o,h),this.vo(e,g,v,s).then(_=>(lt(yf,`Received RPC '${e}' ${d}: `,_),_),_=>{throw gs(yf,`RPC '${e}' ${d} failed with error: `,_,"url: ",g,"request:",s),_})}Co(e,i,s,o,h,d){return this.bo(e,i,s,o,h)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+As}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}So(e,i){const s=r1[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class o1 extends s1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const h=Gf();return new Promise((d,g)=>{const v=new dv;v.setWithCredentials(!0),v.listenOnce(mv.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Ru.NO_ERROR:const b=v.getResponseJson();lt(Ze,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),d(b);break;case Ru.TIMEOUT:lt(Ze,`RPC '${e}' ${h} timed out`),g(new pt(at.DEADLINE_EXCEEDED,"Request time out"));break;case Ru.HTTP_ERROR:const N=v.getStatus();if(lt(Ze,`RPC '${e}' ${h} failed with status:`,N,"response text:",v.getResponseText()),N>0){let L=v.getResponseJson();Array.isArray(L)&&(L=L[0]);const P=L==null?void 0:L.error;if(P&&P.status&&P.message){const J=function($){const nt=$.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(nt)>=0?nt:at.UNKNOWN}(P.status);g(new pt(J,P.message))}else g(new pt(at.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new pt(at.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{lt(Ze,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);lt(Ze,`RPC '${e}' ${h} sending request:`,o),v.send(i,"POST",_,s,15)})}Wo(e,i,s){const o=Gf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=yv(),g=pv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Do(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const b=h.join("");lt(Ze,`Creating RPC '${e}' stream ${o}: ${b}`,v);const N=d.createWebChannel(b,v);let L=!1,P=!1;const J=new l1({Fo:$=>{P?lt(Ze,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(L||(lt(Ze,`Opening RPC '${e}' stream ${o} transport.`),N.open(),L=!0),lt(Ze,`RPC '${e}' stream ${o} sending:`,$),N.send($))},Mo:()=>N.close()}),X=($,nt,ot)=>{$.listen(nt,ht=>{try{ot(ht)}catch(_t){setTimeout(()=>{throw _t},0)}})};return X(N,Nl.EventType.OPEN,()=>{P||(lt(Ze,`RPC '${e}' stream ${o} transport opened.`),J.Qo())}),X(N,Nl.EventType.CLOSE,()=>{P||(P=!0,lt(Ze,`RPC '${e}' stream ${o} transport closed`),J.Ko())}),X(N,Nl.EventType.ERROR,$=>{P||(P=!0,gs(Ze,`RPC '${e}' stream ${o} transport errored:`,$),J.Ko(new pt(at.UNAVAILABLE,"The operation could not be completed")))}),X(N,Nl.EventType.MESSAGE,$=>{var nt;if(!P){const ot=$.data[0];se(!!ot);const ht=ot,_t=(ht==null?void 0:ht.error)||((nt=ht[0])===null||nt===void 0?void 0:nt.error);if(_t){lt(Ze,`RPC '${e}' stream ${o} received error:`,_t);const mt=_t.status;let rt=function(A){const w=Ee[A];if(w!==void 0)return Pv(w)}(mt),R=_t.message;rt===void 0&&(rt=at.INTERNAL,R="Unknown error status: "+mt+" with message "+_t.message),P=!0,J.Ko(new pt(rt,R)),N.close()}else lt(Ze,`RPC '${e}' stream ${o} received:`,ot),J.Uo(ot)}}),X(g,gv.STAT_EVENT,$=>{$.stat===Vf.PROXY?lt(Ze,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===Vf.NOPROXY&&lt(Ze,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{J.$o()},0),J}}function vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(r){return new gS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="PersistentStream";class u1{constructor(e,i,s,o,h,d,g,v){this.Ti=e,this.n_=s,this.r_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new e_(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===at.RESOURCE_EXHAUSTED?(ji(i.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new pt(at.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return lt(Oy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(lt(Oy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class c1 extends u1{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=ES(this.serializer,e),s=function(h){if(!("targetChange"in h))return At.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?fs(d.readTime):At.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=Ty(this.serializer),i.addTarget=function(h,d){let g;const v=d.target;if(g=Lf(v)?{documents:TS(h,v)}:{query:AS(h,v).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=yS(h,d.resumeToken);const _=Pf(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=pS(h,d.snapshotVersion.toTimestamp());const _=Pf(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const s=bS(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=Ty(this.serializer),i.removeTarget=e,this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{}class f1 extends h1{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new pt(at.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.bo(e,qf(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new pt(at.UNKNOWN,h.toString())})}Co(e,i,s,o,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,qf(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pt(at.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class d1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ji(i),this.N_=!1):lt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="RemoteStore";class m1{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{s.enqueueAndForget(async()=>{$l(this)&&(lt(Es,"Restarting streams for network reachability change."),await async function(v){const _=jt(v);_.W_.add(4),await Xl(_),_.j_.set("Unknown"),_.W_.delete(4),await nc(_)}(this))})}),this.j_=new d1(s,o)}}async function nc(r){if($l(r))for(const e of r.G_)await e(!0)}async function Xl(r){for(const e of r.G_)await e(!1)}function n_(r,e){const i=jt(r);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),gd(i)?md(i):bs(i).c_()&&dd(i,e))}function fd(r,e){const i=jt(r),s=bs(i);i.U_.delete(e),s.c_()&&i_(i,e),i.U_.size===0&&(s.c_()?s.P_():$l(i)&&i.j_.set("Unknown"))}function dd(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}bs(r).y_(e)}function i_(r,e){r.H_.Ne(e),bs(r).w_(e)}function md(r){r.H_=new hS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),bs(r).start(),r.j_.B_()}function gd(r){return $l(r)&&!bs(r).u_()&&r.U_.size>0}function $l(r){return jt(r).W_.size===0}function a_(r){r.H_=void 0}async function g1(r){r.j_.set("Online")}async function p1(r){r.U_.forEach((e,i)=>{dd(r,e)})}async function y1(r,e){a_(r),gd(r)?(r.j_.q_(e),md(r)):r.j_.set("Unknown")}async function v1(r,e,i){if(r.j_.set("Online"),e instanceof Hv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.U_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.U_.delete(g),o.H_.removeTarget(g))}(r,e)}catch(s){lt(Es,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Iy(r,s)}else if(e instanceof Du?r.H_.We(e):e instanceof qv?r.H_.Ze(e):r.H_.je(e),!i.isEqual(At.min()))try{const s=await Wv(r.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const b=h.U_.get(_);b&&h.U_.set(_,b.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach((v,_)=>{const b=h.U_.get(v);if(!b)return;h.U_.set(v,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),i_(h,v);const N=new Aa(b.target,v,_,b.sequenceNumber);dd(h,N)}),h.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){lt(Es,"Failed to raise snapshot:",s),await Iy(r,s)}}async function Iy(r,e,i){if(!Ss(e))throw e;r.W_.add(1),await Xl(r),r.j_.set("Offline"),i||(i=()=>Wv(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{lt(Es,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await nc(r)})}async function Vy(r,e){const i=jt(r);i.asyncQueue.verifyOperationInProgress(),lt(Es,"RemoteStore received new credentials");const s=$l(i);i.W_.add(3),await Xl(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await nc(i)}async function _1(r,e){const i=jt(r);e?(i.W_.delete(2),await nc(i)):e||(i.W_.add(2),await Xl(i),i.j_.set("Unknown"))}function bs(r){return r.J_||(r.J_=function(i,s,o){const h=jt(i);return h.M_(),new c1(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{xo:g1.bind(null,r),No:p1.bind(null,r),Lo:y1.bind(null,r),p_:v1.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),gd(r)?md(r):r.j_.set("Unknown")):(await r.J_.stop(),a_(r))})),r.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new pd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(at.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function r_(r,e){if(ji("AsyncQueue",`${e}: ${r}`),Ss(r))return new pt(at.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{static emptySet(e){return new ds(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||Et.comparator(i.key,s.key):(i,s)=>Et.comparator(i.key,s.key),this.keyedMap=Ml(),this.sortedSet=new pe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ds)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ds;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this.Z_=new pe(Et.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):bt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ts{constructor(e,i,s,o,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ts(e,i,ds.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class T1{constructor(){this.queries=My(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=jt(i),h=o.queries;o.queries=My(),h.forEach((d,g)=>{for(const v of g.ta)v.onError(s)})})(this,new pt(at.ABORTED,"Firestore shutting down"))}}function My(){return new _r(r=>Nv(r),Zu)}async function A1(r,e){const i=jt(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.na()&&e.ra()&&(s=2):(h=new E1,s=e.ra()?0:1);try{switch(s){case 0:h.ea=await i.onListen(o,!0);break;case 1:h.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=r_(d,`Initialization of query '${us(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&yd(i)}async function S1(r,e){const i=jt(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?o=e.ra()?0:1:!h.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function b1(r,e){const i=jt(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(o)&&(s=!0);d.ea=o}}s&&yd(i)}function R1(r,e,i){const s=jt(r),o=s.queries.get(e);if(o)for(const h of o.ta)h.onError(i);s.queries.delete(e)}function yd(r){r.ia.forEach(e=>{e.next()})}var Qf,xy;(xy=Qf||(Qf={}))._a="default",xy.Cache="cache";class w1{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ts(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ts.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Qf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e){this.key=e}}class l_{constructor(e){this.key=e}}class C1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Bt(),this.mutatedKeys=Bt(),this.ya=Mv(e),this.wa=new ds(this.ya)}get ba(){return this.fa}Sa(e,i){const s=i?i.Da:new Ny,o=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,N)=>{const L=o.get(b),P=Ju(this.query,N)?N:null,J=!!L&&this.mutatedKeys.has(L.key),X=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let $=!1;L&&P?L.data.isEqual(P.data)?J!==X&&(s.track({type:3,doc:P}),$=!0):this.va(L,P)||(s.track({type:2,doc:P}),$=!0,(v&&this.ya(P,v)>0||_&&this.ya(P,_)<0)&&(g=!0)):!L&&P?(s.track({type:0,doc:P}),$=!0):L&&!P&&(s.track({type:1,doc:L}),$=!0,(v||_)&&(g=!0)),$&&(P?(d=d.add(P),h=X?h.add(b):h.delete(b)):(d=d.delete(b),h=h.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),h=h.delete(b.key),s.track({type:1,doc:b})}return{wa:d,Da:s,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((b,N)=>function(P,J){const X=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return X(P)-X(J)}(b.type,N.type)||this.ya(b.doc,N.doc)),this.Ca(s),o=o!=null&&o;const g=i&&!o?this.Fa():[],v=this.pa.size===0&&this.current&&!o?1:0,_=v!==this.ga;return this.ga=v,d.length!==0||_?{snapshot:new Ts(this.query,e.wa,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ny,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Bt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new l_(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new s_(s))}),i}Oa(e){this.fa=e.gs,this.pa=Bt();const i=this.Sa(e.documents);return this.applyChanges(i,!0)}Na(){return Ts.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const vd="SyncEngine";class D1{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class O1{constructor(e){this.key=e,this.Ba=!1}}class I1{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new _r(g=>Nv(g),Zu),this.qa=new Map,this.Qa=new Set,this.$a=new pe(Et.comparator),this.Ka=new Map,this.Ua=new od,this.Wa={},this.Ga=new Map,this.za=_s.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function V1(r,e,i=!0){const s=f_(r);let o;const h=s.ka.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.Na()):o=await o_(s,e,i,!0),o}async function N1(r,e){const i=f_(r);await o_(i,e,!0,!1)}async function o_(r,e,i,s){const o=await e1(r.localStore,ui(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await M1(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&n_(r.remoteStore,o),g}async function M1(r,e,i,s,o){r.Ha=(N,L,P)=>async function(X,$,nt,ot){let ht=$.view.Sa(nt);ht.ls&&(ht=await Ry(X.localStore,$.query,!1).then(({documents:R})=>$.view.Sa(R,ht)));const _t=ot&&ot.targetChanges.get($.targetId),mt=ot&&ot.targetMismatches.get($.targetId)!=null,rt=$.view.applyChanges(ht,X.isPrimaryClient,_t,mt);return ky(X,$.targetId,rt.Ma),rt.snapshot}(r,N,L,P);const h=await Ry(r.localStore,e,!0),d=new C1(e,h.gs),g=d.Sa(h.documents),v=Yl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),_=d.applyChanges(g,r.isPrimaryClient,v);ky(r,i,_.Ma);const b=new D1(e,i,d);return r.ka.set(e,b),r.qa.has(i)?r.qa.get(i).push(e):r.qa.set(i,[e]),_.snapshot}async function x1(r,e,i){const s=jt(r),o=s.ka.get(e),h=s.qa.get(o.targetId);if(h.length>1)return s.qa.set(o.targetId,h.filter(d=>!Zu(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Hf(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&fd(s.remoteStore,o.targetId),Ff(s,o.targetId)}).catch(Fu)):(Ff(s,o.targetId),await Hf(s.localStore,o.targetId,!0))}async function U1(r,e){const i=jt(r),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),fd(i.remoteStore,s.targetId))}async function u_(r,e){const i=jt(r);try{const s=await WS(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Ka.get(h);d&&(se(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?se(d.Ba):o.removedDocuments.size>0&&(se(d.Ba),d.Ba=!1))}),await h_(i,s,e)}catch(s){await Fu(s)}}function Uy(r,e,i){const s=jt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const v=jt(d);v.onlineState=g;let _=!1;v.queries.forEach((b,N)=>{for(const L of N.ta)L.sa(g)&&(_=!0)}),_&&yd(v)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function k1(r,e,i){const s=jt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ka.get(e),h=o&&o.key;if(h){let d=new pe(Et.comparator);d=d.insert(h,We.newNoDocument(h,At.min()));const g=Bt().add(h),v=new ec(At.min(),new Map,new pe(zt),d,g);await u_(s,v),s.$a=s.$a.remove(h),s.Ka.delete(e),_d(s)}else await Hf(s.localStore,e,!1).then(()=>Ff(s,e,i)).catch(Fu)}function Ff(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||c_(r,s)})}function c_(r,e){r.Qa.delete(e.path.canonicalString());const i=r.$a.get(e);i!==null&&(fd(r.remoteStore,i),r.$a=r.$a.remove(e),r.Ka.delete(i),_d(r))}function ky(r,e,i){for(const s of i)s instanceof s_?(r.Ua.addReference(s.key,e),L1(r,s)):s instanceof l_?(lt(vd,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||c_(r,s.key)):bt()}function L1(r,e){const i=e.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(lt(vd,"New document in limbo: "+i),r.Qa.add(s),_d(r))}function _d(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const i=new Et(fe.fromString(e)),s=r.za.next();r.Ka.set(s,new O1(i)),r.$a=r.$a.insert(i,s),n_(r.remoteStore,new Aa(ui(Vv(i.path)),s,"TargetPurposeLimboResolution",Ku.ae))}}async function h_(r,e,i){const s=jt(r),o=[],h=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,v)=>{d.push(s.Ha(v,e,i).then(_=>{var b;if((_||i)&&s.isPrimaryClient){const N=_?!_.fromCache:(b=i==null?void 0:i.targetChanges.get(v.targetId))===null||b===void 0?void 0:b.current;s.sharedClientState.updateQueryState(v.targetId,N?"current":"not-current")}if(_){o.push(_);const N=cd.Yi(v.targetId,_);h.push(N)}}))}),await Promise.all(d),s.La.p_(o),await async function(v,_){const b=jt(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>K.forEach(_,L=>K.forEach(L.Hi,P=>b.persistence.referenceDelegate.addReference(N,L.targetId,P)).next(()=>K.forEach(L.Ji,P=>b.persistence.referenceDelegate.removeReference(N,L.targetId,P)))))}catch(N){if(!Ss(N))throw N;lt(hd,"Failed to update sequence numbers: "+N)}for(const N of _){const L=N.targetId;if(!N.fromCache){const P=b.Ts.get(L),J=P.snapshotVersion,X=P.withLastLimboFreeSnapshotVersion(J);b.Ts=b.Ts.insert(L,X)}}}(s.localStore,h))}async function z1(r,e){const i=jt(r);if(!i.currentUser.isEqual(e)){lt(vd,"User change. New user:",e.toKey());const s=await Jv(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(v=>{v.reject(new pt(at.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await h_(i,s.Rs)}}function j1(r,e){const i=jt(r),s=i.Ka.get(e);if(s&&s.Ba)return Bt().add(s.key);{let o=Bt();const h=i.qa.get(e);if(!h)return o;for(const d of h){const g=i.ka.get(d);o=o.unionWith(g.view.ba)}return o}}function f_(r){const e=jt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=u_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k1.bind(null,e),e.La.p_=b1.bind(null,e.eventManager),e.La.Ja=R1.bind(null,e.eventManager),e}class ju{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=t_(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return JS(this.persistence,new XS,e.initialUser,this.serializer)}Xa(e){return new Zv(ud.ri,this.serializer)}Za(e){return new i1}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ju.provider={build:()=>new ju};class B1 extends ju{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){se(this.persistence.referenceDelegate instanceof zu);const s=this.persistence.referenceDelegate.garbageCollector;return new xS(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new Zv(s=>zu.ri(s,i),this.serializer)}}class Kf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Uy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=z1.bind(null,this.syncEngine),await _1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new T1}()}createDatastore(e){const i=t_(e.databaseInfo.databaseId),s=function(h){return new o1(h)}(e.databaseInfo);return function(h,d,g,v){return new f1(h,d,g,v)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new m1(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>Uy(this.syncEngine,i,0),function(){return Dy.D()?new Dy:new a1}())}createSyncEngine(e,i){return function(o,h,d,g,v,_,b){const N=new I1(o,h,d,g,v,_);return b&&(N.ja=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=jt(o);lt(Es,"RemoteStore shutting down."),h.W_.add(5),await Xl(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Kf.provider={build:()=>new Kf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="FirestoreClient";class q1{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=dA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{lt(Na,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(lt(Na,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=r_(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function _f(r,e){r.asyncQueue.verifyOperationInProgress(),lt(Na,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Jv(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Ly(r,e){r.asyncQueue.verifyOperationInProgress();const i=await H1(r);lt(Na,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>Vy(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Vy(e.remoteStore,o)),r._onlineComponents=e}async function H1(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(Na,"Using user provided OfflineComponentProvider");try{await _f(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===at.FAILED_PRECONDITION||o.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;gs("Error using user provided cache. Falling back to memory cache: "+i),await _f(r,new ju)}}else lt(Na,"Using default OfflineComponentProvider"),await _f(r,new B1(void 0));return r._offlineComponents}async function G1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(Na,"Using user provided OnlineComponentProvider"),await Ly(r,r._uninitializedComponentsProvider._online)):(lt(Na,"Using default OnlineComponentProvider"),await Ly(r,new Kf))),r._onlineComponents}async function Q1(r){const e=await G1(r),i=e.eventManager;return i.onListen=V1.bind(null,e.syncEngine),i.onUnlisten=x1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=N1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=U1.bind(null,e.syncEngine),i}function F1(r,e,i={}){const s=new mr;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,g,v,_){const b=new P1({next:L=>{b.su(),d.enqueueAndForget(()=>S1(h,N)),L.fromCache&&v.source==="server"?_.reject(new pt(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(L)},error:L=>_.reject(L)}),N=new w1(g,b,{includeMetadataChanges:!0,Ta:!0});return A1(h,N)}(await Q1(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(r,e,i){if(!i)throw new pt(at.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Y1(r,e,i,s){if(e===!0&&s===!0)throw new pt(at.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function jy(r){if(Et.isDocumentKey(r))throw new pt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function X1(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":bt()}function Yf(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=X1(r);throw new pt(at.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="firestore.googleapis.com",By=!0;class Py{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new pt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m_,this.ssl=By}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:By;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$v;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NS)throw new pt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new pt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new pt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new pt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ed{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Py({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Py(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new sA;switch(s.type){case"firstParty":return new cA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=zy.get(i);s&&(lt("ComponentProvider","Removing Datastore"),zy.delete(i),s.terminate())}(this),Promise.resolve()}}function $1(r,e,i,s={}){var o;const h=(r=Yf(r,Ed))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==m_&&h.host!==g&&gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:s});if(!Bl(v,d)&&(r._setSettings(v),s.mockUserToken)){let _,b;if(typeof s.mockUserToken=="string")_=s.mockUserToken,b=Je.MOCK_USER;else{_=zE(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new pt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Je(N)}r._authCredentials=new lA(new vv(_,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ic(this.firestore,e,this._query)}}class Rs{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rs(this.firestore,e,this._key)}}class ms extends ic{constructor(e,i,s){super(e,i,Vv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rs(this.firestore,null,new Et(e))}withConverter(e){return new ms(this.firestore,e,this._path)}}function Ef(r,e,...i){if(r=Zf(r),K1("collection","path",e),r instanceof Ed){const s=fe.fromString(e,...i);return jy(s),new ms(r,null,s)}{if(!(r instanceof Rs||r instanceof ms))throw new pt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(fe.fromString(e,...i));return jy(s),new ms(r.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="AsyncQueue";class Hy{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new e_(this,"async_queue_retry"),this.bu=()=>{const s=vf();s&&lt(qy,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const i=vf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=vf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new mr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ss(e))throw e;lt(qy,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw ji("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=pd.createAndSchedule(this,e,i,s,h=>this.Fu(h));return this.fu.push(o),o}Du(){this.gu&&bt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class g_ extends Ed{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new Hy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hy(e),this._firestoreClient=void 0,await e}}}function Z1(r,e){const i=typeof r=="object"?r:uv(),s=typeof r=="string"?r:Mu,o=Fl(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=kE("firestore");h&&$1(o,...h)}return o}function J1(r){if(r._terminated)throw new pt(at.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||W1(r),r._firestoreClient}function W1(r){var e,i,s;const o=r._freezeSettings(),h=function(g,v,_,b){return new wA(g,v,_,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,d_(b.experimentalLongPollingOptions),b.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new q1(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bu(Ke.fromBase64String(e))}catch(i){throw new pt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Bu(Ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new pt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new pt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new pt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}}const nb=new RegExp("[~\\*/\\[\\]]");function ib(r,e,i){if(e.search(nb)>=0)throw Gy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r);try{return new p_(...e.split("."))._internalPath}catch{throw Gy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r)}}function Gy(r,e,i,s,o){let h=`Function ${e}() called with invalid data`;h+=". ";let d="";return new pt(at.INVALID_ARGUMENT,h+r+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Rs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ab(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(v_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class ab extends y_{data(){return super.data()}}function v_(r,e){return typeof e=="string"?ib(r,e):e instanceof p_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sb{convertValue(e,i="none"){switch(Ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw bt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Kl(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Mf].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>ge(d.doubleValue));return new eb(h)}convertGeoPoint(e){return new tb(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Xu(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const i=Da(e);return new hn(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=fe.fromString(e);se(Xv(s));const o=new Gl(s.get(1),s.get(3)),h=new Et(s.popFirst(5));return o.isEqual(i)||ji(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lb extends y_{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(v_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Ou extends lb{data(e={}){return super.data(e)}}class ob{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new bu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Ou(this._firestore,this._userDataWriter,s.key,s,new bu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new pt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const v=new Ou(o._firestore,o._userDataWriter,g.doc.key,g.doc,new bu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const v=new Ou(o._firestore,o._userDataWriter,g.doc.key,g.doc,new bu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,b=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:ub(g.type),doc:v,oldIndex:_,newIndex:b}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function ub(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}class cb extends sb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bu(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Rs(this.firestore,null,i)}}function Tf(r){r=Yf(r,ic);const e=Yf(r.firestore,g_),i=J1(e),s=new cb(e);return rb(r._query),F1(i,r._query).then(o=>new ob(e,s,r,o))}(function(e,i=!0){(function(o){As=o})(XT),wa(new Li("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new g_(new oA(s.getProvider("auth-internal")),new hA(d,s.getProvider("app-check-internal")),function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new pt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(_.options.projectId,b)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),oi($p,Zp,e),oi($p,Zp,"esm2017")})();var hb="firebase",fb="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(hb,fb,"app");const __="@firebase/installations",Td="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=1e4,T_=`w:${Td}`,A_="FIS_v2",db="https://firebaseinstallations.googleapis.com/v1",mb=60*60*1e3,gb="installations",pb="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},yr=new Qu(gb,pb,yb);function S_(r){return r instanceof Ma&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_({projectId:r}){return`${db}/projects/${r}/installations`}function R_(r){return{token:r.token,requestStatus:2,expiresIn:_b(r.expiresIn),creationTime:Date.now()}}async function w_(r,e){const s=(await e.json()).error;return yr.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function C_({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function vb(r,{refreshToken:e}){const i=C_(r);return i.append("Authorization",Eb(e)),i}async function D_(r){const e=await r();return e.status>=500&&e.status<600?r():e}function _b(r){return Number(r.replace("s","000"))}function Eb(r){return`${A_} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tb({appConfig:r,heartbeatServiceProvider:e},{fid:i}){const s=b_(r),o=C_(r),h=e.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const d={fid:i,authVersion:A_,appId:r.appId,sdkVersion:T_},g={method:"POST",headers:o,body:JSON.stringify(d)},v=await D_(()=>fetch(s,g));if(v.ok){const _=await v.json();return{fid:_.fid||i,registrationStatus:2,refreshToken:_.refreshToken,authToken:R_(_.authToken)}}else throw await w_("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=/^[cdef][\w-]{21}$/,Xf="";function bb(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=Rb(r);return Sb.test(i)?i:Xf}catch{return Xf}}function Rb(r){return Ab(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new Map;function V_(r,e){const i=ac(r);N_(i,e),wb(i,e)}function N_(r,e){const i=I_.get(r);if(i)for(const s of i)s(e)}function wb(r,e){const i=Cb();i&&i.postMessage({key:r,fid:e}),Db()}let dr=null;function Cb(){return!dr&&"BroadcastChannel"in self&&(dr=new BroadcastChannel("[Firebase] FID Change"),dr.onmessage=r=>{N_(r.data.key,r.data.fid)}),dr}function Db(){I_.size===0&&dr&&(dr.close(),dr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="firebase-installations-database",Ib=1,vr="firebase-installations-store";let Af=null;function Ad(){return Af||(Af=lv(Ob,Ib,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(vr)}}})),Af}async function Pu(r,e){const i=ac(r),o=(await Ad()).transaction(vr,"readwrite"),h=o.objectStore(vr),d=await h.get(i);return await h.put(e,i),await o.done,(!d||d.fid!==e.fid)&&V_(r,e.fid),e}async function M_(r){const e=ac(r),s=(await Ad()).transaction(vr,"readwrite");await s.objectStore(vr).delete(e),await s.done}async function rc(r,e){const i=ac(r),o=(await Ad()).transaction(vr,"readwrite"),h=o.objectStore(vr),d=await h.get(i),g=e(d);return g===void 0?await h.delete(i):await h.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&V_(r,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sd(r){let e;const i=await rc(r.appConfig,s=>{const o=Vb(s),h=Nb(r,o);return e=h.registrationPromise,h.installationEntry});return i.fid===Xf?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function Vb(r){const e=r||{fid:bb(),registrationStatus:0};return x_(e)}function Nb(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(yr.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=Mb(r,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:xb(r)}:{installationEntry:e}}async function Mb(r,e){try{const i=await Tb(r,e);return Pu(r.appConfig,i)}catch(i){throw S_(i)&&i.customData.serverCode===409?await M_(r.appConfig):await Pu(r.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function xb(r){let e=await Qy(r.appConfig);for(;e.registrationStatus===1;)await O_(100),e=await Qy(r.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await Sd(r);return s||i}return e}function Qy(r){return rc(r,e=>{if(!e)throw yr.create("installation-not-found");return x_(e)})}function x_(r){return Ub(r)?{fid:r.fid,registrationStatus:0}:r}function Ub(r){return r.registrationStatus===1&&r.registrationTime+E_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kb({appConfig:r,heartbeatServiceProvider:e},i){const s=Lb(r,i),o=vb(r,i),h=e.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const d={installation:{sdkVersion:T_,appId:r.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},v=await D_(()=>fetch(s,g));if(v.ok){const _=await v.json();return R_(_)}else throw await w_("Generate Auth Token",v)}function Lb(r,{fid:e}){return`${b_(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(r,e=!1){let i;const s=await rc(r.appConfig,h=>{if(!U_(h))throw yr.create("not-registered");const d=h.authToken;if(!e&&Bb(d))return h;if(d.requestStatus===1)return i=zb(r,e),h;{if(!navigator.onLine)throw yr.create("app-offline");const g=qb(h);return i=jb(r,g),g}});return i?await i:s.authToken}async function zb(r,e){let i=await Fy(r.appConfig);for(;i.authToken.requestStatus===1;)await O_(100),i=await Fy(r.appConfig);const s=i.authToken;return s.requestStatus===0?bd(r,e):s}function Fy(r){return rc(r,e=>{if(!U_(e))throw yr.create("not-registered");const i=e.authToken;return Hb(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function jb(r,e){try{const i=await kb(r,e),s=Object.assign(Object.assign({},e),{authToken:i});return await Pu(r.appConfig,s),i}catch(i){if(S_(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await M_(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Pu(r.appConfig,s)}throw i}}function U_(r){return r!==void 0&&r.registrationStatus===2}function Bb(r){return r.requestStatus===2&&!Pb(r)}function Pb(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+mb}function qb(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function Hb(r){return r.requestStatus===1&&r.requestTime+E_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gb(r){const e=r,{installationEntry:i,registrationPromise:s}=await Sd(e);return s?s.catch(console.error):bd(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb(r,e=!1){const i=r;return await Fb(i),(await bd(i,e)).token}async function Fb(r){const{registrationPromise:e}=await Sd(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(r){if(!r||!r.options)throw Sf("App Configuration");if(!r.name)throw Sf("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!r.options[i])throw Sf(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Sf(r){return yr.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="installations",Yb="installations-internal",Xb=r=>{const e=r.getProvider("app").getImmediate(),i=Kb(e),s=Fl(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},$b=r=>{const e=r.getProvider("app").getImmediate(),i=Fl(e,k_).getImmediate();return{getId:()=>Gb(i),getToken:o=>Qb(i,o)}};function Zb(){wa(new Li(k_,Xb,"PUBLIC")),wa(new Li(Yb,$b,"PRIVATE"))}Zb();oi(__,Td);oi(__,Td,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu="analytics",Jb="firebase_id",Wb="origin",tR=60*1e3,eR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new Jf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Tn=new Qu("analytics","Analytics",nR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(r){if(!r.startsWith(Rd)){const e=Tn.create("invalid-gtag-resource",{gtagURL:r});return fn.warn(e.message),""}return r}function L_(r){return Promise.all(r.map(e=>e.catch(i=>i)))}function aR(r,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,e)),i}function rR(r,e){const i=aR("firebase-js-sdk-policy",{createScriptURL:iR}),s=document.createElement("script"),o=`${Rd}?l=${r}&id=${e}`;s.src=i?i==null?void 0:i.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function sR(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function lR(r,e,i,s,o,h){const d=s[o];try{if(d)await e[d];else{const v=(await L_(i)).find(_=>_.measurementId===o);v&&await e[v.appId]}}catch(g){fn.error(g)}r("config",o,h)}async function oR(r,e,i,s,o){try{let h=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await L_(i);for(const v of d){const _=g.find(N=>N.measurementId===v),b=_&&e[_.appId];if(b)h.push(b);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),r("event",s,o||{})}catch(h){fn.error(h)}}function uR(r,e,i,s){async function o(h,...d){try{if(h==="event"){const[g,v]=d;await oR(r,e,i,g,v)}else if(h==="config"){const[g,v]=d;await lR(r,e,i,s,g,v)}else if(h==="consent"){const[g,v]=d;r("consent",g,v)}else if(h==="get"){const[g,v,_]=d;r("get",g,v,_)}else if(h==="set"){const[g]=d;r("set",g)}else r(h,...d)}catch(g){fn.error(g)}}return o}function cR(r,e,i,s,o){let h=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(h=window[o]),window[o]=uR(h,r,e,i),{gtagCore:h,wrappedGtag:window[o]}}function hR(r){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(Rd)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=30,dR=1e3;class mR{constructor(e={},i=dR){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const z_=new mR;function gR(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function pR(r){var e;const{appId:i,apiKey:s}=r,o={method:"GET",headers:gR(s)},h=eR.replace("{app-id}",i),d=await fetch(h,o);if(d.status!==200&&d.status!==304){let g="";try{const v=await d.json();!((e=v.error)===null||e===void 0)&&e.message&&(g=v.error.message)}catch{}throw Tn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:g})}return d.json()}async function yR(r,e=z_,i){const{appId:s,apiKey:o,measurementId:h}=r.options;if(!s)throw Tn.create("no-app-id");if(!o){if(h)return{measurementId:h,appId:s};throw Tn.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new ER;return setTimeout(async()=>{g.abort()},tR),j_({appId:s,apiKey:o,measurementId:h},d,g,e)}async function j_(r,{throttleEndTimeMillis:e,backoffCount:i},s,o=z_){var h;const{appId:d,measurementId:g}=r;try{await vR(s,e)}catch(v){if(g)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:d,measurementId:g};throw v}try{const v=await pR(r);return o.deleteThrottleMetadata(d),v}catch(v){const _=v;if(!_R(_)){if(o.deleteThrottleMetadata(d),g)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:d,measurementId:g};throw v}const b=Number((h=_==null?void 0:_.customData)===null||h===void 0?void 0:h.httpStatus)===503?Bp(i,o.intervalMillis,fR):Bp(i,o.intervalMillis),N={throttleEndTimeMillis:Date.now()+b,backoffCount:i+1};return o.setThrottleMetadata(d,N),fn.debug(`Calling attemptFetch again in ${b} millis`),j_(r,N,s,o)}}function vR(r,e){return new Promise((i,s)=>{const o=Math.max(e-Date.now(),0),h=setTimeout(i,o);r.addEventListener(()=>{clearTimeout(h),s(Tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _R(r){if(!(r instanceof Ma)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class ER{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function TR(r,e,i,s,o){if(o&&o.global){r("event",i,s);return}else{const h=await e,d=Object.assign(Object.assign({},s),{send_to:h});r("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(){if(iv())try{await av()}catch(r){return fn.warn(Tn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return fn.warn(Tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function SR(r,e,i,s,o,h,d){var g;const v=yR(r);v.then(P=>{i[P.measurementId]=P.appId,r.options.measurementId&&P.measurementId!==r.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${P.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(P=>fn.error(P)),e.push(v);const _=AR().then(P=>{if(P)return s.getId()}),[b,N]=await Promise.all([v,_]);hR(h)||rR(h,b.measurementId),o("js",new Date);const L=(g=d==null?void 0:d.config)!==null&&g!==void 0?g:{};return L[Wb]="firebase",L.update=!0,N!=null&&(L[Jb]=N),o("config",b.measurementId,L),b.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.app=e}_delete(){return delete jl[this.app.options.appId],Promise.resolve()}}let jl={},Ky=[];const Yy={};let bf="dataLayer",RR="gtag",Xy,B_,$y=!1;function wR(){const r=[];if(PE()&&r.push("This is a browser extension environment."),HE()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=Tn.create("invalid-analytics-context",{errorInfo:e});fn.warn(i.message)}}function CR(r,e,i){wR();const s=r.options.appId;if(!s)throw Tn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Tn.create("no-api-key");if(jl[s]!=null)throw Tn.create("already-exists",{id:s});if(!$y){sR(bf);const{wrappedGtag:h,gtagCore:d}=cR(jl,Ky,Yy,bf,RR);B_=h,Xy=d,$y=!0}return jl[s]=SR(r,Ky,Yy,e,Xy,bf,i),new bR(r)}function DR(r=uv()){r=Zf(r);const e=Fl(r,qu);return e.isInitialized()?e.getImmediate():OR(r)}function OR(r,e={}){const i=Fl(r,qu);if(i.isInitialized()){const o=i.getImmediate();if(Bl(e,i.getOptions()))return o;throw Tn.create("already-initialized")}return i.initialize({options:e})}function IR(r,e,i,s){r=Zf(r),TR(B_,jl[r.app.options.appId],e,i,s).catch(o=>fn.error(o))}const Zy="@firebase/analytics",Jy="0.10.12";function VR(){wa(new Li(qu,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return CR(s,o,i)},"PUBLIC")),wa(new Li("analytics-internal",r,"PRIVATE")),oi(Zy,Jy),oi(Zy,Jy,"esm2017");function r(e){try{const i=e.getProvider(qu).getImmediate();return{logEvent:(s,o,h)=>IR(i,s,o,h)}}catch(i){throw Tn.create("interop-component-reg-failed",{reason:i})}}}VR();const NR={apiKey:"AIzaSyAuaeSyx21PlFZPpw4Nso8A2_J5Z1KGR_4",authDomain:"ruslana-cakes.firebaseapp.com",projectId:"ruslana-cakes",storageBucket:"ruslana-cakes.firebasestorage.app",messagingSenderId:"645062619826",appId:"1:645062619826:web:f752b588fc41d417978fab",measurementId:"G-NE6QB30C2V"},P_=ov(NR);DR(P_);const Rf=Z1(P_),MR=()=>{const[r,e]=Qe.useState([]),[i,s]=Qe.useState([]),[o,h]=Qe.useState([]),[d,g]=Qe.useState(""),[v,_]=Qe.useState("cakes"),[b,N]=Qe.useState(0),[L,P]=Qe.useState(!0),[J,X]=Qe.useState(""),$=async()=>{P(!0);try{const ht=Ef(Rf,"cakes"),mt=(await Tf(ht)).docs.map(I=>({id:I.id,Image:I.data().Image,Description:I.data().Description,Price:I.data().Price}));e(mt);const rt=Ef(Rf,"bento"),S=(await Tf(rt)).docs.map(I=>({id:I.id,Image:I.data().Image,Description:I.data().Description,Price:I.data().Price}));s(S);const A=Ef(Rf,"cupcake"),O=(await Tf(A)).docs.map(I=>({id:I.id,Image:I.data().Image,Description:I.data().Description,Price:I.data().Price}));h(O)}catch(ht){X("Ошибка при загрузке данных: "+ht.message),console.error("Ошибка при загрузке данных:",ht)}finally{P(!1)}};Qe.useEffect(()=>{$()},[]),Qe.useEffect(()=>{(()=>{v==="cakes"&&r.length>0?N(3):v==="bento"&&i.length>0?N(1):v==="cupcake"&&o.length>0&&N(0)})()},[v,r,i,o]);const nt=ht=>{_(ht),g(ht)};if(L)return G.jsx("div",{children:"Загрузка..."});const ot=v==="cakes"?r:v==="bento"?i:v==="cupcake"?o:[];return G.jsxs("div",{className:"catalog-container",id:"catalog",children:[G.jsxs("div",{className:"catalog-list",children:[G.jsx("h2",{className:"catalog-list-title",children:"Catalog"}),G.jsxs("ul",{className:"catalog-list-items",children:[G.jsx("li",{className:`catalog-list-item ${d==="cakes"?"active":""}`,onClick:()=>nt("cakes"),children:"Торты"}),G.jsx("li",{className:`catalog-list-item ${d==="bento"?"active":""}`,onClick:()=>nt("bento"),children:"Бенто торты"}),G.jsx("li",{className:`catalog-list-item ${d==="cupcake"?"active":""}`,onClick:()=>nt("cupcake"),children:"Капкейки"})]})]}),J&&G.jsx("p",{children:J}),G.jsxs("div",{className:"catalog-cards-container",children:[G.jsx("div",{className:"catalog-cards",children:ot.length>0?ot.map(ht=>G.jsx(Lp,{cake:ht},ht.id)):G.jsx("p",{children:"Нет доступных товаров в этой категории."})}),G.jsxs("div",{className:"catalog-cards-top",children:[G.jsx("p",{className:"catalog-top-seller-title",children:"Top seller"}),ot.length>0&&G.jsx(Lp,{cake:ot[b]})]})]})]})},xR="/Ruslana_Cakes/assets/logo_text_light-DiZRjzKz.png",Hu=r=>{const e=document.getElementById(r);e&&e.scrollIntoView({behavior:"smooth"})},UR="_links_1kkya_1",kR={links:UR},q_=()=>G.jsxs("div",{className:kR.links,children:[G.jsxs("a",{href:"https://www.instagram.com/ruslanacakes/",target:"blank",children:[G.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/174/174855.png",alt:"Instagram"}),G.jsx("span",{})]}),G.jsxs("a",{href:"https://vk.com/ruslanacakes",target:"blank",children:[G.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/145/145813.png",alt:"VK"}),G.jsx("span",{})]}),G.jsxs("a",{href:"https://t.me/ruslanacakes",target:"blank",children:[G.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/2111/2111646.png",alt:"Telegram"}),G.jsx("span",{})]})]});var Iu={exports:{}},LR=Iu.exports,Wy;function zR(){return Wy||(Wy=1,function(r,e){(function(i,s){r.exports=s(Gu())})(LR,function(i){return function(s){function o(d){if(h[d])return h[d].exports;var g=h[d]={exports:{},id:d,loaded:!1};return s[d].call(g.exports,g,g.exports,o),g.loaded=!0,g.exports}var h={};return o.m=s,o.c=h,o.p="",o(0)}([function(s,o,h){function d(rt){return rt&&rt.__esModule?rt:{default:rt}}function g(rt,R){var S={};for(var A in rt)R.indexOf(A)>=0||Object.prototype.hasOwnProperty.call(rt,A)&&(S[A]=rt[A]);return S}function v(rt,R){if(!(rt instanceof R))throw new TypeError("Cannot call a class as a function")}function _(rt,R){if(!rt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||typeof R!="object"&&typeof R!="function"?rt:R}function b(rt,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);rt.prototype=Object.create(R&&R.prototype,{constructor:{value:rt,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(rt,R):rt.__proto__=R)}Object.defineProperty(o,"__esModule",{value:!0}),o.conformToMask=void 0;var N=Object.assign||function(rt){for(var R=1;R<arguments.length;R++){var S=arguments[R];for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(rt[A]=S[A])}return rt},L=function(){function rt(R,S){for(var A=0;A<S.length;A++){var w=S[A];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(R,w.key,w)}}return function(R,S,A){return S&&rt(R.prototype,S),A&&rt(R,A),R}}(),P=h(3);Object.defineProperty(o,"conformToMask",{enumerable:!0,get:function(){return d(P).default}});var J=h(11),X=d(J),$=h(9),nt=d($),ot=h(5),ht=d(ot),_t=h(2),mt=function(rt){function R(){var S;v(this,R);for(var A=arguments.length,w=Array(A),O=0;O<A;O++)w[O]=arguments[O];var I=_(this,(S=R.__proto__||Object.getPrototypeOf(R)).call.apply(S,[this].concat(w)));return I.setRef=I.setRef.bind(I),I.onBlur=I.onBlur.bind(I),I.onChange=I.onChange.bind(I),I}return b(R,rt),L(R,[{key:"setRef",value:function(S){this.inputElement=S}},{key:"initTextMask",value:function(){var S=this.props,A=this.props.value;this.textMaskInputElement=(0,ht.default)(N({inputElement:this.inputElement},S)),this.textMaskInputElement.update(A)}},{key:"componentDidMount",value:function(){this.initTextMask()}},{key:"componentDidUpdate",value:function(S){var A=this.props,w=A.value,O=A.pipe,I=A.mask,D=A.guide,Nt=A.placeholderChar,Pt=A.showMask,Z={guide:D,placeholderChar:Nt,showMask:Pt},ct=typeof O=="function"&&typeof S.pipe=="function"?O.toString()!==S.pipe.toString():(0,_t.isNil)(O)&&!(0,_t.isNil)(S.pipe)||!(0,_t.isNil)(O)&&(0,_t.isNil)(S.pipe),st=I.toString()!==S.mask.toString(),St=Object.keys(Z).some(function(Q){return Z[Q]!==S[Q]})||st||ct,V=w!==this.inputElement.value;(V||St)&&this.initTextMask()}},{key:"render",value:function(){var A=this.props,w=A.render,O=g(A,["render"]);return delete O.mask,delete O.guide,delete O.pipe,delete O.placeholderChar,delete O.keepCharPositions,delete O.value,delete O.onBlur,delete O.onChange,delete O.showMask,w(this.setRef,N({onBlur:this.onBlur,onChange:this.onChange,defaultValue:this.props.value},O))}},{key:"onChange",value:function(S){this.textMaskInputElement.update(),typeof this.props.onChange=="function"&&this.props.onChange(S)}},{key:"onBlur",value:function(S){typeof this.props.onBlur=="function"&&this.props.onBlur(S)}}]),R}(X.default.PureComponent);o.default=mt,mt.propTypes={mask:nt.default.oneOfType([nt.default.array,nt.default.func,nt.default.bool,nt.default.shape({mask:nt.default.oneOfType([nt.default.array,nt.default.func]),pipe:nt.default.func})]).isRequired,guide:nt.default.bool,value:nt.default.oneOfType([nt.default.string,nt.default.number]),pipe:nt.default.func,placeholderChar:nt.default.string,keepCharPositions:nt.default.bool,showMask:nt.default.bool},mt.defaultProps={render:function(rt,R){return X.default.createElement("input",N({ref:rt},R))}}},function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.placeholderChar="_",o.strFunction="function"},function(s,o,h){function d(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:P,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L.placeholderChar;if(!g(X))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(X.indexOf($)!==-1)throw new Error(`Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.

`+("The placeholder character that was received is: "+JSON.stringify($)+`

`)+("The mask that was received is: "+JSON.stringify(X)));return X.map(function(nt){return nt instanceof RegExp?$:nt}).join("")}function g(X){return Array.isArray&&Array.isArray(X)||X instanceof Array}function v(X){return typeof X=="string"||X instanceof String}function _(X){return typeof X=="number"&&X.length===void 0&&!isNaN(X)}function b(X){return typeof X>"u"||X===null}function N(X){for(var $=[],nt=void 0;nt=X.indexOf(J),nt!==-1;)$.push(nt),X.splice(nt,1);return{maskWithoutCaretTraps:X,indexes:$}}Object.defineProperty(o,"__esModule",{value:!0}),o.convertMaskToPlaceholder=d,o.isArray=g,o.isString=v,o.isNumber=_,o.isNil=b,o.processCaretTraps=N;var L=h(1),P=[],J="[]"},function(s,o,h){function d(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:b,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(0,v.isArray)(P)){if((typeof P>"u"?"undefined":g(P))!==_.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");P=P(L,J),P=(0,v.processCaretTraps)(P).maskWithoutCaretTraps}var X=J.guide,$=X===void 0||X,nt=J.previousConformedValue,ot=nt===void 0?N:nt,ht=J.placeholderChar,_t=ht===void 0?_.placeholderChar:ht,mt=J.placeholder,rt=mt===void 0?(0,v.convertMaskToPlaceholder)(P,_t):mt,R=J.currentCaretPosition,S=J.keepCharPositions,A=$===!1&&ot!==void 0,w=L.length,O=ot.length,I=rt.length,D=P.length,Nt=w-O,Pt=Nt>0,Z=R+(Pt?-Nt:0),ct=Z+Math.abs(Nt);if(S===!0&&!Pt){for(var st=N,St=Z;St<ct;St++)rt[St]===_t&&(st+=_t);L=L.slice(0,Z)+st+L.slice(Z,w)}for(var V=L.split(N).map(function(Be,Ie){return{char:Be,isNew:Ie>=Z&&Ie<ct}}),Q=w-1;Q>=0;Q--){var et=V[Q].char;if(et!==_t){var it=Q>=Z&&O===D;et===rt[it?Q-Nt:Q]&&V.splice(Q,1)}}var W=N,yt=!1;t:for(var gt=0;gt<I;gt++){var Kt=rt[gt];if(Kt===_t){if(V.length>0)for(;V.length>0;){var wt=V.shift(),Qt=wt.char,It=wt.isNew;if(Qt===_t&&A!==!0){W+=_t;continue t}if(P[gt].test(Qt)){if(S===!0&&It!==!1&&ot!==N&&$!==!1&&Pt){for(var le=V.length,Oe=null,te=0;te<le;te++){var je=V[te];if(je.char!==_t&&je.isNew===!1)break;if(je.char===_t){Oe=te;break}}Oe!==null?(W+=Qt,V.splice(Oe,1)):gt--}else W+=Qt;continue t}yt=!0}A===!1&&(W+=rt.substr(gt,I));break}W+=Kt}if(A&&Pt===!1){for(var ee=null,Zt=0;Zt<W.length;Zt++)rt[Zt]===_t&&(ee=Zt);W=ee!==null?W.substr(0,ee+1):N}return{conformedValue:W,meta:{someCharsRejected:yt}}}Object.defineProperty(o,"__esModule",{value:!0});var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L};o.default=d;var v=h(2),_=h(1),b=[],N=""},function(s,o){function h(v){var _=v.previousConformedValue,b=_===void 0?g:_,N=v.previousPlaceholder,L=N===void 0?g:N,P=v.currentCaretPosition,J=P===void 0?0:P,X=v.conformedValue,$=v.rawValue,nt=v.placeholderChar,ot=v.placeholder,ht=v.indexesOfPipedChars,_t=ht===void 0?d:ht,mt=v.caretTrapIndexes,rt=mt===void 0?d:mt;if(J===0||!$.length)return 0;var R=$.length,S=b.length,A=ot.length,w=X.length,O=R-S,I=O>0,D=S===0,Nt=O>1&&!I&&!D;if(Nt)return J;var Pt=I&&(b===X||X===ot),Z=0,ct=void 0,st=void 0;if(Pt)Z=J-O;else{var St=X.toLowerCase(),V=$.toLowerCase(),Q=V.substr(0,J).split(g),et=Q.filter(function(ne){return St.indexOf(ne)!==-1});st=et[et.length-1];var it=L.substr(0,et.length).split(g).filter(function(ne){return ne!==nt}).length,W=ot.substr(0,et.length).split(g).filter(function(ne){return ne!==nt}).length,yt=W!==it,gt=L[et.length-1]!==void 0&&ot[et.length-2]!==void 0&&L[et.length-1]!==nt&&L[et.length-1]!==ot[et.length-1]&&L[et.length-1]===ot[et.length-2];!I&&(yt||gt)&&it>0&&ot.indexOf(st)>-1&&$[J]!==void 0&&(ct=!0,st=$[J]);for(var Kt=_t.map(function(ne){return St[ne]}),wt=Kt.filter(function(ne){return ne===st}).length,Qt=et.filter(function(ne){return ne===st}).length,It=ot.substr(0,ot.indexOf(nt)).split(g).filter(function(ne,dn){return ne===st&&$[dn]!==ne}).length,le=It+Qt+wt+(ct?1:0),Oe=0,te=0;te<w;te++){var je=St[te];if(Z=te+1,je===st&&Oe++,Oe>=le)break}}if(I){for(var ee=Z,Zt=Z;Zt<=A;Zt++)if(ot[Zt]===nt&&(ee=Zt),ot[Zt]===nt||rt.indexOf(Zt)!==-1||Zt===A)return ee}else if(ct){for(var Be=Z-1;Be>=0;Be--)if(X[Be]===st||rt.indexOf(Be)!==-1||Be===0)return Be}else for(var Ie=Z;Ie>=0;Ie--)if(ot[Ie-1]===nt||rt.indexOf(Ie)!==-1||Ie===0)return Ie}Object.defineProperty(o,"__esModule",{value:!0}),o.default=h;var d=[],g=""},function(s,o,h){function d(R){return R&&R.__esModule?R:{default:R}}function g(R){var S={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:S,update:function(A){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R,O=w.inputElement,I=w.mask,D=w.guide,Nt=w.pipe,Pt=w.placeholderChar,Z=Pt===void 0?nt.placeholderChar:Pt,ct=w.keepCharPositions,st=ct!==void 0&&ct,St=w.showMask,V=St!==void 0&&St;if(typeof A>"u"&&(A=O.value),A!==S.previousConformedValue){(typeof I>"u"?"undefined":N(I))===_t&&I.pipe!==void 0&&I.mask!==void 0&&(Nt=I.pipe,I=I.mask);var Q=void 0,et=void 0;if(I instanceof Array&&(Q=(0,$.convertMaskToPlaceholder)(I,Z)),I!==!1){var it=_(A),W=O.selectionEnd,yt=S.previousConformedValue,gt=S.previousPlaceholder,Kt=void 0;if((typeof I>"u"?"undefined":N(I))===nt.strFunction){if(et=I(it,{currentCaretPosition:W,previousConformedValue:yt,placeholderChar:Z}),et===!1)return;var wt=(0,$.processCaretTraps)(et),Qt=wt.maskWithoutCaretTraps,It=wt.indexes;et=Qt,Kt=It,Q=(0,$.convertMaskToPlaceholder)(et,Z)}else et=I;var le={previousConformedValue:yt,guide:D,placeholderChar:Z,pipe:Nt,placeholder:Q,currentCaretPosition:W,keepCharPositions:st},Oe=(0,X.default)(it,et,le),te=Oe.conformedValue,je=(typeof Nt>"u"?"undefined":N(Nt))===nt.strFunction,ee={};je&&(ee=Nt(te,b({rawValue:it},le)),ee===!1?ee={value:yt,rejected:!0}:(0,$.isString)(ee)&&(ee={value:ee}));var Zt=je?ee.value:te,Be=(0,P.default)({previousConformedValue:yt,previousPlaceholder:gt,conformedValue:Zt,placeholder:Q,rawValue:it,currentCaretPosition:W,placeholderChar:Z,indexesOfPipedChars:ee.indexesOfPipedChars,caretTrapIndexes:Kt}),Ie=Zt===Q&&Be===0,ne=V?Q:ot,dn=Ie?ne:Zt;S.previousConformedValue=dn,S.previousPlaceholder=Q,O.value!==dn&&(O.value=dn,v(O,Be))}}}}}function v(R,S){document.activeElement===R&&(mt?rt(function(){return R.setSelectionRange(S,S,ht)},0):R.setSelectionRange(S,S,ht))}function _(R){if((0,$.isString)(R))return R;if((0,$.isNumber)(R))return String(R);if(R==null)return ot;throw new Error(`The 'value' provided to Text Mask needs to be a string or a number. The value received was:

 `+JSON.stringify(R))}Object.defineProperty(o,"__esModule",{value:!0});var b=Object.assign||function(R){for(var S=1;S<arguments.length;S++){var A=arguments[S];for(var w in A)Object.prototype.hasOwnProperty.call(A,w)&&(R[w]=A[w])}return R},N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R};o.default=g;var L=h(4),P=d(L),J=h(3),X=d(J),$=h(2),nt=h(1),ot="",ht="none",_t="object",mt=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),rt=typeof requestAnimationFrame<"u"?requestAnimationFrame:setTimeout},function(s,o){function h(g){return function(){return g}}var d=function(){};d.thatReturns=h,d.thatReturnsFalse=h(!1),d.thatReturnsTrue=h(!0),d.thatReturnsNull=h(null),d.thatReturnsThis=function(){return this},d.thatReturnsArgument=function(g){return g},s.exports=d},function(s,o,h){function d(g,v,_,b,N,L,P,J){if(!g){var X;if(v===void 0)X=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var $=[_,b,N,L,P,J],nt=0;X=new Error(v.replace(/%s/g,function(){return $[nt++]})),X.name="Invariant Violation"}throw X.framesToPop=1,X}}s.exports=d},function(s,o,h){var d=h(6),g=h(7),v=h(10);s.exports=function(){function _(L,P,J,X,$,nt){nt!==v&&g(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function b(){return _}_.isRequired=_;var N={array:_,bool:_,func:_,number:_,object:_,string:_,symbol:_,any:_,arrayOf:b,element:_,instanceOf:b,node:_,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b};return N.checkPropTypes=d,N.PropTypes=N,N}},function(s,o,h){s.exports=h(8)()},function(s,o){var h="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";s.exports=h},function(s,o){s.exports=i}])})}(Iu)),Iu.exports}var jR=zR();const BR=mE(jR),H_=({onClose:r})=>{const[e,i]=Qe.useState(""),[s,o]=Qe.useState(""),[h,d]=Qe.useState("DEFAULT"),[g,v]=Qe.useState(""),_=()=>{const b=`
        Добрый день! Хочу оставить заказ.
        Меня зовут: ${e}
        Мой контактный телефон: ${s}
        Вид десерта: ${h}
        Комментарии: ${g}
    `;navigator.clipboard.writeText(b).then(()=>{console.log("Сообщение скопировано в буфер обмена:",b)});const L=`https://t.me/alexeevaruslana?text=${encodeURIComponent(b.trim())}`;window.open(L,"_blank"),r()};return G.jsx("div",{className:"modal-container",children:G.jsxs("div",{className:"modal-content",children:[G.jsx("p",{className:"modal-title",children:"Внесите данные для заказа"}),G.jsxs("form",{className:"modal-form",children:[G.jsx("input",{className:"modal-input input",type:"text",placeholder:"Имя",onChange:b=>i(b.target.value),required:!0}),G.jsx(BR,{className:"modal-input input",mask:["+","7","(",/[0-9]/,/[0-9]/,/[0-9]/,")"," ",/[0-9]/,/[0-9]/,/[0-9]/,"-",/[0-9]/,/[0-9]/,"-",/[0-9]/,/[0-9]/],placeholder:"Тел.: +7(___) ___-__-__",value:s,onChange:b=>o(b.target.value),required:!0}),G.jsxs("select",{className:"modal-select input",onChange:b=>d(b.target.value),required:!0,defaultValue:"Вид десерта",children:[G.jsx("option",{defaultValue:"DEFAULT",disabled:!0,children:"Вид десерта"}),G.jsx("option",{value:"Торт",children:"Торт"}),G.jsx("option",{value:"Бенто торт",children:"Бенто торт"}),G.jsx("option",{value:"Капкейки",children:"Капкейки"})]}),G.jsx("textarea",{className:"modal-textarea input",placeholder:"Комментарии",onChange:b=>v(b.target.value),wrap:"soft",required:!0}),G.jsxs("div",{className:"modal-button-container",children:[G.jsx("button",{className:"modal-button",onClick:r,children:"Закрыть"}),G.jsx("button",{className:"modal-button",onClick:_,type:"button",children:"Отправить"})]})]})]})})},PR=()=>{const[r,e]=Qe.useState(!1);return G.jsxs("div",{className:"footer",children:[G.jsxs("div",{className:"footer-container-up",children:[G.jsx("div",{className:"footer-logo",children:G.jsx("img",{src:xR,alt:"",loading:"lazy",width:"200px",height:"auto"})}),G.jsxs("ul",{className:"footer-menu",children:[G.jsx("li",{className:"footer-menu-item hover",onClick:()=>e(!0),children:"Заказать"}),G.jsx("li",{className:"footer-menu-item",children:G.jsx("a",{onClick:()=>Hu("catalog"),children:"Каталог"})}),G.jsx("li",{className:"footer-menu-item",children:G.jsx("a",{onClick:()=>Hu("location"),children:"Контакты"})})]})]}),G.jsxs("div",{className:"footer-container-down",children:[G.jsx("div",{className:"footer-empty"}),G.jsx("div",{className:"footer-social-links",children:G.jsx(q_,{})})]}),G.jsx("hr",{className:"footer-hr"}),G.jsx("p",{children:"© 2022 Ruslana Cakes"}),r&&G.jsx(H_,{onClose:()=>e(!1)})]})},qR="/Ruslana_Cakes/assets/trolley-BalS_m93.png",HR=()=>G.jsx("header",{className:"header",children:G.jsxs("ul",{className:"header-menu-list",children:[G.jsx("li",{className:"header-menu-item header-menu-item-language",children:G.jsx("a",{onClick:()=>Hu("location"),children:"Контакты"})}),G.jsx("li",{className:"header-menu-item",children:G.jsx("a",{onClick:()=>Hu("catalog"),children:"Каталог"})}),G.jsx("li",{className:"header-menu-item"}),G.jsx("li",{className:"header-menu-item",children:"Order"}),G.jsx("li",{className:"header-menu-item",children:G.jsx("a",{children:G.jsx("img",{className:"header-menu-cart",src:qR,alt:"cart"})})})]})}),GR=()=>G.jsxs("div",{className:"location-container",id:"location",children:[G.jsx("h3",{className:"location-title",children:"Как нас найти"}),G.jsxs("div",{className:"location-map-container",children:[G.jsxs("div",{className:"location-info-container",children:[G.jsxs("div",{className:"location-info-contacts",children:[G.jsxs("div",{children:[G.jsx("h4",{className:"location-info-title",children:"Контакты"}),G.jsxs("ul",{className:"location-info-contacts-list",children:[G.jsx("li",{className:"location-info-contacts-phone",children:G.jsx("a",{href:"tel:+79092841484",children:"📞 +7 (909) 284-14-84"})}),G.jsxs("li",{className:"location-info-contacts-phone",children:[" ",G.jsx("a",{href:"https://t.me/ruslanacakes",target:"_blank",children:"📧 https://t.me/ruslanacakes"})]})]})]}),G.jsxs("div",{children:[G.jsx("h4",{className:"location-info-title",children:"Адрес"}),G.jsx("ul",{className:"location-info-contacts-list",children:G.jsx("li",{className:"location-info-contacts-phone",children:G.jsx("a",{href:"https://yandex.ru/maps/-/CHF8MS8v",target:"_blank",children:"Нижний Новгород, улица Академика Сахарова, 117"})})})]})]}),G.jsxs("div",{children:[G.jsx("h4",{className:"location-info-title",children:"Важная информация!"}),G.jsxs("ul",{children:[G.jsxs("li",{children:[" ","🍰 Я домашний кондитер, испеку для вас на заказ торт, капкейки, бенто."]}),G.jsx("li",{children:"🛑 С мастикой не работаю!"}),G.jsx("li",{children:" ❗ Работаю исключительно по предоплате 50%"})]})]})]}),G.jsx("div",{className:"location-map",children:G.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?um=constructor%3Ad7af66d2a8d5f484f1c3620262fab411684d5663752ff04adff718f50dfbb1f4&source=constructor",width:"100%",height:"100%",frameBorder:"0"})})]}),G.jsxs("div",{className:"location-links-container",children:[G.jsx("h3",{className:"location-title",children:"Мы в социальных сетях"}),G.jsx(q_,{})]})]}),QR="/Ruslana_Cakes/assets/2%20logo%20Ruslana%20Cakes-rz6J5luV.png",FR=()=>{const[r,e]=Qe.useState(!1);return G.jsxs("main",{className:"main",children:[G.jsx("h1",{className:"visually-hidden",children:"Торты на заказ в Нижнем Новгороде"}),G.jsx("img",{className:"main-logo",src:QR,alt:"Ruslana cakes"}),G.jsx("button",{className:"main-button",onClick:()=>e(!0),children:"Сделать заказ"}),r&&G.jsx(H_,{onClose:()=>e(!1)})]})};function KR(){return G.jsxs(G.Fragment,{children:[G.jsx(HR,{}),G.jsx(FR,{}),G.jsx(MR,{}),G.jsx(GR,{}),G.jsx(PR,{})]})}bE.createRoot(document.getElementById("root")).render(G.jsx(Qe.StrictMode,{children:G.jsx(KR,{})}));
