(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var ef={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function cE(){if(Rp)return Vl;Rp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:s,type:r,key:d,ref:u!==void 0?u:null,props:h}}return Vl.Fragment=e,Vl.jsx=i,Vl.jsxs=i,Vl}var wp;function hE(){return wp||(wp=1,ef.exports=cE()),ef.exports}var Y=hE(),nf={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function fE(){if(Cp)return Et;Cp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),U=Symbol.iterator;function j(D){return D===null||typeof D!="object"?null:(D=U&&D[U]||D["@@iterator"],typeof D=="function"?D:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,rt={};function W(D,K,st){this.props=D,this.context=K,this.refs=rt,this.updater=st||G}W.prototype.isReactComponent={},W.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},W.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Rt(){}Rt.prototype=W.prototype;function mt(D,K,st){this.props=D,this.context=K,this.refs=rt,this.updater=st||G}var ht=mt.prototype=new Rt;ht.constructor=mt,J(ht,W.prototype),ht.isPureReactComponent=!0;var Ht=Array.isArray,yt={H:null,A:null,T:null,S:null},Ct=Object.prototype.hasOwnProperty;function M(D,K,st,tt,et,Tt){return st=Tt.ref,{$$typeof:s,type:D,key:K,ref:st!==void 0?st:null,props:Tt}}function b(D,K){return M(D.type,K,void 0,void 0,void 0,D.props)}function A(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function C(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(st){return K[st]})}var V=/\/+/g;function N(D,K){return typeof D=="object"&&D!==null&&D.key!=null?C(""+D.key):K.toString(36)}function w(){}function ge(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(w,w):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ue(D,K,st,tt,et){var Tt=typeof D;(Tt==="undefined"||Tt==="boolean")&&(D=null);var _t=!1;if(D===null)_t=!0;else switch(Tt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(D.$$typeof){case s:case e:_t=!0;break;case R:return _t=D._init,ue(_t(D._payload),K,st,tt,et)}}if(_t)return et=et(D),_t=tt===""?"."+N(D,0):tt,Ht(et)?(st="",_t!=null&&(st=_t.replace(V,"$&/")+"/"),ue(et,K,st,"",function(Wt){return Wt})):et!=null&&(A(et)&&(et=b(et,st+(et.key==null||D&&D.key===et.key?"":(""+et.key).replace(V,"$&/")+"/")+_t)),K.push(et)),1;_t=0;var ce=tt===""?".":tt+":";if(Ht(D))for(var Lt=0;Lt<D.length;Lt++)tt=D[Lt],Tt=ce+N(tt,Lt),_t+=ue(tt,K,st,Tt,et);else if(Lt=j(D),typeof Lt=="function")for(D=Lt.call(D),Lt=0;!(tt=D.next()).done;)tt=tt.value,Tt=ce+N(tt,Lt++),_t+=ue(tt,K,st,Tt,et);else if(Tt==="object"){if(typeof D.then=="function")return ue(ge(D),K,st,tt,et);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return _t}function $(D,K,st){if(D==null)return D;var tt=[],et=0;return ue(D,tt,"","",function(Tt){return K.call(st,Tt,et++)}),tt}function ft(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(st){(D._status===0||D._status===-1)&&(D._status=1,D._result=st)},function(st){(D._status===0||D._status===-1)&&(D._status=2,D._result=st)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var ot=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function jt(){}return Et.Children={map:$,forEach:function(D,K,st){$(D,function(){K.apply(this,arguments)},st)},count:function(D){var K=0;return $(D,function(){K++}),K},toArray:function(D){return $(D,function(K){return K})||[]},only:function(D){if(!A(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Et.Component=W,Et.Fragment=i,Et.Profiler=u,Et.PureComponent=mt,Et.StrictMode=r,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,Et.act=function(){throw Error("act(...) is not supported in production builds of React.")},Et.cache=function(D){return function(){return D.apply(null,arguments)}},Et.cloneElement=function(D,K,st){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var tt=J({},D.props),et=D.key,Tt=void 0;if(K!=null)for(_t in K.ref!==void 0&&(Tt=void 0),K.key!==void 0&&(et=""+K.key),K)!Ct.call(K,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&K.ref===void 0||(tt[_t]=K[_t]);var _t=arguments.length-2;if(_t===1)tt.children=st;else if(1<_t){for(var ce=Array(_t),Lt=0;Lt<_t;Lt++)ce[Lt]=arguments[Lt+2];tt.children=ce}return M(D.type,et,void 0,void 0,Tt,tt)},Et.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},Et.createElement=function(D,K,st){var tt,et={},Tt=null;if(K!=null)for(tt in K.key!==void 0&&(Tt=""+K.key),K)Ct.call(K,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(et[tt]=K[tt]);var _t=arguments.length-2;if(_t===1)et.children=st;else if(1<_t){for(var ce=Array(_t),Lt=0;Lt<_t;Lt++)ce[Lt]=arguments[Lt+2];et.children=ce}if(D&&D.defaultProps)for(tt in _t=D.defaultProps,_t)et[tt]===void 0&&(et[tt]=_t[tt]);return M(D,Tt,void 0,void 0,null,et)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(D){return{$$typeof:g,render:D}},Et.isValidElement=A,Et.lazy=function(D){return{$$typeof:R,_payload:{_status:-1,_result:D},_init:ft}},Et.memo=function(D,K){return{$$typeof:_,type:D,compare:K===void 0?null:K}},Et.startTransition=function(D){var K=yt.T,st={};yt.T=st;try{var tt=D(),et=yt.S;et!==null&&et(st,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(jt,ot)}catch(Tt){ot(Tt)}finally{yt.T=K}},Et.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},Et.use=function(D){return yt.H.use(D)},Et.useActionState=function(D,K,st){return yt.H.useActionState(D,K,st)},Et.useCallback=function(D,K){return yt.H.useCallback(D,K)},Et.useContext=function(D){return yt.H.useContext(D)},Et.useDebugValue=function(){},Et.useDeferredValue=function(D,K){return yt.H.useDeferredValue(D,K)},Et.useEffect=function(D,K){return yt.H.useEffect(D,K)},Et.useId=function(){return yt.H.useId()},Et.useImperativeHandle=function(D,K,st){return yt.H.useImperativeHandle(D,K,st)},Et.useInsertionEffect=function(D,K){return yt.H.useInsertionEffect(D,K)},Et.useLayoutEffect=function(D,K){return yt.H.useLayoutEffect(D,K)},Et.useMemo=function(D,K){return yt.H.useMemo(D,K)},Et.useOptimistic=function(D,K){return yt.H.useOptimistic(D,K)},Et.useReducer=function(D,K,st){return yt.H.useReducer(D,K,st)},Et.useRef=function(D){return yt.H.useRef(D)},Et.useState=function(D){return yt.H.useState(D)},Et.useSyncExternalStore=function(D,K,st){return yt.H.useSyncExternalStore(D,K,st)},Et.useTransition=function(){return yt.H.useTransition()},Et.version="19.0.0",Et}var Dp;function Kf(){return Dp||(Dp=1,nf.exports=fE()),nf.exports}var Un=Kf(),af={exports:{}},Ol={},sf={exports:{}},rf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function dE(){return Ip||(Ip=1,function(s){function e($,ft){var ot=$.length;$.push(ft);t:for(;0<ot;){var jt=ot-1>>>1,D=$[jt];if(0<u(D,ft))$[jt]=ft,$[ot]=D,ot=jt;else break t}}function i($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ft=$[0],ot=$.pop();if(ot!==ft){$[0]=ot;t:for(var jt=0,D=$.length,K=D>>>1;jt<K;){var st=2*(jt+1)-1,tt=$[st],et=st+1,Tt=$[et];if(0>u(tt,ot))et<D&&0>u(Tt,tt)?($[jt]=Tt,$[et]=ot,jt=et):($[jt]=tt,$[st]=ot,jt=st);else if(et<D&&0>u(Tt,ot))$[jt]=Tt,$[et]=ot,jt=et;else break t}}return ft}function u($,ft){var ot=$.sortIndex-ft.sortIndex;return ot!==0?ot:$.id-ft.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],_=[],R=1,U=null,j=3,G=!1,J=!1,rt=!1,W=typeof setTimeout=="function"?setTimeout:null,Rt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function ht($){for(var ft=i(_);ft!==null;){if(ft.callback===null)r(_);else if(ft.startTime<=$)r(_),ft.sortIndex=ft.expirationTime,e(v,ft);else break;ft=i(_)}}function Ht($){if(rt=!1,ht($),!J)if(i(v)!==null)J=!0,ge();else{var ft=i(_);ft!==null&&ue(Ht,ft.startTime-$)}}var yt=!1,Ct=-1,M=5,b=-1;function A(){return!(s.unstable_now()-b<M)}function C(){if(yt){var $=s.unstable_now();b=$;var ft=!0;try{t:{J=!1,rt&&(rt=!1,Rt(Ct),Ct=-1),G=!0;var ot=j;try{e:{for(ht($),U=i(v);U!==null&&!(U.expirationTime>$&&A());){var jt=U.callback;if(typeof jt=="function"){U.callback=null,j=U.priorityLevel;var D=jt(U.expirationTime<=$);if($=s.unstable_now(),typeof D=="function"){U.callback=D,ht($),ft=!0;break e}U===i(v)&&r(v),ht($)}else r(v);U=i(v)}if(U!==null)ft=!0;else{var K=i(_);K!==null&&ue(Ht,K.startTime-$),ft=!1}}break t}finally{U=null,j=ot,G=!1}ft=void 0}}finally{ft?V():yt=!1}}}var V;if(typeof mt=="function")V=function(){mt(C)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,w=N.port2;N.port1.onmessage=C,V=function(){w.postMessage(null)}}else V=function(){W(C,0)};function ge(){yt||(yt=!0,V())}function ue($,ft){Ct=W(function(){$(s.unstable_now())},ft)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function($){$.callback=null},s.unstable_continueExecution=function(){J||G||(J=!0,ge())},s.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},s.unstable_getCurrentPriorityLevel=function(){return j},s.unstable_getFirstCallbackNode=function(){return i(v)},s.unstable_next=function($){switch(j){case 1:case 2:case 3:var ft=3;break;default:ft=j}var ot=j;j=ft;try{return $()}finally{j=ot}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function($,ft){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ot=j;j=$;try{return ft()}finally{j=ot}},s.unstable_scheduleCallback=function($,ft,ot){var jt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?jt+ot:jt):ot=jt,$){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ot+D,$={id:R++,callback:ft,priorityLevel:$,startTime:ot,expirationTime:D,sortIndex:-1},ot>jt?($.sortIndex=ot,e(_,$),i(v)===null&&$===i(_)&&(rt?(Rt(Ct),Ct=-1):rt=!0,ue(Ht,ot-jt))):($.sortIndex=D,e(v,$),J||G||(J=!0,ge())),$},s.unstable_shouldYield=A,s.unstable_wrapCallback=function($){var ft=j;return function(){var ot=j;j=ft;try{return $.apply(this,arguments)}finally{j=ot}}}}(rf)),rf}var Vp;function mE(){return Vp||(Vp=1,sf.exports=dE()),sf.exports}var lf={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function gE(){if(Op)return je;Op=1;var s=Kf();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)_+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,R){var U=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:U==null?null:""+U,children:v,containerInfo:_,implementation:R}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,je.createPortal=function(v,_){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,R)},je.flushSync=function(v){var _=d.T,R=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=R,r.d.f()}},je.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},je.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},je.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var R=_.as,U=g(R,_.crossOrigin),j=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;R==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:U,integrity:j,fetchPriority:G}):R==="script"&&r.d.X(v,{crossOrigin:U,integrity:j,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},je.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var R=g(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},je.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var R=_.as,U=g(R,_.crossOrigin);r.d.L(v,R,{crossOrigin:U,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},je.preloadModule=function(v,_){if(typeof v=="string")if(_){var R=g(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},je.requestFormReset=function(v){r.d.r(v)},je.unstable_batchedUpdates=function(v,_){return v(_)},je.useFormState=function(v,_,R){return d.H.useFormState(v,_,R)},je.useFormStatus=function(){return d.H.useHostTransitionStatus()},je.version="19.0.0",je}var Np;function pE(){if(Np)return lf.exports;Np=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),lf.exports=gE(),lf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function yE(){if(Mp)return Ol;Mp=1;var s=mE(),e=Kf(),i=pE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),G=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Rt=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),ht=Symbol.for("react.offscreen"),Ht=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function Ct(t){return t===null||typeof t!="object"?null:(t=yt&&t[yt]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function b(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case v:return"Fragment";case g:return"Portal";case R:return"Profiler";case _:return"StrictMode";case rt:return"Suspense";case W:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case G:return(t.displayName||"Context")+".Provider";case j:return(t._context.displayName||"Context")+".Consumer";case J:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rt:return n=t.displayName||null,n!==null?n:b(t.type)||"Memo";case mt:n=t._payload,t=t._init;try{return b(t(n))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,V,N;function w(t){if(V===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);V=n&&n[1]||"",N=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+t+N}var ge=!1;function ue(t,n){if(!t||ge)return"";ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var B=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){B=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){B=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var S=y.split(`
`),O=E.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===O.length)for(l=S.length-1,c=O.length-1;1<=l&&0<=c&&S[l]!==O[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==O[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==O[c]){var P=`
`+S[l].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=l&&0<=c);break}}}finally{ge=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?w(a):""}function $(t){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return t=ue(t.type,!1),t;case 11:return t=ue(t.type.render,!1),t;case 1:return t=ue(t.type,!0),t;default:return""}}function ft(t){try{var n="";do n+=$(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ot(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function jt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function D(t){if(ot(t)!==t)throw Error(r(188))}function K(t){var n=t.alternate;if(!n){if(n=ot(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return D(c),t;if(f===l)return D(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function st(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=st(t),n!==null)return n;t=t.sibling}return null}var tt=Array.isArray,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt={pending:!1,data:null,method:null,action:null},_t=[],ce=-1;function Lt(t){return{current:t}}function Wt(t){0>ce||(t.current=_t[ce],_t[ce]=null,ce--)}function Pt(t,n){ce++,_t[ce]=t.current,t.current=n}var Ge=Lt(null),ai=Lt(null),fn=Lt(null),xi=Lt(null);function Ui(t,n){switch(Pt(fn,n),Pt(ai,t),Pt(Ge,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?tp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=tp(t),n=ep(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Wt(Ge),Pt(Ge,n)}function si(){Wt(Ge),Wt(ai),Wt(fn)}function Rr(t){t.memoizedState!==null&&Pt(xi,t);var n=Ge.current,a=ep(n,t.type);n!==a&&(Pt(ai,t),Pt(Ge,a))}function ys(t){ai.current===t&&(Wt(Ge),Wt(ai)),xi.current===t&&(Wt(xi),Rl._currentValue=Tt)}var vs=Object.prototype.hasOwnProperty,Va=s.unstable_scheduleCallback,_s=s.unstable_cancelCallback,ic=s.unstable_shouldYield,wr=s.unstable_requestPaint,$e=s.unstable_now,$l=s.unstable_getCurrentPriorityLevel,pe=s.unstable_ImmediatePriority,be=s.unstable_UserBlockingPriority,ri=s.unstable_NormalPriority,Jl=s.unstable_LowPriority,Cr=s.unstable_IdlePriority,ac=s.log,Oa=s.unstable_setDisableYieldValue,Li=null,Be=null;function Dr(t){if(Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Li,t,void 0,(t.current.flags&128)===128)}catch{}}function Ln(t){if(typeof ac=="function"&&Oa(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Li,t)}catch{}}var Qe=Math.clz32?Math.clz32:to,Ir=Math.log,Wl=Math.LN2;function to(t){return t>>>=0,t===0?32:31-(Ir(t)/Wl|0)|0}var zn=128,zi=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dn(t,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~c,a!==0?l=In(a):(f&=E,f!==0?l=In(f):t||(y=E&~y,y!==0&&(l=In(y))))):(E=a&~c,E!==0?l=In(E):f!==0?l=In(f):t||(y=a&~y,y!==0&&(l=In(y)))),l===0?0:n!==0&&n!==l&&(n&c)===0&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function Bi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Es(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vr(){var t=zn;return zn<<=1,(zn&4194176)===0&&(zn=128),t}function ki(){var t=zi;return zi<<=1,(zi&62914560)===0&&(zi=4194304),t}function Ts(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function se(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function eo(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,S=t.expirationTimes,O=t.hiddenUpdates;for(a=y&~a;0<a;){var P=31-Qe(a),F=1<<P;E[P]=0,S[P]=-1;var B=O[P];if(B!==null)for(O[P]=null,P=0;P<B.length;P++){var q=B[P];q!==null&&(q.lane&=-536870913)}a&=~F}l!==0&&ji(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function ji(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function qi(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Qe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function no(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function io(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:_p(t.type))}function Pi(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var Bn=Math.random().toString(36).slice(2),Re="__reactFiber$"+Bn,ye="__reactProps$"+Bn,li="__reactContainer$"+Bn,Na="__reactEvents$"+Bn,As="__reactListeners$"+Bn,kn="__reactHandles$"+Bn,Or="__reactResources$"+Bn,Hi="__reactMarker$"+Bn;function Ma(t){delete t[Re],delete t[ye],delete t[Na],delete t[As],delete t[kn]}function Vn(t){var n=t[Re];if(n)return n;for(var a=t.parentNode;a;){if(n=a[li]||a[Re]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=ap(t);t!==null;){if(a=t[Re])return a;t=ap(t)}return n}t=a,a=t.parentNode}return null}function oi(t){if(t=t[Re]||t[li]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Gi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Qi(t){var n=t[Or];return n||(n=t[Or]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Xt(t){t[Hi]=!0}var Nr=new Set,Ss={};function an(t,n){Je(t,n),Je(t+"Capture",n)}function Je(t,n){for(Ss[t]=n,t=0;t<n.length;t++)Nr.add(n[t])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mr={},xr={};function ao(t){return vs.call(xr,t)?!0:vs.call(Mr,t)?!1:sc.test(t)?xr[t]=!0:(Mr[t]=!0,!1)}function Fi(t,n,a){if(ao(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Ki(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function mn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Fe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function so(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function rc(t){var n=so(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function xa(t){t._valueTracker||(t._valueTracker=rc(t))}function Ur(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=so(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function bs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ui=/[\n"\\]/g;function te(t){return t.replace(ui,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Yi(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Fe(n)):t.value!==""+Fe(n)&&(t.value=""+Fe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Rs(t,y,Fe(n)):a!=null?Rs(t,y,Fe(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Fe(E):t.removeAttribute("name")}function Ua(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Fe(a):"",n=n!=null?""+Fe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Rs(t,n,a){n==="number"&&bs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function zt(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Fe(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function La(t,n,a){if(n!=null&&(n=""+Fe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Fe(a):""}function Xi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(tt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Fe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var lc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||lc.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function ro(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Lr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Lr(t,f,n[f])}function zr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jn(t){return uc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var pn=null;function ws(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ci=null,hi=null;function fi(t){var n=oi(t);if(n&&(t=n.stateNode)){var a=t[ye]||null;t:switch(t=n.stateNode,n.type){case"input":if(Yi(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+te(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[ye]||null;if(!c)throw Error(r(90));Yi(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ur(l)}break t;case"textarea":La(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&zt(t,!!a.multiple,n,!1)}}}var Br=!1;function lo(t,n,a){if(Br)return t(n,a);Br=!0;try{var l=t(n);return l}finally{if(Br=!1,(ci!==null||hi!==null)&&(Wo(),ci&&(n=ci,t=hi,hi=ci=null,fi(n),t)))for(n=0;n<t.length;n++)fi(t[n])}}function za(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ye]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var yn=!1;if(sn)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){yn=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{yn=!1}var qn=null,Zi=null,di=null;function kr(){if(di)return di;var t,n=Zi,a=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return di=c.slice(t,1<l?1-l:void 0)}function Pn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Hn(){return!0}function jr(){return!1}function we(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hn:jr,this.isPropagationStopped=jr,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cs=we(qt),ka=C({},qt,{view:0,detail:0}),oo=we(ka),Ds,Is,Gn,ja=C({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gn&&(Gn&&t.type==="mousemove"?(Ds=t.screenX-Gn.screenX,Is=t.screenY-Gn.screenY):Is=Ds=0,Gn=t),Ds)},movementY:function(t){return"movementY"in t?t.movementY:Is}}),vn=we(ja),uo=C({},ja,{dataTransfer:0}),cc=we(uo),qa=C({},ka,{relatedTarget:0}),Vs=we(qa),qr=C({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Os=we(qr),co=C({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ns=we(co),hc=C({},qt,{data:0}),Pr=we(hc),Pa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ho={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hr(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=fo[t])?!!n[t]:!1}function Ha(){return Hr}var mo=C({},ka,{key:function(t){if(t.key){var n=Pa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Pn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ho[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(t){return t.type==="keypress"?Pn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ms=we(mo),go=C({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gr=we(go),mi=C({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),po=we(mi),yo=C({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vo=we(yo),_o=C({},ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xs=we(_o),Ke=C({},qt,{newState:0,oldState:0}),Eo=we(Ke),To=[9,13,27,32],Qn=sn&&"CompositionEvent"in window,o=null;sn&&"documentMode"in document&&(o=document.documentMode);var m=sn&&"TextEvent"in window&&!o,p=sn&&(!Qn||o&&8<o&&11>=o),T=" ",L=!1;function k(t,n){switch(t){case"keyup":return To.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dt=!1;function ve(t,n){switch(t){case"compositionend":return X(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function It(t,n){if(Dt)return t==="compositionend"||!Qn&&k(t,n)?(t=kr(),di=Zi=qn=null,Dt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _e(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function gi(t,n,a,l){ci?hi?hi.push(l):hi=[l]:ci=l,n=au(n,"onChange"),0<n.length&&(a=new Cs("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ne=null,Fn=null;function Qr(t){Xg(t,0)}function Ao(t){var n=Gi(t);if(Ur(n))return t}function bd(t,n){if(t==="change")return n}var Rd=!1;if(sn){var fc;if(sn){var dc="oninput"in document;if(!dc){var wd=document.createElement("div");wd.setAttribute("oninput","return;"),dc=typeof wd.oninput=="function"}fc=dc}else fc=!1;Rd=fc&&(!document.documentMode||9<document.documentMode)}function Cd(){Ne&&(Ne.detachEvent("onpropertychange",Dd),Fn=Ne=null)}function Dd(t){if(t.propertyName==="value"&&Ao(Fn)){var n=[];gi(n,Fn,t,ws(t)),lo(Qr,n)}}function j_(t,n,a){t==="focusin"?(Cd(),Ne=n,Fn=a,Ne.attachEvent("onpropertychange",Dd)):t==="focusout"&&Cd()}function q_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ao(Fn)}function P_(t,n){if(t==="click")return Ao(n)}function H_(t,n){if(t==="input"||t==="change")return Ao(n)}function G_(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var rn=typeof Object.is=="function"?Object.is:G_;function Fr(t,n){if(rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!vs.call(n,c)||!rn(t[c],n[c]))return!1}return!0}function Id(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vd(t,n){var a=Id(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Id(a)}}function Od(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Od(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Nd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=bs(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=bs(t.document)}return n}function mc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Q_(t,n){var a=Nd(n);n=t.focusedElem;var l=t.selectionRange;if(a!==n&&n&&n.ownerDocument&&Od(n.ownerDocument.documentElement,n)){if(l!==null&&mc(n)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(a,n.value.length);else if(a=(t=n.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!a.extend&&f>l&&(c=l,l=f,f=c),c=Vd(n,f);var y=Vd(n,l);c&&y&&(a.rangeCount!==1||a.anchorNode!==c.node||a.anchorOffset!==c.offset||a.focusNode!==y.node||a.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),a.removeAllRanges(),f>l?(a.addRange(t),a.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),a.addRange(t)))}}for(t=[],a=n;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)a=t[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var F_=sn&&"documentMode"in document&&11>=document.documentMode,Us=null,gc=null,Kr=null,pc=!1;function Md(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pc||Us==null||Us!==bs(l)||(l=Us,"selectionStart"in l&&mc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Kr&&Fr(Kr,l)||(Kr=l,l=au(gc,"onSelect"),0<l.length&&(n=new Cs("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Us)))}function Ga(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ls={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionrun:Ga("Transition","TransitionRun"),transitionstart:Ga("Transition","TransitionStart"),transitioncancel:Ga("Transition","TransitionCancel"),transitionend:Ga("Transition","TransitionEnd")},yc={},xd={};sn&&(xd=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function Qa(t){if(yc[t])return yc[t];if(!Ls[t])return t;var n=Ls[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in xd)return yc[t]=n[a];return t}var Ud=Qa("animationend"),Ld=Qa("animationiteration"),zd=Qa("animationstart"),K_=Qa("transitionrun"),Y_=Qa("transitionstart"),X_=Qa("transitioncancel"),Bd=Qa("transitionend"),kd=new Map,jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function On(t,n){kd.set(t,n),an(n,[t])}var _n=[],zs=0,vc=0;function So(){for(var t=zs,n=vc=zs=0;n<t;){var a=_n[n];_n[n++]=null;var l=_n[n];_n[n++]=null;var c=_n[n];_n[n++]=null;var f=_n[n];if(_n[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&qd(a,c,f)}}function bo(t,n,a,l){_n[zs++]=t,_n[zs++]=n,_n[zs++]=a,_n[zs++]=l,vc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _c(t,n,a,l){return bo(t,n,a,l),Ro(t)}function $i(t,n){return bo(t,null,null,n),Ro(t)}function qd(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Qe(a),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=a|536870912)}function Ro(t){if(50<vl)throw vl=0,Rh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Bs={},Pd=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var a=Pd.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ft(n)},Pd.set(t,n),n)}return{value:t,source:n,stack:ft(n)}}var ks=[],js=0,wo=null,Co=0,Tn=[],An=0,Fa=null,pi=1,yi="";function Ka(t,n){ks[js++]=Co,ks[js++]=wo,wo=t,Co=n}function Hd(t,n,a){Tn[An++]=pi,Tn[An++]=yi,Tn[An++]=Fa,Fa=t;var l=pi;t=yi;var c=32-Qe(l)-1;l&=~(1<<c),a+=1;var f=32-Qe(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,pi=1<<32-Qe(n)+c|a<<c|l,yi=f+t}else pi=1<<f|a<<c|l,yi=t}function Ec(t){t.return!==null&&(Ka(t,1),Hd(t,1,0))}function Tc(t){for(;t===wo;)wo=ks[--js],ks[js]=null,Co=ks[--js],ks[js]=null;for(;t===Fa;)Fa=Tn[--An],Tn[An]=null,yi=Tn[--An],Tn[An]=null,pi=Tn[--An],Tn[An]=null}var Ye=null,Me=null,Bt=!1,Nn=null,Kn=!1,Ac=Error(r(519));function Ya(t){var n=Error(r(418,""));throw Zr(En(n,t)),Ac}function Gd(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Re]=t,n[ye]=l,a){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(a=0;a<El.length;a++)wt(El[a],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),Ua(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),xa(n);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),Xi(n,l.value,l.defaultValue,l.children),xa(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Wg(n.textContent,a)?(l.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),l.onScroll!=null&&wt("scroll",n),l.onScrollEnd!=null&&wt("scrollend",n),l.onClick!=null&&(n.onclick=su),n=!0):n=!1,n||Ya(t)}function Qd(t){for(Ye=t.return;Ye;)switch(Ye.tag){case 3:case 27:Kn=!0;return;case 5:case 13:Kn=!1;return;default:Ye=Ye.return}}function Yr(t){if(t!==Ye)return!1;if(!Bt)return Qd(t),Bt=!0,!1;var n=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ph(t.type,t.memoizedProps)),a=!a),a&&(n=!0),n&&Me&&Ya(t),Qd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Me=xn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Me=null}}else Me=Ye?xn(t.stateNode.nextSibling):null;return!0}function Xr(){Me=Ye=null,Bt=!1}function Zr(t){Nn===null?Nn=[t]:Nn.push(t)}var $r=Error(r(460)),Fd=Error(r(474)),Sc={then:function(){}};function Kd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Do(){}function Yd(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Do,Do),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===$r?Error(r(483)):t;default:if(typeof n.status=="string")n.then(Do,Do);else{if(t=Kt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===$r?Error(r(483)):t}throw Jr=n,$r}}var Jr=null;function Xd(){if(Jr===null)throw Error(r(459));var t=Jr;return Jr=null,t}var qs=null,Wr=0;function Io(t){var n=Wr;return Wr+=1,qs===null&&(qs=[]),Yd(qs,t,n)}function tl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Vo(t,n){throw n.$$typeof===h?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Zd(t){var n=t._init;return n(t._payload)}function $d(t){function n(x,I){if(t){var z=x.deletions;z===null?(x.deletions=[I],x.flags|=16):z.push(I)}}function a(x,I){if(!t)return null;for(;I!==null;)n(x,I),I=I.sibling;return null}function l(x){for(var I=new Map;x!==null;)x.key!==null?I.set(x.key,x):I.set(x.index,x),x=x.sibling;return I}function c(x,I){return x=ua(x,I),x.index=0,x.sibling=null,x}function f(x,I,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<I?(x.flags|=33554434,I):z):(x.flags|=33554434,I)):(x.flags|=1048576,I)}function y(x){return t&&x.alternate===null&&(x.flags|=33554434),x}function E(x,I,z,H){return I===null||I.tag!==6?(I=yh(z,x.mode,H),I.return=x,I):(I=c(I,z),I.return=x,I)}function S(x,I,z,H){var it=z.type;return it===v?P(x,I,z.props.children,H,z.key):I!==null&&(I.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===mt&&Zd(it)===I.type)?(I=c(I,z.props),tl(I,z),I.return=x,I):(I=Yo(z.type,z.key,z.props,null,x.mode,H),tl(I,z),I.return=x,I)}function O(x,I,z,H){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=vh(z,x.mode,H),I.return=x,I):(I=c(I,z.children||[]),I.return=x,I)}function P(x,I,z,H,it){return I===null||I.tag!==7?(I=as(z,x.mode,H,it),I.return=x,I):(I=c(I,z),I.return=x,I)}function F(x,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=yh(""+I,x.mode,z),I.return=x,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case d:return z=Yo(I.type,I.key,I.props,null,x.mode,z),tl(z,I),z.return=x,z;case g:return I=vh(I,x.mode,z),I.return=x,I;case mt:var H=I._init;return I=H(I._payload),F(x,I,z)}if(tt(I)||Ct(I))return I=as(I,x.mode,z,null),I.return=x,I;if(typeof I.then=="function")return F(x,Io(I),z);if(I.$$typeof===G)return F(x,Qo(x,I),z);Vo(x,I)}return null}function B(x,I,z,H){var it=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return it!==null?null:E(x,I,""+z,H);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case d:return z.key===it?S(x,I,z,H):null;case g:return z.key===it?O(x,I,z,H):null;case mt:return it=z._init,z=it(z._payload),B(x,I,z,H)}if(tt(z)||Ct(z))return it!==null?null:P(x,I,z,H,null);if(typeof z.then=="function")return B(x,I,Io(z),H);if(z.$$typeof===G)return B(x,I,Qo(x,z),H);Vo(x,z)}return null}function q(x,I,z,H,it){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return x=x.get(z)||null,E(I,x,""+H,it);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case d:return x=x.get(H.key===null?z:H.key)||null,S(I,x,H,it);case g:return x=x.get(H.key===null?z:H.key)||null,O(I,x,H,it);case mt:var St=H._init;return H=St(H._payload),q(x,I,z,H,it)}if(tt(H)||Ct(H))return x=x.get(z)||null,P(I,x,H,it,null);if(typeof H.then=="function")return q(x,I,z,Io(H),it);if(H.$$typeof===G)return q(x,I,z,Qo(I,H),it);Vo(I,H)}return null}function at(x,I,z,H){for(var it=null,St=null,lt=I,ct=I=0,Ve=null;lt!==null&&ct<z.length;ct++){lt.index>ct?(Ve=lt,lt=null):Ve=lt.sibling;var kt=B(x,lt,z[ct],H);if(kt===null){lt===null&&(lt=Ve);break}t&&lt&&kt.alternate===null&&n(x,lt),I=f(kt,I,ct),St===null?it=kt:St.sibling=kt,St=kt,lt=Ve}if(ct===z.length)return a(x,lt),Bt&&Ka(x,ct),it;if(lt===null){for(;ct<z.length;ct++)lt=F(x,z[ct],H),lt!==null&&(I=f(lt,I,ct),St===null?it=lt:St.sibling=lt,St=lt);return Bt&&Ka(x,ct),it}for(lt=l(lt);ct<z.length;ct++)Ve=q(lt,x,ct,z[ct],H),Ve!==null&&(t&&Ve.alternate!==null&&lt.delete(Ve.key===null?ct:Ve.key),I=f(Ve,I,ct),St===null?it=Ve:St.sibling=Ve,St=Ve);return t&&lt.forEach(function(pa){return n(x,pa)}),Bt&&Ka(x,ct),it}function gt(x,I,z,H){if(z==null)throw Error(r(151));for(var it=null,St=null,lt=I,ct=I=0,Ve=null,kt=z.next();lt!==null&&!kt.done;ct++,kt=z.next()){lt.index>ct?(Ve=lt,lt=null):Ve=lt.sibling;var pa=B(x,lt,kt.value,H);if(pa===null){lt===null&&(lt=Ve);break}t&&lt&&pa.alternate===null&&n(x,lt),I=f(pa,I,ct),St===null?it=pa:St.sibling=pa,St=pa,lt=Ve}if(kt.done)return a(x,lt),Bt&&Ka(x,ct),it;if(lt===null){for(;!kt.done;ct++,kt=z.next())kt=F(x,kt.value,H),kt!==null&&(I=f(kt,I,ct),St===null?it=kt:St.sibling=kt,St=kt);return Bt&&Ka(x,ct),it}for(lt=l(lt);!kt.done;ct++,kt=z.next())kt=q(lt,x,ct,kt.value,H),kt!==null&&(t&&kt.alternate!==null&&lt.delete(kt.key===null?ct:kt.key),I=f(kt,I,ct),St===null?it=kt:St.sibling=kt,St=kt);return t&&lt.forEach(function(uE){return n(x,uE)}),Bt&&Ka(x,ct),it}function ie(x,I,z,H){if(typeof z=="object"&&z!==null&&z.type===v&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case d:t:{for(var it=z.key;I!==null;){if(I.key===it){if(it=z.type,it===v){if(I.tag===7){a(x,I.sibling),H=c(I,z.props.children),H.return=x,x=H;break t}}else if(I.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===mt&&Zd(it)===I.type){a(x,I.sibling),H=c(I,z.props),tl(H,z),H.return=x,x=H;break t}a(x,I);break}else n(x,I);I=I.sibling}z.type===v?(H=as(z.props.children,x.mode,H,z.key),H.return=x,x=H):(H=Yo(z.type,z.key,z.props,null,x.mode,H),tl(H,z),H.return=x,x=H)}return y(x);case g:t:{for(it=z.key;I!==null;){if(I.key===it)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){a(x,I.sibling),H=c(I,z.children||[]),H.return=x,x=H;break t}else{a(x,I);break}else n(x,I);I=I.sibling}H=vh(z,x.mode,H),H.return=x,x=H}return y(x);case mt:return it=z._init,z=it(z._payload),ie(x,I,z,H)}if(tt(z))return at(x,I,z,H);if(Ct(z)){if(it=Ct(z),typeof it!="function")throw Error(r(150));return z=it.call(z),gt(x,I,z,H)}if(typeof z.then=="function")return ie(x,I,Io(z),H);if(z.$$typeof===G)return ie(x,I,Qo(x,z),H);Vo(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(a(x,I.sibling),H=c(I,z),H.return=x,x=H):(a(x,I),H=yh(z,x.mode,H),H.return=x,x=H),y(x)):a(x,I)}return function(x,I,z,H){try{Wr=0;var it=ie(x,I,z,H);return qs=null,it}catch(lt){if(lt===$r)throw lt;var St=wn(29,lt,null,x.mode);return St.lanes=H,St.return=x,St}finally{}}}var Xa=$d(!0),Jd=$d(!1),Ps=Lt(null),Oo=Lt(0);function Wd(t,n){t=Di,Pt(Oo,t),Pt(Ps,n),Di=t|n.baseLanes}function bc(){Pt(Oo,Di),Pt(Ps,Ps.current)}function Rc(){Di=Oo.current,Wt(Ps),Wt(Oo)}var Sn=Lt(null),Yn=null;function Ji(t){var n=t.alternate;Pt(Ee,Ee.current&1),Pt(Sn,t),Yn===null&&(n===null||Ps.current!==null||n.memoizedState!==null)&&(Yn=t)}function tm(t){if(t.tag===22){if(Pt(Ee,Ee.current),Pt(Sn,t),Yn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Yn=t)}}else Wi()}function Wi(){Pt(Ee,Ee.current),Pt(Sn,Sn.current)}function vi(t){Wt(Sn),Yn===t&&(Yn=null),Wt(Ee)}var Ee=Lt(0);function No(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Z_=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},$_=s.unstable_scheduleCallback,J_=s.unstable_NormalPriority,Te={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wc(){return{controller:new Z_,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&$_(J_,function(){t.controller.abort()})}var nl=null,Cc=0,Hs=0,Gs=null;function W_(t,n){if(nl===null){var a=nl=[];Cc=0,Hs=Mh(),Gs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Cc++,n.then(em,em),n}function em(){if(--Cc===0&&nl!==null){Gs!==null&&(Gs.status="fulfilled");var t=nl;nl=null,Hs=0,Gs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function t0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var nm=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&W_(t,n),nm!==null&&nm(t,n)};var Za=Lt(null);function Dc(){var t=Za.current;return t!==null?t:Kt.pooledCache}function Mo(t,n){n===null?Pt(Za,Za.current):Pt(Za,n.pool)}function im(){var t=Dc();return t===null?null:{parent:Te._currentValue,pool:t}}var ta=0,At=null,Gt=null,he=null,xo=!1,Qs=!1,$a=!1,Uo=0,il=0,Fs=null,e0=0;function re(){throw Error(r(321))}function Ic(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!rn(t[a],n[a]))return!1;return!0}function Vc(t,n,a,l,c,f){return ta=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?Ja:ea,$a=!1,f=a(l,c),$a=!1,Qs&&(f=sm(n,a,l,c)),am(t),f}function am(t){A.H=Xn;var n=Gt!==null&&Gt.next!==null;if(ta=0,he=Gt=At=null,xo=!1,il=0,Fs=null,n)throw Error(r(300));t===null||De||(t=t.dependencies,t!==null&&Go(t)&&(De=!0))}function sm(t,n,a,l){At=t;var c=0;do{if(Qs&&(Fs=null),il=0,Qs=!1,25<=c)throw Error(r(301));if(c+=1,he=Gt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=Wa,f=n(a,l)}while(Qs);return f}function n0(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?al(n):n,t=t.useState()[0],(Gt!==null?Gt.memoizedState:null)!==t&&(At.flags|=1024),n}function Oc(){var t=Uo!==0;return Uo=0,t}function Nc(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Mc(t){if(xo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}xo=!1}ta=0,he=Gt=At=null,Qs=!1,il=Uo=0,Fs=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?At.memoizedState=he=t:he=he.next=t,he}function fe(){if(Gt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Gt.next;var n=he===null?At.memoizedState:he.next;if(n!==null)he=n,Gt=t;else{if(t===null)throw At.alternate===null?Error(r(467)):Error(r(310));Gt=t,t={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},he===null?At.memoizedState=he=t:he=he.next=t}return he}var Lo;Lo=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function al(t){var n=il;return il+=1,Fs===null&&(Fs=[]),t=Yd(Fs,t,n),n=At,(he===null?n.memoizedState:he.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?Ja:ea),t}function zo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===G)return ke(t)}throw Error(r(438,String(t)))}function xc(t){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Lo(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=Ht;return n.index++,a}function _i(t,n){return typeof n=="function"?n(t):n}function Bo(t){var n=fe();return Uc(n,Gt,t)}function Uc(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,S=null,O=n,P=!1;do{var F=O.lane&-536870913;if(F!==O.lane?(Vt&F)===F:(ta&F)===F){var B=O.revertLane;if(B===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),F===Hs&&(P=!0);else if((ta&B)===B){O=O.next,B===Hs&&(P=!0);continue}else F={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},S===null?(E=S=F,y=f):S=S.next=F,At.lanes|=B,ca|=B;F=O.action,$a&&a(f,F),f=O.hasEagerState?O.eagerState:a(f,F)}else B={lane:F,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},S===null?(E=S=B,y=f):S=S.next=B,At.lanes|=F,ca|=F;O=O.next}while(O!==null&&O!==n);if(S===null?y=f:S.next=E,!rn(f,t.memoizedState)&&(De=!0,P&&(a=Gs,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=S,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Lc(t){var n=fe(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);rn(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function rm(t,n,a){var l=At,c=fe(),f=Bt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!rn((Gt||c).memoizedState,a);if(y&&(c.memoizedState=a,De=!0),c=c.queue,kc(um.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||he!==null&&he.memoizedState.tag&1){if(l.flags|=2048,Ks(9,om.bind(null,l,c,a,n),{destroy:void 0},null),Kt===null)throw Error(r(349));f||(ta&60)!==0||lm(l,n,a)}return a}function lm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=Lo(),At.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function om(t,n,a,l){n.value=a,n.getSnapshot=l,cm(n)&&hm(t)}function um(t,n,a){return a(function(){cm(n)&&hm(t)})}function cm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!rn(t,a)}catch{return!0}}function hm(t){var n=$i(t,2);n!==null&&Xe(n,t,2)}function zc(t){var n=We();if(typeof t=="function"){var a=t;if(t=a(),$a){Ln(!0);try{a()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},n}function fm(t,n,a,l){return t.baseState=a,Uc(t,Gt,typeof l=="function"?l:_i)}function i0(t,n,a,l,c){if(qo(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};A.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,dm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function dm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=A.T,y={};A.T=y;try{var E=a(c,l),S=A.S;S!==null&&S(y,E),mm(t,n,E)}catch(O){Bc(t,n,O)}finally{A.T=f}}else try{f=a(c,l),mm(t,n,f)}catch(O){Bc(t,n,O)}}function mm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){gm(t,n,l)},function(l){return Bc(t,n,l)}):gm(t,n,a)}function gm(t,n,a){n.status="fulfilled",n.value=a,pm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,dm(t,a)))}function Bc(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,pm(n),n=n.next;while(n!==l)}t.action=null}function pm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ym(t,n){return n}function vm(t,n){if(Bt){var a=Kt.formState;if(a!==null){t:{var l=At;if(Bt){if(Me){e:{for(var c=Me,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=xn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Me=xn(c.nextSibling),l=c.data==="F!";break t}}Ya(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ym,lastRenderedState:n},a.queue=l,a=Lm.bind(null,At,l),l.dispatch=a,l=zc(!1),f=Gc.bind(null,At,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=i0.bind(null,At,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function _m(t){var n=fe();return Em(n,Gt,t)}function Em(t,n,a){n=Uc(t,n,ym)[0],t=Bo(_i)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?al(n):n;var l=fe(),c=l.queue,f=c.dispatch;return a!==l.memoizedState&&(At.flags|=2048,Ks(9,a0.bind(null,c,a),{destroy:void 0},null)),[n,f,t]}function a0(t,n){t.action=n}function Tm(t){var n=fe(),a=Gt;if(a!==null)return Em(n,a,t);fe(),n=n.memoizedState,a=fe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Ks(t,n,a,l){return t={tag:t,create:n,inst:a,deps:l,next:null},n=At.updateQueue,n===null&&(n=Lo(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Am(){return fe().memoizedState}function ko(t,n,a,l){var c=We();At.flags|=t,c.memoizedState=Ks(1|n,a,{destroy:void 0},l===void 0?null:l)}function jo(t,n,a,l){var c=fe();l=l===void 0?null:l;var f=c.memoizedState.inst;Gt!==null&&l!==null&&Ic(l,Gt.memoizedState.deps)?c.memoizedState=Ks(n,a,f,l):(At.flags|=t,c.memoizedState=Ks(1|n,a,f,l))}function Sm(t,n){ko(8390656,8,t,n)}function kc(t,n){jo(2048,8,t,n)}function bm(t,n){return jo(4,2,t,n)}function Rm(t,n){return jo(4,4,t,n)}function wm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Cm(t,n,a){a=a!=null?a.concat([t]):null,jo(4,4,wm.bind(null,n,t),a)}function jc(){}function Dm(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Ic(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Im(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Ic(n,l[1]))return l[0];if(l=t(),$a){Ln(!0);try{t()}finally{Ln(!1)}}return a.memoizedState=[l,n],l}function qc(t,n,a){return a===void 0||(ta&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Og(),At.lanes|=t,ca|=t,a)}function Vm(t,n,a,l){return rn(a,n)?a:Ps.current!==null?(t=qc(t,a,l),rn(t,n)||(De=!0),t):(ta&42)===0?(De=!0,t.memoizedState=a):(t=Og(),At.lanes|=t,ca|=t,n)}function Om(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=A.T,E={};A.T=E,Gc(t,!1,n,a);try{var S=c(),O=A.S;if(O!==null&&O(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var P=t0(S,l);sl(t,n,P,cn(t))}else sl(t,n,l,cn(t))}catch(F){sl(t,n,{then:function(){},status:"rejected",reason:F},cn())}finally{et.p=f,A.T=y}}function s0(){}function Pc(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=Nm(t).queue;Om(t,c,n,Tt,a===null?s0:function(){return Mm(t),a(l)})}function Nm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Tt,baseState:Tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:Tt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Mm(t){var n=Nm(t).next.queue;sl(t,n,{},cn())}function Hc(){return ke(Rl)}function xm(){return fe().memoizedState}function Um(){return fe().memoizedState}function r0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=cn();t=aa(a);var l=sa(n,t,a);l!==null&&(Xe(l,n,a),ol(l,n,a)),n={cache:wc()},t.payload=n;return}n=n.return}}function l0(t,n,a){var l=cn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},qo(t)?zm(n,a):(a=_c(t,n,a,l),a!==null&&(Xe(a,t,l),Bm(a,n,l)))}function Lm(t,n,a){var l=cn();sl(t,n,a,l)}function sl(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(qo(t))zm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,rn(E,y))return bo(t,n,c,0),Kt===null&&So(),!1}catch{}finally{}if(a=_c(t,n,c,l),a!==null)return Xe(a,t,l),Bm(a,n,l),!0}return!1}function Gc(t,n,a,l){if(l={lane:2,revertLane:Mh(),action:l,hasEagerState:!1,eagerState:null,next:null},qo(t)){if(n)throw Error(r(479))}else n=_c(t,a,l,2),n!==null&&Xe(n,t,2)}function qo(t){var n=t.alternate;return t===At||n!==null&&n===At}function zm(t,n){Qs=xo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Bm(t,n,a){if((a&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,qi(t,a)}}var Xn={readContext:ke,use:zo,useCallback:re,useContext:re,useEffect:re,useImperativeHandle:re,useLayoutEffect:re,useInsertionEffect:re,useMemo:re,useReducer:re,useRef:re,useState:re,useDebugValue:re,useDeferredValue:re,useTransition:re,useSyncExternalStore:re,useId:re};Xn.useCacheRefresh=re,Xn.useMemoCache=re,Xn.useHostTransitionStatus=re,Xn.useFormState=re,Xn.useActionState=re,Xn.useOptimistic=re;var Ja={readContext:ke,use:zo,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:Sm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,ko(4194308,4,wm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return ko(4194308,4,t,n)},useInsertionEffect:function(t,n){ko(4,2,t,n)},useMemo:function(t,n){var a=We();n=n===void 0?null:n;var l=t();if($a){Ln(!0);try{t()}finally{Ln(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=We();if(a!==void 0){var c=a(n);if($a){Ln(!0);try{a(n)}finally{Ln(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=l0.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=zc(t);var n=t.queue,a=Lm.bind(null,At,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:jc,useDeferredValue:function(t,n){var a=We();return qc(a,t,n)},useTransition:function(){var t=zc(!1);return t=Om.bind(null,At,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=At,c=We();if(Bt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Kt===null)throw Error(r(349));(Vt&60)!==0||lm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Sm(um.bind(null,l,f,t),[t]),l.flags|=2048,Ks(9,om.bind(null,l,f,a,n),{destroy:void 0},null),a},useId:function(){var t=We(),n=Kt.identifierPrefix;if(Bt){var a=yi,l=pi;a=(l&~(1<<32-Qe(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=Uo++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=e0++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return We().memoizedState=r0.bind(null,At)}};Ja.useMemoCache=xc,Ja.useHostTransitionStatus=Hc,Ja.useFormState=vm,Ja.useActionState=vm,Ja.useOptimistic=function(t){var n=We();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Gc.bind(null,At,!0,a),a.dispatch=n,[t,n]};var ea={readContext:ke,use:zo,useCallback:Dm,useContext:ke,useEffect:kc,useImperativeHandle:Cm,useInsertionEffect:bm,useLayoutEffect:Rm,useMemo:Im,useReducer:Bo,useRef:Am,useState:function(){return Bo(_i)},useDebugValue:jc,useDeferredValue:function(t,n){var a=fe();return Vm(a,Gt.memoizedState,t,n)},useTransition:function(){var t=Bo(_i)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:rm,useId:xm};ea.useCacheRefresh=Um,ea.useMemoCache=xc,ea.useHostTransitionStatus=Hc,ea.useFormState=_m,ea.useActionState=_m,ea.useOptimistic=function(t,n){var a=fe();return fm(a,Gt,t,n)};var Wa={readContext:ke,use:zo,useCallback:Dm,useContext:ke,useEffect:kc,useImperativeHandle:Cm,useInsertionEffect:bm,useLayoutEffect:Rm,useMemo:Im,useReducer:Lc,useRef:Am,useState:function(){return Lc(_i)},useDebugValue:jc,useDeferredValue:function(t,n){var a=fe();return Gt===null?qc(a,t,n):Vm(a,Gt.memoizedState,t,n)},useTransition:function(){var t=Lc(_i)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:rm,useId:xm};Wa.useCacheRefresh=Um,Wa.useMemoCache=xc,Wa.useHostTransitionStatus=Hc,Wa.useFormState=Tm,Wa.useActionState=Tm,Wa.useOptimistic=function(t,n){var a=fe();return Gt!==null?fm(a,Gt,t,n):(a.baseState=t,[t,a.queue.dispatch])};function Qc(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:C({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Fc={isMounted:function(t){return(t=t._reactInternals)?ot(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var l=cn(),c=aa(l);c.payload=n,a!=null&&(c.callback=a),n=sa(t,c,l),n!==null&&(Xe(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=cn(),c=aa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=sa(t,c,l),n!==null&&(Xe(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=cn(),l=aa(a);l.tag=2,n!=null&&(l.callback=n),n=sa(t,l,a),n!==null&&(Xe(n,t,a),ol(n,t,a))}};function km(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Fr(a,l)||!Fr(c,f):!0}function jm(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Fc.enqueueReplaceState(n,n.state,null)}function ts(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=C({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Po=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function qm(t){Po(t)}function Pm(t){console.error(t)}function Hm(t){Po(t)}function Ho(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Gm(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Kc(t,n,a){return a=aa(a),a.tag=3,a.payload={element:null},a.callback=function(){Ho(t,n)},a}function Qm(t){return t=aa(t),t.tag=3,t}function Fm(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Gm(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Gm(n,a,l),typeof c!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function o0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ll(n,a,c,!0),a=Sn.current,a!==null){switch(a.tag){case 13:return Yn===null?Dh():a.alternate===null&&ne===0&&(ne=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Sc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Vh(t,l,c)),!1;case 22:return a.flags|=65536,l===Sc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Vh(t,l,c)),!1}throw Error(r(435,a.tag))}return Vh(t,l,c),Dh(),!1}if(Bt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Ac&&(t=Error(r(422),{cause:l}),Zr(En(t,a)))):(l!==Ac&&(n=Error(r(423),{cause:l}),Zr(En(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,a),c=Kc(t.stateNode,l,c),oh(t,c),ne!==4&&(ne=2)),!1;var f=Error(r(520),{cause:l});if(f=En(f,a),pl===null?pl=[f]:pl.push(f),ne!==4&&(ne=2),n===null)return!0;l=En(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Kc(a.stateNode,l,t),oh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ha===null||!ha.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Qm(c),Fm(c,t,a,l),oh(a,c),!1}a=a.return}while(a!==null);return!1}var Km=Error(r(461)),De=!1;function xe(t,n,a,l){n.child=t===null?Jd(n,null,a,l):Xa(n,t.child,a,l)}function Ym(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ns(n),l=Vc(t,n,a,y,f,c),E=Oc(),t!==null&&!De?(Nc(t,n,c),Ei(t,n,c)):(Bt&&E&&Ec(n),n.flags|=1,xe(t,n,l,c),n.child)}function Xm(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!ph(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Zm(t,n,f,l,c)):(t=Yo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!nh(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Fr,a(y,l)&&t.ref===n.ref)return Ei(t,n,c)}return n.flags|=1,t=ua(f,l),t.ref=n.ref,t.return=n,n.child=t}function Zm(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Fr(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,nh(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Ei(t,n,c)}return Yc(t,n,a,l,c)}function $m(t,n,a){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(rl(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=y!==null?y.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Jm(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mo(n,y!==null?y.cachePool:null),y!==null?Wd(n,y):bc(),tm(n);else return n.lanes=n.childLanes=536870912,Jm(t,n,y!==null?y.baseLanes|a:a,a)}else y!==null?(Mo(n,y.cachePool),Wd(n,y),Wi(),n.memoizedState=null):(t!==null&&Mo(n,null),bc(),Wi());return xe(t,n,c,a),n.child}function Jm(t,n,a,l){var c=Dc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Mo(n,null),bc(),tm(n),t!==null&&ll(t,n,l,!0),null}function rl(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=2097664)}}function Yc(t,n,a,l,c){return ns(n),a=Vc(t,n,a,l,void 0,c),l=Oc(),t!==null&&!De?(Nc(t,n,c),Ei(t,n,c)):(Bt&&l&&Ec(n),n.flags|=1,xe(t,n,a,c),n.child)}function Wm(t,n,a,l,c,f){return ns(n),n.updateQueue=null,a=sm(n,l,a,c),am(t),l=Oc(),t!==null&&!De?(Nc(t,n,f),Ei(t,n,f)):(Bt&&l&&Ec(n),n.flags|=1,xe(t,n,a,f),n.child)}function tg(t,n,a,l,c){if(ns(n),n.stateNode===null){var f=Bs,y=a.contextType;typeof y=="object"&&y!==null&&(f=ke(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Fc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},rh(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?ke(y):Bs,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Qc(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Fc.enqueueReplaceState(f,f.state,null),cl(n,l,f,c),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,S=ts(a,E);f.props=S;var O=f.context,P=a.contextType;y=Bs,typeof P=="object"&&P!==null&&(y=ke(P));var F=a.getDerivedStateFromProps;P=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,P||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||O!==y)&&jm(n,f,l,y),ia=!1;var B=n.memoizedState;f.state=B,cl(n,l,f,c),ul(),O=n.memoizedState,E||B!==O||ia?(typeof F=="function"&&(Qc(n,a,F,l),O=n.memoizedState),(S=ia||km(n,a,S,l,B,O,y))?(P||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=O),f.props=l,f.state=O,f.context=y,l=S):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lh(t,n),y=n.memoizedProps,P=ts(a,y),f.props=P,F=n.pendingProps,B=f.context,O=a.contextType,S=Bs,typeof O=="object"&&O!==null&&(S=ke(O)),E=a.getDerivedStateFromProps,(O=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||B!==S)&&jm(n,f,l,S),ia=!1,B=n.memoizedState,f.state=B,cl(n,l,f,c),ul();var q=n.memoizedState;y!==F||B!==q||ia||t!==null&&t.dependencies!==null&&Go(t.dependencies)?(typeof E=="function"&&(Qc(n,a,E,l),q=n.memoizedState),(P=ia||km(n,a,P,l,B,q,S)||t!==null&&t.dependencies!==null&&Go(t.dependencies))?(O||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,S)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=S,l=P):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,rl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Xa(n,t.child,null,c),n.child=Xa(n,null,a,c)):xe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ei(t,n,c),t}function eg(t,n,a,l){return Xr(),n.flags|=256,xe(t,n,a,l),n.child}var Xc={dehydrated:null,treeContext:null,retryLane:0};function Zc(t){return{baseLanes:t,cachePool:im()}}function $c(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Cn),t}function ng(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Ji(n):Wi(),Bt){var E=Me,S;if(S=E){t:{for(S=E,E=Kn;S.nodeType!==8;){if(!E){E=null;break t}if(S=xn(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(n.memoizedState={dehydrated:E,treeContext:Fa!==null?{id:pi,overflow:yi}:null,retryLane:536870912},S=wn(18,null,null,0),S.stateNode=E,S.return=n,n.child=S,Ye=n,Me=null,S=!0):S=!1}S||Ya(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;vi(n)}return E=l.children,l=l.fallback,c?(Wi(),c=n.mode,E=Wc({mode:"hidden",children:E},c),l=as(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Zc(a),c.childLanes=$c(t,y,a),n.memoizedState=Xc,l):(Ji(n),Jc(n,E))}if(S=t.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(f)n.flags&256?(Ji(n),n.flags&=-257,n=th(t,n,a)):n.memoizedState!==null?(Wi(),n.child=t.child,n.flags|=128,n=null):(Wi(),c=l.fallback,E=n.mode,l=Wc({mode:"visible",children:l.children},E),c=as(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Xa(n,t.child,null,a),l=n.child,l.memoizedState=Zc(a),l.childLanes=$c(t,y,a),n.memoizedState=Xc,n=c);else if(Ji(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var O=y.dgst;y=O,l=Error(r(419)),l.stack="",l.digest=y,Zr({value:l,source:null,stack:null}),n=th(t,n,a)}else if(De||ll(t,n,a,!1),y=(a&t.childLanes)!==0,De||y){if(y=Kt,y!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==S.retryLane)throw S.retryLane=l,$i(t,l),Xe(y,t,l),Km}E.data==="$?"||Dh(),n=th(t,n,a)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=S0.bind(null,t),E._reactRetry=n,n=null):(t=S.treeContext,Me=xn(E.nextSibling),Ye=n,Bt=!0,Nn=null,Kn=!1,t!==null&&(Tn[An++]=pi,Tn[An++]=yi,Tn[An++]=Fa,pi=t.id,yi=t.overflow,Fa=n),n=Jc(n,l.children),n.flags|=4096);return n}return c?(Wi(),c=l.fallback,E=n.mode,S=t.child,O=S.sibling,l=ua(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&31457280,O!==null?c=ua(O,c):(c=as(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Zc(a):(S=E.cachePool,S!==null?(O=Te._currentValue,S=S.parent!==O?{parent:O,pool:O}:S):S=im(),E={baseLanes:E.baseLanes|a,cachePool:S}),c.memoizedState=E,c.childLanes=$c(t,y,a),n.memoizedState=Xc,l):(Ji(n),a=t.child,t=a.sibling,a=ua(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Jc(t,n){return n=Wc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Wc(t,n){return Dg(t,n,0,null)}function th(t,n,a){return Xa(n,t.child,null,a),t=Jc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ig(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ah(t.return,n,a)}function eh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function ag(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,a),l=Ee.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ig(t,a,n);else if(t.tag===19)ig(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Pt(Ee,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&No(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),eh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&No(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}eh(n,!0,a,null,f);break;case"together":eh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ei(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ca|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ll(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=ua(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ua(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function nh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Go(t)))}function u0(t,n,a){switch(n.tag){case 3:Ui(n,n.stateNode.containerInfo),na(n,Te,t.memoizedState.cache),Xr();break;case 27:case 5:Rr(n);break;case 4:Ui(n,n.stateNode.containerInfo);break;case 10:na(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ji(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ng(t,n,a):(Ji(n),t=Ei(t,n,a),t!==null?t.sibling:null);Ji(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ll(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return ag(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Pt(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,$m(t,n,a);case 24:na(n,Te,t.memoizedState.cache)}return Ei(t,n,a)}function sg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!nh(t,a)&&(n.flags&128)===0)return De=!1,u0(t,n,a);De=(t.flags&131072)!==0}else De=!1,Bt&&(n.flags&1048576)!==0&&Hd(n,Co,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")ph(l)?(t=ts(l,t),n.tag=1,n=tg(null,n,l,t,a)):(n.tag=0,n=Yc(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===J){n.tag=11,n=Ym(null,n,l,t,a);break t}else if(c===Rt){n.tag=14,n=Xm(null,n,l,t,a);break t}}throw n=b(l)||l,Error(r(306,n,""))}}return n;case 0:return Yc(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ts(l,n.pendingProps),tg(t,n,l,c,a);case 3:t:{if(Ui(n,n.stateNode.containerInfo),t===null)throw Error(r(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,lh(t,n),cl(n,f,null,a);var y=n.memoizedState;if(f=y.cache,na(n,Te,f),f!==c.cache&&sh(n,[Te],a,!0),ul(),f=y.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=eg(t,n,f,a);break t}else if(f!==l){l=En(Error(r(424)),n),Zr(l),n=eg(t,n,f,a);break t}else for(Me=xn(n.stateNode.containerInfo.firstChild),Ye=n,Bt=!0,Nn=null,Kn=!0,a=Jd(n,null,f,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Xr(),f===l){n=Ei(t,n,a);break t}xe(t,n,f,a)}n=n.child}return n;case 26:return rl(t,n),t===null?(a=op(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,t=n.pendingProps,l=ru(fn.current).createElement(a),l[Re]=n,l[ye]=t,Ue(l,a,t),Xt(l),n.stateNode=l):n.memoizedState=op(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Rr(n),t===null&&Bt&&(l=n.stateNode=sp(n.type,n.pendingProps,fn.current),Ye=n,Kn=!0,Me=xn(l.firstChild)),l=n.pendingProps.children,t!==null||Bt?xe(t,n,l,a):n.child=Xa(n,null,l,a),rl(t,n),n.child;case 5:return t===null&&Bt&&((c=l=Me)&&(l=k0(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Ye=n,Me=xn(l.firstChild),Kn=!1,c=!0):c=!1),c||Ya(n)),Rr(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Ph(c,f)?l=null:y!==null&&Ph(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Vc(t,n,n0,null,null,a),Rl._currentValue=c),rl(t,n),xe(t,n,l,a),n.child;case 6:return t===null&&Bt&&((t=a=Me)&&(a=j0(a,n.pendingProps,Kn),a!==null?(n.stateNode=a,Ye=n,Me=null,t=!0):t=!1),t||Ya(n)),null;case 13:return ng(t,n,a);case 4:return Ui(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Xa(n,null,l,a):xe(t,n,l,a),n.child;case 11:return Ym(t,n,n.type,n.pendingProps,a);case 7:return xe(t,n,n.pendingProps,a),n.child;case 8:return xe(t,n,n.pendingProps.children,a),n.child;case 12:return xe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,na(n,n.type,l.value),xe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ns(n),c=ke(c),l=l(c),n.flags|=1,xe(t,n,l,a),n.child;case 14:return Xm(t,n,n.type,n.pendingProps,a);case 15:return Zm(t,n,n.type,n.pendingProps,a);case 19:return ag(t,n,a);case 22:return $m(t,n,a);case 24:return ns(n),l=ke(Te),t===null?(c=Dc(),c===null&&(c=Kt,f=wc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},rh(n),na(n,Te,c)):((t.lanes&a)!==0&&(lh(t,n),cl(n,null,null,a),ul()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),na(n,Te,l)):(l=f.cache,na(n,Te,l),l!==c.cache&&sh(n,[Te],a,!0))),xe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}var ih=Lt(null),es=null,Ti=null;function na(t,n,a){Pt(ih,n._currentValue),n._currentValue=a}function Ai(t){t._currentValue=ih.current,Wt(ih)}function ah(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function sh(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var S=0;S<n.length;S++)if(E.context===n[S]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),ah(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),ah(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ll(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=c.type;rn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===xi.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}c=c.return}t!==null&&sh(n,t,a,l),n.flags|=262144}function Go(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ns(t){es=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return rg(es,t)}function Qo(t,n){return es===null&&ns(t),rg(t,n)}function rg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ti===null){if(t===null)throw Error(r(308));Ti=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ti=Ti.next=n;return a}var ia=!1;function rh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function aa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function sa(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($t&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ro(t),qd(t,null,a),n}return bo(t,l,n,a),Ro(t)}function ol(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,qi(t,a)}}function oh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var uh=!1;function ul(){if(uh){var t=Gs;if(t!==null)throw t}}function cl(t,n,a,l){uh=!1;var c=t.updateQueue;ia=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var S=E,O=S.next;S.next=null,y===null?f=O:y.next=O,y=S;var P=t.alternate;P!==null&&(P=P.updateQueue,E=P.lastBaseUpdate,E!==y&&(E===null?P.firstBaseUpdate=O:E.next=O,P.lastBaseUpdate=S))}if(f!==null){var F=c.baseState;y=0,P=O=S=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Vt&B)===B:(l&B)===B){B!==0&&B===Hs&&(uh=!0),P!==null&&(P=P.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=t,gt=E;B=n;var ie=a;switch(gt.tag){case 1:if(at=gt.payload,typeof at=="function"){F=at.call(ie,F,B);break t}F=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=gt.payload,B=typeof at=="function"?at.call(ie,F,B):at,B==null)break t;F=C({},F,B);break t;case 2:ia=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},P===null?(O=P=q,S=F):P=P.next=q,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);P===null&&(S=F),c.baseState=S,c.firstBaseUpdate=O,c.lastBaseUpdate=P,f===null&&(c.shared.lanes=0),ca|=y,t.lanes=y,t.memoizedState=F}}function lg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function og(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)lg(a[t],n)}function hl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){Ft(n,n.return,E)}}function ra(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var S=a;try{E()}catch(O){Ft(c,S,O)}}}l=l.next}while(l!==f)}}catch(O){Ft(n,n.return,O)}}function ug(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{og(n,a)}catch(l){Ft(t,t.return,l)}}}function cg(t,n,a){a.props=ts(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ft(t,n,l)}}function is(t,n){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(f){Ft(t,n,f)}}function ln(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Ft(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ft(t,n,c)}else a.current=null}function hg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Ft(t,t.return,c)}}function fg(t,n,a){try{var l=t.stateNode;x0(l,t.type,a,n),l[ye]=n}catch(c){Ft(t,t.return,c)}}function dg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function ch(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||dg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=su));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(hh(t,n,a),t=t.sibling;t!==null;)hh(t,n,a),t=t.sibling}function Fo(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Fo(t,n,a),t=t.sibling;t!==null;)Fo(t,n,a),t=t.sibling}var Si=!1,ee=!1,fh=!1,mg=typeof WeakSet=="function"?WeakSet:Set,Ie=null,gg=!1;function c0(t,n){if(t=t.containerInfo,jh=fu,t=Nd(t),mc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,S=-1,O=0,P=0,F=t,B=null;e:for(;;){for(var q;F!==a||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(S=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(q=F.firstChild)!==null;)B=F,F=q;for(;;){if(F===t)break e;if(B===a&&++O===c&&(E=y),B===f&&++P===l&&(S=y),(q=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=q}a=E===-1||S===-1?null:{start:E,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(qh={focusedElem:t,selectionRange:a},fu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var at=ts(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(at,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Ft(a,a.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Qh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}return at=gg,gg=!1,at}function pg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ri(t,a),l&4&&hl(5,a);break;case 1:if(Ri(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(E){Ft(a,a.return,E)}else{var c=ts(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ft(a,a.return,E)}}l&64&&ug(a),l&512&&is(a,a.return);break;case 3:if(Ri(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{og(l,t)}catch(E){Ft(a,a.return,E)}}break;case 26:Ri(t,a),l&512&&is(a,a.return);break;case 27:case 5:Ri(t,a),n===null&&l&4&&hg(a),l&512&&is(a,a.return);break;case 12:Ri(t,a);break;case 13:Ri(t,a),l&4&&_g(t,a);break;case 22:if(c=a.memoizedState!==null||Si,!c){n=n!==null&&n.memoizedState!==null||ee;var f=Si,y=ee;Si=c,(ee=n)&&!y?la(t,a,(a.subtreeFlags&8772)!==0):Ri(t,a),Si=f,ee=y}l&512&&(a.memoizedProps.mode==="manual"?is(a,a.return):ln(a,a.return));break;default:Ri(t,a)}}function yg(t){var n=t.alternate;n!==null&&(t.alternate=null,yg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ma(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var de=null,on=!1;function bi(t,n,a){for(a=a.child;a!==null;)vg(t,n,a),a=a.sibling}function vg(t,n,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Li,a)}catch{}switch(a.tag){case 26:ee||ln(a,n),bi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ee||ln(a,n);var l=de,c=on;for(de=a.stateNode,bi(t,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);Ma(a),de=l,on=c;break;case 5:ee||ln(a,n);case 6:c=de;var f=on;if(de=null,bi(t,n,a),de=c,on=f,de!==null)if(on)try{t=de,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Ft(a,n,y)}else try{de.removeChild(a.stateNode)}catch(y){Ft(a,n,y)}break;case 18:de!==null&&(on?(n=de,a=a.stateNode,n.nodeType===8?Gh(n.parentNode,a):n.nodeType===1&&Gh(n,a),Il(n)):Gh(de,a.stateNode));break;case 4:l=de,c=on,de=a.stateNode.containerInfo,on=!0,bi(t,n,a),de=l,on=c;break;case 0:case 11:case 14:case 15:ee||ra(2,a,n),ee||ra(4,a,n),bi(t,n,a);break;case 1:ee||(ln(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&cg(a,n,l)),bi(t,n,a);break;case 21:bi(t,n,a);break;case 22:ee||ln(a,n),ee=(l=ee)||a.memoizedState!==null,bi(t,n,a),ee=l;break;default:bi(t,n,a)}}function _g(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(a){Ft(n,n.return,a)}}function h0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new mg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new mg),n;default:throw Error(r(435,t.tag))}}function dh(t,n){var a=h0(t);n.forEach(function(l){var c=b0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function bn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:de=E.stateNode,on=!1;break t;case 3:de=E.stateNode.containerInfo,on=!0;break t;case 4:de=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(de===null)throw Error(r(160));vg(f,y,c),de=null,on=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Eg(n,t),n=n.sibling}var Mn=null;function Eg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(n,t),Rn(t),l&4&&(ra(3,t,t.return),hl(3,t),ra(5,t,t.return));break;case 1:bn(n,t),Rn(t),l&512&&(ee||a===null||ln(a,a.return)),l&64&&Si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Mn;if(bn(n,t),Rn(t),l&512&&(ee||a===null||ln(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Hi]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ue(f,l,a),f[Re]=t,Xt(f),l=f;break t;case"link":var y=hp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Ue(f,l,a),c.head.appendChild(f);break;case"meta":if(y=hp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Ue(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[Re]=t,Xt(f),l=f}t.stateNode=l}else fp(c,t.type,t.stateNode);else t.stateNode=cp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?fp(c,t.type,t.stateNode):cp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&fg(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var S=c.firstChild;S;){var O=S.nextSibling,P=S.nodeName;S[Hi]||P==="HEAD"||P==="BODY"||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=O}for(var F=t.type,B=c.attributes;B.length;)c.removeAttributeNode(B[0]);Ue(c,F,f),c[Re]=t,c[ye]=f}catch(at){Ft(t,t.return,at)}}case 5:if(bn(n,t),Rn(t),l&512&&(ee||a===null||ln(a,a.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(at){Ft(t,t.return,at)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,fg(t,c,a!==null?a.memoizedProps:c)),l&1024&&(fh=!0);break;case 6:if(bn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(at){Ft(t,t.return,at)}}break;case 3:if(uu=null,c=Mn,Mn=lu(n.containerInfo),bn(n,t),Mn=c,Rn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Il(n.containerInfo)}catch(at){Ft(t,t.return,at)}fh&&(fh=!1,Tg(t));break;case 4:l=Mn,Mn=lu(t.stateNode.containerInfo),bn(n,t),Rn(t),Mn=l;break;case 12:bn(n,t),Rn(t);break;case 13:bn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ah=$e()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dh(t,l)));break;case 22:if(l&512&&(ee||a===null||ln(a,a.return)),S=t.memoizedState!==null,O=a!==null&&a.memoizedState!==null,P=Si,F=ee,Si=P||S,ee=F||O,bn(n,t),ee=F,Si=P,Rn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=S?n._visibility&-2:n._visibility|1,S&&(n=Si||ee,a===null||O||n||Ys(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(a=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){O=a=n;try{if(c=O.stateNode,S)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=O.stateNode,E=O.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(at){Ft(O,O.return,at)}}}else if(n.tag===6){if(a===null){O=n;try{O.stateNode.nodeValue=S?"":O.memoizedProps}catch(at){Ft(O,O.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,dh(t,a))));break;case 19:bn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dh(t,l)));break;case 21:break;default:bn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var a=t.return;a!==null;){if(dg(a)){var l=a;break t}a=a.return}throw Error(r(160))}switch(l.tag){case 27:var c=l.stateNode,f=ch(t);Fo(t,f,c);break;case 5:var y=l.stateNode;l.flags&32&&(gn(y,""),l.flags&=-33);var E=ch(t);Fo(t,E,y);break;case 3:case 4:var S=l.stateNode.containerInfo,O=ch(t);hh(t,O,S);break;default:throw Error(r(161))}}}catch(P){Ft(t,t.return,P)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Tg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Tg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ri(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)pg(t,n.alternate,n),n=n.sibling}function Ys(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ra(4,n,n.return),Ys(n);break;case 1:ln(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&cg(n,n.return,a),Ys(n);break;case 26:case 27:case 5:ln(n,n.return),Ys(n);break;case 22:ln(n,n.return),n.memoizedState===null&&Ys(n);break;default:Ys(n)}t=t.sibling}}function la(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:la(c,f,a),hl(4,f);break;case 1:if(la(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(O){Ft(l,l.return,O)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)lg(S[c],E)}catch(O){Ft(l,l.return,O)}}a&&y&64&&ug(f),is(f,f.return);break;case 26:case 27:case 5:la(c,f,a),a&&l===null&&y&4&&hg(f),is(f,f.return);break;case 12:la(c,f,a);break;case 13:la(c,f,a),a&&y&4&&_g(c,f);break;case 22:f.memoizedState===null&&la(c,f,a),is(f,f.return);break;default:la(c,f,a)}n=n.sibling}}function mh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function gh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t))}function oa(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ag(t,n,a,l),n=n.sibling}function Ag(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:oa(t,n,a,l),c&2048&&hl(9,n);break;case 3:oa(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t)));break;case 12:if(c&2048){oa(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Ft(n,n.return,S)}}else oa(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?oa(t,n,a,l):fl(t,n):f._visibility&4?oa(t,n,a,l):(f._visibility|=4,Xs(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&mh(n.alternate,n);break;case 24:oa(t,n,a,l),c&2048&&gh(n.alternate,n);break;default:oa(t,n,a,l)}}function Xs(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,S=l,O=y.flags;switch(y.tag){case 0:case 11:case 15:Xs(f,y,E,S,c),hl(8,y);break;case 23:break;case 22:var P=y.stateNode;y.memoizedState!==null?P._visibility&4?Xs(f,y,E,S,c):fl(f,y):(P._visibility|=4,Xs(f,y,E,S,c)),c&&O&2048&&mh(y.alternate,y);break;case 24:Xs(f,y,E,S,c),c&&O&2048&&gh(y.alternate,y);break;default:Xs(f,y,E,S,c)}n=n.sibling}}function fl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:fl(a,l),c&2048&&mh(l.alternate,l);break;case 24:fl(a,l),c&2048&&gh(l.alternate,l);break;default:fl(a,l)}n=n.sibling}}var dl=8192;function Zs(t){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)Sg(t),t=t.sibling}function Sg(t){switch(t.tag){case 26:Zs(t),t.flags&dl&&t.memoizedState!==null&&W0(Mn,t.memoizedState,t.memoizedProps);break;case 5:Zs(t);break;case 3:case 4:var n=Mn;Mn=lu(t.stateNode.containerInfo),Zs(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=dl,dl=16777216,Zs(t),dl=n):Zs(t));break;default:Zs(t)}}function bg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ml(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,wg(l,t)}bg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rg(t),t=t.sibling}function Rg(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&ra(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Ko(t)):ml(t);break;default:ml(t)}}function Ko(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,wg(l,t)}bg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ra(8,n,n.return),Ko(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,Ko(n));break;default:Ko(n)}t=t.sibling}}function wg(t,n){for(;Ie!==null;){var a=Ie;switch(a.tag){case 0:case 11:case 15:ra(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ie=l;else t:for(a=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(yg(l),l===a){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}function f0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,n,a,l){return new f0(t,n,a,l)}function ph(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ua(t,n){var a=t.alternate;return a===null?(a=wn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Cg(t,n){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Yo(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")ph(t)&&(y=1);else if(typeof t=="string")y=$0(t,a,Ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case v:return as(a.children,c,f,n);case _:y=8,c|=24;break;case R:return t=wn(12,a,n,c|2),t.elementType=R,t.lanes=f,t;case rt:return t=wn(13,a,n,c),t.elementType=rt,t.lanes=f,t;case W:return t=wn(19,a,n,c),t.elementType=W,t.lanes=f,t;case ht:return Dg(a,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:case G:y=10;break t;case j:y=9;break t;case J:y=11;break t;case Rt:y=14;break t;case mt:y=16,l=null;break t}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=wn(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function as(t,n,a,l){return t=wn(7,t,l,n),t.lanes=a,t}function Dg(t,n,a,l){t=wn(22,t,l,n),t.elementType=ht,t.lanes=a;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(r(456));if((c._pendingVisibility&2)===0){var y=$i(f,2);y!==null&&(c._pendingVisibility|=2,Xe(y,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(r(456));if((c._pendingVisibility&2)!==0){var y=$i(f,2);y!==null&&(c._pendingVisibility&=-3,Xe(y,f,2))}}};return t.stateNode=c,t}function yh(t,n,a){return t=wn(6,t,null,n),t.lanes=a,t}function vh(t,n,a){return n=wn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function wi(t){t.flags|=4}function Ig(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!dp(n)){if(n=Sn.current,n!==null&&((Vt&4194176)===Vt?Yn!==null:(Vt&62914560)!==Vt&&(Vt&536870912)===0||n!==Yn))throw Jr=Sc,Fd;t.flags|=8192}}function Xo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ki():536870912,t.lanes|=n,Js|=n)}function gl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Zt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function d0(t,n,a){var l=n.pendingProps;switch(Tc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(n),null;case 1:return Zt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ai(Te),si(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Yr(n)?wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Nn!==null&&(wh(Nn),Nn=null))),Zt(n),null;case 26:return a=n.memoizedState,t===null?(wi(n),a!==null?(Zt(n),Ig(n,a)):(Zt(n),n.flags&=-16777217)):a?a!==t.memoizedState?(wi(n),Zt(n),Ig(n,a)):(Zt(n),n.flags&=-16777217):(t.memoizedProps!==l&&wi(n),Zt(n),n.flags&=-16777217),null;case 27:ys(n),a=fn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Zt(n),null}t=Ge.current,Yr(n)?Gd(n):(t=sp(c,l,a),n.stateNode=t,wi(n))}return Zt(n),null;case 5:if(ys(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Zt(n),null}if(t=Ge.current,Yr(n))Gd(n);else{switch(c=ru(fn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[Re]=n,t[ye]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Ue(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&wi(n)}}return Zt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=fn.current,Yr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Ye,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Re]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Wg(t.nodeValue,a)),t||Ya(n)}else t=ru(t).createTextNode(l),t[Re]=n,n.stateNode=t}return Zt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Yr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Re]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Zt(n),c=!1}else Nn!==null&&(wh(Nn),Nn=null),c=!0;if(!c)return n.flags&256?(vi(n),n):(vi(n),null)}if(vi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Xo(n,n.updateQueue),Zt(n),null;case 4:return si(),t===null&&zh(n.stateNode.containerInfo),Zt(n),null;case 10:return Ai(n.type),Zt(n),null;case 19:if(Wt(Ee),c=n.memoizedState,c===null)return Zt(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)gl(c,!1);else{if(ne!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=No(t),f!==null){for(n.flags|=128,gl(c,!1),t=f.updateQueue,n.updateQueue=t,Xo(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Cg(a,t),a=a.sibling;return Pt(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&$e()>Zo&&(n.flags|=128,l=!0,gl(c,!1),n.lanes=4194304)}else{if(!l)if(t=No(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Xo(n,t),gl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return Zt(n),null}else 2*$e()-c.renderingStartTime>Zo&&a!==536870912&&(n.flags|=128,l=!0,gl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=$e(),n.sibling=null,t=Ee.current,Pt(Ee,l?t&1|2:t&1),n):(Zt(n),null);case 22:case 23:return vi(n),Rc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Zt(n),n.subtreeFlags&6&&(n.flags|=8192)):Zt(n),a=n.updateQueue,a!==null&&Xo(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Wt(Za),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ai(Te),Zt(n),null;case 25:return null}throw Error(r(156,n.tag))}function m0(t,n){switch(Tc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ai(Te),si(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ys(n),null;case 13:if(vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Wt(Ee),null;case 4:return si(),null;case 10:return Ai(n.type),null;case 22:case 23:return vi(n),Rc(),t!==null&&Wt(Za),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ai(Te),null;case 25:return null;default:return null}}function Vg(t,n){switch(Tc(n),n.tag){case 3:Ai(Te),si();break;case 26:case 27:case 5:ys(n);break;case 4:si();break;case 13:vi(n);break;case 19:Wt(Ee);break;case 10:Ai(n.type);break;case 22:case 23:vi(n),Rc(),t!==null&&Wt(Za);break;case 24:Ai(Te)}}var g0={getCacheForType:function(t){var n=ke(Te),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},p0=typeof WeakMap=="function"?WeakMap:Map,$t=0,Kt=null,bt=null,Vt=0,Yt=0,un=null,Ci=!1,$s=!1,_h=!1,Di=0,ne=0,ca=0,ss=0,Eh=0,Cn=0,Js=0,pl=null,Zn=null,Th=!1,Ah=0,Zo=1/0,$o=null,ha=null,Jo=!1,rs=null,yl=0,Sh=0,bh=null,vl=0,Rh=null;function cn(){if(($t&2)!==0&&Vt!==0)return Vt&-Vt;if(A.T!==null){var t=Hs;return t!==0?t:Mh()}return io()}function Og(){Cn===0&&(Cn=(Vt&536870912)===0||Bt?Vr():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),Cn}function Xe(t,n,a){(t===Kt&&Yt===2||t.cancelPendingCommit!==null)&&(Ws(t,0),Ii(t,Vt,Cn,!1)),se(t,a),(($t&2)===0||t!==Kt)&&(t===Kt&&(($t&2)===0&&(ss|=a),ne===4&&Ii(t,Vt,Cn,!1)),$n(t))}function Ng(t,n,a){if(($t&6)!==0)throw Error(r(327));var l=!a&&(n&60)===0&&(n&t.expiredLanes)===0||Bi(t,n),c=l?_0(t,n):Ih(t,n,!0),f=l;do{if(c===0){$s&&!l&&Ii(t,n,0,!1);break}else if(c===6)Ii(t,n,0,!Ci);else{if(a=t.current.alternate,f&&!y0(a)){c=Ih(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=pl;var S=E.current.memoizedState.isDehydrated;if(S&&(Ws(E,y).flags|=256),y=Ih(E,y,!1),y!==2){if(_h&&!S){E.errorRecoveryDisabledLanes|=f,ss|=f,c=4;break t}f=Zn,Zn=c,f!==null&&wh(f)}c=y}if(f=!1,c!==2)continue}}if(c===1){Ws(t,0),Ii(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(r(345));case 4:if((n&4194176)===n){Ii(l,n,Cn,!Ci);break t}break;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(r(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(f=Ah+300-$e(),10<f)){if(Ii(l,n,Cn,!Ci),dn(l,0)!==0)break t;l.timeoutHandle=np(Mg.bind(null,l,a,Zn,$o,Th,n,Cn,ss,Js,Ci,2,-0,0),f);break t}Mg(l,a,Zn,$o,Th,n,Cn,ss,Js,Ci,0,-0,0)}}break}while(!0);$n(t)}function wh(t){Zn===null?Zn=t:Zn.push.apply(Zn,t)}function Mg(t,n,a,l,c,f,y,E,S,O,P,F,B){var q=n.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:J0},Sg(n),n=tE(),n!==null)){t.cancelPendingCommit=n(jg.bind(null,t,a,l,c,y,E,S,1,F,B)),Ii(t,f,y,!O);return}jg(t,a,l,c,y,E,S,P,F,B)}function y0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!rn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ii(t,n,a,l){n&=~Eh,n&=~ss,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Qe(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&ji(t,a,n)}function Wo(){return($t&6)===0?(_l(0),!1):!0}function Ch(){if(bt!==null){if(Yt===0)var t=bt.return;else t=bt,Ti=es=null,Mc(t),qs=null,Wr=0,t=bt;for(;t!==null;)Vg(t.alternate,t),t=t.return;bt=null}}function Ws(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,L0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ch(),Kt=t,bt=a=ua(t.current,null),Vt=n,Yt=0,un=null,Ci=!1,$s=Bi(t,n),_h=!1,Js=Cn=Eh=ss=ca=ne=0,Zn=pl=null,Th=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Qe(l),f=1<<c;n|=t[c],l&=~f}return Di=n,So(),a}function xg(t,n){At=null,A.H=Xn,n===$r?(n=Xd(),Yt=3):n===Fd?(n=Xd(),Yt=4):Yt=n===Km?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,bt===null&&(ne=1,Ho(t,En(n,t.current)))}function Ug(){var t=A.H;return A.H=Xn,t===null?Xn:t}function Lg(){var t=A.A;return A.A=g0,t}function Dh(){ne=4,Ci||(Vt&4194176)!==Vt&&Sn.current!==null||($s=!0),(ca&134217727)===0&&(ss&134217727)===0||Kt===null||Ii(Kt,Vt,Cn,!1)}function Ih(t,n,a){var l=$t;$t|=2;var c=Ug(),f=Lg();(Kt!==t||Vt!==n)&&($o=null,Ws(t,n)),n=!1;var y=ne;t:do try{if(Yt!==0&&bt!==null){var E=bt,S=un;switch(Yt){case 8:Ch(),y=6;break t;case 3:case 2:case 6:Sn.current===null&&(n=!0);var O=Yt;if(Yt=0,un=null,tr(t,E,S,O),a&&$s){y=0;break t}break;default:O=Yt,Yt=0,un=null,tr(t,E,S,O)}}v0(),y=ne;break}catch(P){xg(t,P)}while(!0);return n&&t.shellSuspendCounter++,Ti=es=null,$t=l,A.H=c,A.A=f,bt===null&&(Kt=null,Vt=0,So()),y}function v0(){for(;bt!==null;)zg(bt)}function _0(t,n){var a=$t;$t|=2;var l=Ug(),c=Lg();Kt!==t||Vt!==n?($o=null,Zo=$e()+500,Ws(t,n)):$s=Bi(t,n);t:do try{if(Yt!==0&&bt!==null){n=bt;var f=un;e:switch(Yt){case 1:Yt=0,un=null,tr(t,n,f,1);break;case 2:if(Kd(f)){Yt=0,un=null,Bg(n);break}n=function(){Yt===2&&Kt===t&&(Yt=7),$n(t)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Kd(f)?(Yt=0,un=null,Bg(n)):(Yt=0,un=null,tr(t,n,f,7));break;case 5:var y=null;switch(bt.tag){case 26:y=bt.memoizedState;case 5:case 27:var E=bt;if(!y||dp(y)){Yt=0,un=null;var S=E.sibling;if(S!==null)bt=S;else{var O=E.return;O!==null?(bt=O,tu(O)):bt=null}break e}}Yt=0,un=null,tr(t,n,f,5);break;case 6:Yt=0,un=null,tr(t,n,f,6);break;case 8:Ch(),ne=6;break t;default:throw Error(r(462))}}E0();break}catch(P){xg(t,P)}while(!0);return Ti=es=null,A.H=l,A.A=c,$t=a,bt!==null?0:(Kt=null,Vt=0,So(),ne)}function E0(){for(;bt!==null&&!ic();)zg(bt)}function zg(t){var n=sg(t.alternate,t,Di);t.memoizedProps=t.pendingProps,n===null?tu(t):bt=n}function Bg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Wm(a,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=Wm(a,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:Mc(n);default:Vg(a,n),n=bt=Cg(n,Di),n=sg(a,n,Di)}t.memoizedProps=t.pendingProps,n===null?tu(t):bt=n}function tr(t,n,a,l){Ti=es=null,Mc(n),qs=null,Wr=0;var c=n.return;try{if(o0(t,c,n,a,Vt)){ne=1,Ho(t,En(a,t.current)),bt=null;return}}catch(f){if(c!==null)throw bt=c,f;ne=1,Ho(t,En(a,t.current)),bt=null;return}n.flags&32768?(Bt||l===1?t=!0:$s||(Vt&536870912)!==0?t=!1:(Ci=t=!0,(l===2||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),kg(n,t)):tu(n)}function tu(t){var n=t;do{if((n.flags&32768)!==0){kg(n,Ci);return}t=n.return;var a=d0(n.alternate,n,Di);if(a!==null){bt=a;return}if(n=n.sibling,n!==null){bt=n;return}bt=n=t}while(n!==null);ne===0&&(ne=5)}function kg(t,n){do{var a=m0(t.alternate,t);if(a!==null){a.flags&=32767,bt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){bt=t;return}bt=t=a}while(t!==null);ne=6,bt=null}function jg(t,n,a,l,c,f,y,E,S,O){var P=A.T,F=et.p;try{et.p=2,A.T=null,T0(t,n,a,l,F,c,f,y,E,S,O)}finally{A.T=P,et.p=F}}function T0(t,n,a,l,c,f,y,E){do er();while(rs!==null);if(($t&6)!==0)throw Error(r(327));var S=t.finishedWork;if(l=t.finishedLanes,S===null)return null;if(t.finishedWork=null,t.finishedLanes=0,S===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var O=S.lanes|S.childLanes;if(O|=vc,eo(t,l,O,f,y,E),t===Kt&&(bt=Kt=null,Vt=0),(S.subtreeFlags&10256)===0&&(S.flags&10256)===0||Jo||(Jo=!0,Sh=O,bh=a,R0(ri,function(){return er(),null})),a=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||a?(a=A.T,A.T=null,f=et.p,et.p=2,y=$t,$t|=4,c0(t,S),Eg(S,t),Q_(qh,t.containerInfo),fu=!!jh,qh=jh=null,t.current=S,pg(t,S.alternate,S),wr(),$t=y,et.p=f,A.T=a):t.current=S,Jo?(Jo=!1,rs=t,yl=l):qg(t,O),O=t.pendingLanes,O===0&&(ha=null),Dr(S.stateNode),$n(t),n!==null)for(c=t.onRecoverableError,S=0;S<n.length;S++)O=n[S],c(O.value,{componentStack:O.stack});return(yl&3)!==0&&er(),O=t.pendingLanes,(l&4194218)!==0&&(O&42)!==0?t===Rh?vl++:(vl=0,Rh=t):vl=0,_l(0),null}function qg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,el(n)))}function er(){if(rs!==null){var t=rs,n=Sh;Sh=0;var a=no(yl),l=A.T,c=et.p;try{if(et.p=32>a?32:a,A.T=null,rs===null)var f=!1;else{a=bh,bh=null;var y=rs,E=yl;if(rs=null,yl=0,($t&6)!==0)throw Error(r(331));var S=$t;if($t|=4,Rg(y.current),Ag(y,y.current,E,a),$t=S,_l(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Li,y)}catch{}f=!0}return f}finally{et.p=c,A.T=l,qg(t,n)}}return!1}function Pg(t,n,a){n=En(a,n),n=Kc(t.stateNode,n,2),t=sa(t,n,2),t!==null&&(se(t,2),$n(t))}function Ft(t,n,a){if(t.tag===3)Pg(t,t,a);else for(;n!==null;){if(n.tag===3){Pg(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ha===null||!ha.has(l))){t=En(a,t),a=Qm(2),l=sa(n,a,2),l!==null&&(Fm(a,l,n,t),se(l,2),$n(l));break}}n=n.return}}function Vh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new p0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(_h=!0,c.add(a),t=A0.bind(null,t,n,a),n.then(t,t))}function A0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Kt===t&&(Vt&a)===a&&(ne===4||ne===3&&(Vt&62914560)===Vt&&300>$e()-Ah?($t&2)===0&&Ws(t,0):Eh|=a,Js===Vt&&(Js=0)),$n(t)}function Hg(t,n){n===0&&(n=ki()),t=$i(t,n),t!==null&&(se(t,n),$n(t))}function S0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Hg(t,a)}function b0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Hg(t,a)}function R0(t,n){return Va(t,n)}var eu=null,nr=null,Oh=!1,nu=!1,Nh=!1,ls=0;function $n(t){t!==nr&&t.next===null&&(nr===null?eu=nr=t:nr=nr.next=t),nu=!0,Oh||(Oh=!0,C0(w0))}function _l(t,n){if(!Nh&&nu){Nh=!0;do for(var a=!1,l=eu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Qe(42|t)+1)-1,f&=c&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,Fg(l,f))}else f=Vt,f=dn(l,l===Kt?f:0),(f&3)===0||Bi(l,f)||(a=!0,Fg(l,f));l=l.next}while(a);Nh=!1}}function w0(){nu=Oh=!1;var t=0;ls!==0&&(U0()&&(t=ls),ls=0);for(var n=$e(),a=null,l=eu;l!==null;){var c=l.next,f=Gg(l,n);f===0?(l.next=null,a===null?eu=c:a.next=c,c===null&&(nr=a)):(a=l,(t!==0||(f&3)!==0)&&(nu=!0)),l=c}_l(t)}function Gg(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Qe(f),E=1<<y,S=c[y];S===-1?((E&a)===0||(E&l)!==0)&&(c[y]=Es(E,n)):S<=n&&(t.expiredLanes|=E),f&=~E}if(n=Kt,a=Vt,a=dn(t,t===n?a:0),l=t.callbackNode,a===0||t===n&&Yt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_s(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bi(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&_s(l),no(a)){case 2:case 8:a=be;break;case 32:a=ri;break;case 268435456:a=Cr;break;default:a=ri}return l=Qg.bind(null,t),a=Va(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&_s(l),t.callbackPriority=2,t.callbackNode=null,2}function Qg(t,n){var a=t.callbackNode;if(er()&&t.callbackNode!==a)return null;var l=Vt;return l=dn(t,t===Kt?l:0),l===0?null:(Ng(t,l,n),Gg(t,$e()),t.callbackNode!=null&&t.callbackNode===a?Qg.bind(null,t):null)}function Fg(t,n){if(er())return null;Ng(t,n,!0)}function C0(t){z0(function(){($t&6)!==0?Va(pe,t):t()})}function Mh(){return ls===0&&(ls=Vr()),ls}function Kg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:jn(""+t)}function Yg(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function D0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Kg((c[ye]||null).action),y=l.submitter;y&&(n=(n=y[ye]||null)?Kg(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Cs("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ls!==0){var S=y?Yg(c,y):new FormData(c);Pc(a,{pending:!0,data:S,method:c.method,action:f},null,S)}}else typeof f=="function"&&(E.preventDefault(),S=y?Yg(c,y):new FormData(c),Pc(a,{pending:!0,data:S,method:c.method,action:f},f,S))},currentTarget:c}]})}}for(var xh=0;xh<jd.length;xh++){var Uh=jd[xh],I0=Uh.toLowerCase(),V0=Uh[0].toUpperCase()+Uh.slice(1);On(I0,"on"+V0)}On(Ud,"onAnimationEnd"),On(Ld,"onAnimationIteration"),On(zd,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(K_,"onTransitionRun"),On(Y_,"onTransitionStart"),On(X_,"onTransitionCancel"),On(Bd,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function Xg(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],S=E.instance,O=E.currentTarget;if(E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=O;try{f(c)}catch(P){Po(P)}c.currentTarget=null,f=S}else for(y=0;y<l.length;y++){if(E=l[y],S=E.instance,O=E.currentTarget,E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=O;try{f(c)}catch(P){Po(P)}c.currentTarget=null,f=S}}}}function wt(t,n){var a=n[Na];a===void 0&&(a=n[Na]=new Set);var l=t+"__bubble";a.has(l)||(Zg(n,t,2,!1),a.add(l))}function Lh(t,n,a){var l=0;n&&(l|=4),Zg(a,t,l,n)}var iu="_reactListening"+Math.random().toString(36).slice(2);function zh(t){if(!t[iu]){t[iu]=!0,Nr.forEach(function(a){a!=="selectionchange"&&(O0.has(a)||Lh(a,!1,t),Lh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[iu]||(n[iu]=!0,Lh("selectionchange",!1,n))}}function Zg(t,n,a,l){switch(_p(n)){case 2:var c=iE;break;case 8:c=aE;break;default:c=Zh}a=c.bind(null,n,a,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function Bh(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var S=y.tag;if((S===3||S===4)&&(S=y.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;y=y.return}for(;E!==null;){if(y=Vn(E),y===null)return;if(S=y.tag,S===5||S===6||S===26||S===27){l=f=y;continue t}E=E.parentNode}}l=l.return}lo(function(){var O=f,P=ws(a),F=[];t:{var B=kd.get(t);if(B!==void 0){var q=Cs,at=t;switch(t){case"keypress":if(Pn(a)===0)break t;case"keydown":case"keyup":q=Ms;break;case"focusin":at="focus",q=Vs;break;case"focusout":at="blur",q=Vs;break;case"beforeblur":case"afterblur":q=Vs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=po;break;case Ud:case Ld:case zd:q=Os;break;case Bd:q=vo;break;case"scroll":case"scrollend":q=oo;break;case"wheel":q=xs;break;case"copy":case"cut":case"paste":q=Ns;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Gr;break;case"toggle":case"beforetoggle":q=Eo}var gt=(n&4)!==0,ie=!gt&&(t==="scroll"||t==="scrollend"),x=gt?B!==null?B+"Capture":null:B;gt=[];for(var I=O,z;I!==null;){var H=I;if(z=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||z===null||x===null||(H=za(I,x),H!=null&&gt.push(Tl(I,H,z))),ie)break;I=I.return}0<gt.length&&(B=new q(B,at,null,a,P),F.push({event:B,listeners:gt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&a!==pn&&(at=a.relatedTarget||a.fromElement)&&(Vn(at)||at[li]))break t;if((q||B)&&(B=P.window===P?P:(B=P.ownerDocument)?B.defaultView||B.parentWindow:window,q?(at=a.relatedTarget||a.toElement,q=O,at=at?Vn(at):null,at!==null&&(ie=ot(at),gt=at.tag,at!==ie||gt!==5&&gt!==27&&gt!==6)&&(at=null)):(q=null,at=O),q!==at)){if(gt=vn,H="onMouseLeave",x="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Gr,H="onPointerLeave",x="onPointerEnter",I="pointer"),ie=q==null?B:Gi(q),z=at==null?B:Gi(at),B=new gt(H,I+"leave",q,a,P),B.target=ie,B.relatedTarget=z,H=null,Vn(P)===O&&(gt=new gt(x,I+"enter",at,a,P),gt.target=z,gt.relatedTarget=ie,H=gt),ie=H,q&&at)e:{for(gt=q,x=at,I=0,z=gt;z;z=ir(z))I++;for(z=0,H=x;H;H=ir(H))z++;for(;0<I-z;)gt=ir(gt),I--;for(;0<z-I;)x=ir(x),z--;for(;I--;){if(gt===x||x!==null&&gt===x.alternate)break e;gt=ir(gt),x=ir(x)}gt=null}else gt=null;q!==null&&$g(F,B,q,gt,!1),at!==null&&ie!==null&&$g(F,ie,at,gt,!0)}}t:{if(B=O?Gi(O):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var it=bd;else if(_e(B))if(Rd)it=H_;else{it=q_;var St=j_}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?O&&zr(O.elementType)&&(it=bd):it=P_;if(it&&(it=it(t,O))){gi(F,it,a,P);break t}St&&St(t,B,O),t==="focusout"&&O&&B.type==="number"&&O.memoizedProps.value!=null&&Rs(B,"number",B.value)}switch(St=O?Gi(O):window,t){case"focusin":(_e(St)||St.contentEditable==="true")&&(Us=St,gc=O,Kr=null);break;case"focusout":Kr=gc=Us=null;break;case"mousedown":pc=!0;break;case"contextmenu":case"mouseup":case"dragend":pc=!1,Md(F,a,P);break;case"selectionchange":if(F_)break;case"keydown":case"keyup":Md(F,a,P)}var lt;if(Qn)t:{switch(t){case"compositionstart":var ct="onCompositionStart";break t;case"compositionend":ct="onCompositionEnd";break t;case"compositionupdate":ct="onCompositionUpdate";break t}ct=void 0}else Dt?k(t,a)&&(ct="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ct="onCompositionStart");ct&&(p&&a.locale!=="ko"&&(Dt||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Dt&&(lt=kr()):(qn=P,Zi="value"in qn?qn.value:qn.textContent,Dt=!0)),St=au(O,ct),0<St.length&&(ct=new Pr(ct,t,null,a,P),F.push({event:ct,listeners:St}),lt?ct.data=lt:(lt=X(a),lt!==null&&(ct.data=lt)))),(lt=m?ve(t,a):It(t,a))&&(ct=au(O,"onBeforeInput"),0<ct.length&&(St=new Pr("onBeforeInput","beforeinput",null,a,P),F.push({event:St,listeners:ct}),St.data=lt)),D0(F,t,O,a,P)}Xg(F,n)})}function Tl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function au(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=za(t,a),c!=null&&l.unshift(Tl(t,c,f)),c=za(t,n),c!=null&&l.push(Tl(t,c,f))),t=t.return}return l}function ir(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $g(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,S=E.alternate,O=E.stateNode;if(E=E.tag,S!==null&&S===l)break;E!==5&&E!==26&&E!==27||O===null||(S=O,c?(O=za(a,f),O!=null&&y.unshift(Tl(a,O,S))):c||(O=za(a,f),O!=null&&y.push(Tl(a,O,S)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var N0=/\r\n?/g,M0=/\u0000|\uFFFD/g;function Jg(t){return(typeof t=="string"?t:""+t).replace(N0,`
`).replace(M0,"")}function Wg(t,n){return n=Jg(n),Jg(t)===n}function su(){}function Qt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":Ki(t,"class",l);break;case"tabIndex":Ki(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(t,a,l);break;case"style":ro(t,l,f);break;case"data":if(n!=="object"){Ki(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=jn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Qt(t,n,"name",c.name,c,null),Qt(t,n,"formEncType",c.formEncType,c,null),Qt(t,n,"formMethod",c.formMethod,c,null),Qt(t,n,"formTarget",c.formTarget,c,null)):(Qt(t,n,"encType",c.encType,c,null),Qt(t,n,"method",c.method,c,null),Qt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=jn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=su);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=jn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":wt("beforetoggle",t),wt("toggle",t),Fi(t,"popover",l);break;case"xlinkActuate":mn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Fi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=oc.get(a)||a,Fi(t,a,l))}}function kh(t,n,a,l,c,f){switch(a){case"style":ro(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=su);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ss.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[ye]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Fi(t,a,l)}}}function Ue(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",t),wt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Qt(t,n,f,y,a,null)}}c&&Qt(t,n,"srcSet",a.srcSet,a,null),l&&Qt(t,n,"src",a.src,a,null);return;case"input":wt("invalid",t);var E=f=y=c=null,S=null,O=null;for(l in a)if(a.hasOwnProperty(l)){var P=a[l];if(P!=null)switch(l){case"name":c=P;break;case"type":y=P;break;case"checked":S=P;break;case"defaultChecked":O=P;break;case"value":f=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:Qt(t,n,l,P,a,null)}}Ua(t,f,E,S,O,y,c,!1),xa(t);return;case"select":wt("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Qt(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?zt(t,!!l,n,!1):a!=null&&zt(t,!!l,a,!0);return;case"textarea":wt("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Qt(t,n,y,E,a,null)}Xi(t,l,c,f),xa(t);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(l=a[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(t,n,S,l,a,null)}return;case"dialog":wt("cancel",t),wt("close",t);break;case"iframe":case"object":wt("load",t);break;case"video":case"audio":for(l=0;l<El.length;l++)wt(El[l],t);break;case"image":wt("error",t),wt("load",t);break;case"details":wt("toggle",t);break;case"embed":case"source":case"link":wt("error",t),wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Qt(t,n,O,l,a,null)}return;default:if(zr(n)){for(P in a)a.hasOwnProperty(P)&&(l=a[P],l!==void 0&&kh(t,n,P,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Qt(t,n,E,l,a,null))}function x0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,S=null,O=null,P=null;for(q in a){var F=a[q];if(a.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":S=F;default:l.hasOwnProperty(q)||Qt(t,n,q,null,l,F)}}for(var B in l){var q=l[B];if(F=a[B],l.hasOwnProperty(B)&&(q!=null||F!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":O=q;break;case"defaultChecked":P=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==F&&Qt(t,n,B,q,l,F)}}Yi(t,y,E,S,O,P,f,c);return;case"select":q=y=E=B=null;for(f in a)if(S=a[f],a.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":q=S;default:l.hasOwnProperty(f)||Qt(t,n,f,null,l,S)}for(c in l)if(f=l[c],S=a[c],l.hasOwnProperty(c)&&(f!=null||S!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==S&&Qt(t,n,c,f,l,S)}n=E,a=y,l=q,B!=null?zt(t,!!a,B,!1):!!l!=!!a&&(n!=null?zt(t,!!a,n,!0):zt(t,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Qt(t,n,y,c,l,f)}La(t,B,q);return;case"option":for(var at in a)if(B=a[at],a.hasOwnProperty(at)&&B!=null&&!l.hasOwnProperty(at))switch(at){case"selected":t.selected=!1;break;default:Qt(t,n,at,null,l,B)}for(S in l)if(B=l[S],q=a[S],l.hasOwnProperty(S)&&B!==q&&(B!=null||q!=null))switch(S){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Qt(t,n,S,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)B=a[gt],a.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt)&&Qt(t,n,gt,null,l,B);for(O in l)if(B=l[O],q=a[O],l.hasOwnProperty(O)&&B!==q&&(B!=null||q!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Qt(t,n,O,B,l,q)}return;default:if(zr(n)){for(var ie in a)B=a[ie],a.hasOwnProperty(ie)&&B!==void 0&&!l.hasOwnProperty(ie)&&kh(t,n,ie,void 0,l,B);for(P in l)B=l[P],q=a[P],!l.hasOwnProperty(P)||B===q||B===void 0&&q===void 0||kh(t,n,P,B,l,q);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Qt(t,n,x,null,l,B);for(F in l)B=l[F],q=a[F],!l.hasOwnProperty(F)||B===q||B==null&&q==null||Qt(t,n,F,B,l,q)}var jh=null,qh=null;function ru(t){return t.nodeType===9?t:t.ownerDocument}function tp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ep(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ph(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hh=null;function U0(){var t=window.event;return t&&t.type==="popstate"?t===Hh?!1:(Hh=t,!0):(Hh=null,!1)}var np=typeof setTimeout=="function"?setTimeout:void 0,L0=typeof clearTimeout=="function"?clearTimeout:void 0,ip=typeof Promise=="function"?Promise:void 0,z0=typeof queueMicrotask=="function"?queueMicrotask:typeof ip<"u"?function(t){return ip.resolve(null).then(t).catch(B0)}:np;function B0(t){setTimeout(function(){throw t})}function Gh(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(l===0){t.removeChild(c),Il(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=c}while(a);Il(n)}function Qh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qh(a),Ma(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function k0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Hi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function j0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=xn(t.nextSibling),t===null))return null;return t}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function ap(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function sp(t,n,a){switch(n=ru(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}var Dn=new Map,rp=new Set;function lu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Vi=et.d;et.d={f:q0,r:P0,D:H0,C:G0,L:Q0,m:F0,X:Y0,S:K0,M:X0};function q0(){var t=Vi.f(),n=Wo();return t||n}function P0(t){var n=oi(t);n!==null&&n.tag===5&&n.type==="form"?Mm(n):Vi.r(t)}var ar=typeof document>"u"?null:document;function lp(t,n,a){var l=ar;if(l&&typeof n=="string"&&n){var c=te(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),rp.has(c)||(rp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ue(n,"link",t),Xt(n),l.head.appendChild(n)))}}function H0(t){Vi.D(t),lp("dns-prefetch",t,null)}function G0(t,n){Vi.C(t,n),lp("preconnect",t,n)}function Q0(t,n,a){Vi.L(t,n,a);var l=ar;if(l&&t&&n){var c='link[rel="preload"][as="'+te(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+te(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+te(a.imageSizes)+'"]')):c+='[href="'+te(t)+'"]';var f=c;switch(n){case"style":f=sr(t);break;case"script":f=rr(t)}Dn.has(f)||(t=C({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Dn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Al(f))||n==="script"&&l.querySelector(Sl(f))||(n=l.createElement("link"),Ue(n,"link",t),Xt(n),l.head.appendChild(n)))}}function F0(t,n){Vi.m(t,n);var a=ar;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+te(l)+'"][href="'+te(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=rr(t)}if(!Dn.has(f)&&(t=C({rel:"modulepreload",href:t},n),Dn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(f)))return}l=a.createElement("link"),Ue(l,"link",t),Xt(l),a.head.appendChild(l)}}}function K0(t,n,a){Vi.S(t,n,a);var l=ar;if(l&&t){var c=Qi(l).hoistableStyles,f=sr(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Al(f)))E.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Dn.get(f))&&Fh(t,a);var S=y=l.createElement("link");Xt(S),Ue(S,"link",t),S._p=new Promise(function(O,P){S.onload=O,S.onerror=P}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ou(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function Y0(t,n){Vi.X(t,n);var a=ar;if(a&&t){var l=Qi(a).hoistableScripts,c=rr(t),f=l.get(c);f||(f=a.querySelector(Sl(c)),f||(t=C({src:t,async:!0},n),(n=Dn.get(c))&&Kh(t,n),f=a.createElement("script"),Xt(f),Ue(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function X0(t,n){Vi.M(t,n);var a=ar;if(a&&t){var l=Qi(a).hoistableScripts,c=rr(t),f=l.get(c);f||(f=a.querySelector(Sl(c)),f||(t=C({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&Kh(t,n),f=a.createElement("script"),Xt(f),Ue(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function op(t,n,a,l){var c=(c=fn.current)?lu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=sr(a.href),a=Qi(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=sr(a.href);var f=Qi(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Al(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),f||Z0(c,t,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=rr(a),a=Qi(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function sr(t){return'href="'+te(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function up(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function Z0(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ue(n,"link",a),Xt(n),t.head.appendChild(n))}function rr(t){return'[src="'+te(t)+'"]'}function Sl(t){return"script[async]"+t}function cp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+te(a.href)+'"]');if(l)return n.instance=l,Xt(l),l;var c=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Xt(l),Ue(l,"style",c),ou(l,a.precedence,t),n.instance=l;case"stylesheet":c=sr(a.href);var f=t.querySelector(Al(c));if(f)return n.state.loading|=4,n.instance=f,Xt(f),f;l=up(a),(c=Dn.get(c))&&Fh(l,c),f=(t.ownerDocument||t).createElement("link"),Xt(f);var y=f;return y._p=new Promise(function(E,S){y.onload=E,y.onerror=S}),Ue(f,"link",l),n.state.loading|=4,ou(f,a.precedence,t),n.instance=f;case"script":return f=rr(a.src),(c=t.querySelector(Sl(f)))?(n.instance=c,Xt(c),c):(l=a,(c=Dn.get(f))&&(l=C({},a),Kh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Xt(c),Ue(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ou(l,a.precedence,t));return n.instance}function ou(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Fh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Kh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var uu=null;function hp(t,n,a){if(uu===null){var l=new Map,c=uu=new Map;c.set(a,l)}else c=uu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Hi]||f[Re]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function fp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function $0(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function dp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var bl=null;function J0(){}function W0(t,n,a){if(bl===null)throw Error(r(475));var l=bl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=sr(a.href),f=t.querySelector(Al(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=cu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Xt(f);return}f=t.ownerDocument||t,a=up(a),(c=Dn.get(c))&&Fh(a,c),f=f.createElement("link"),Xt(f);var y=f;y._p=new Promise(function(E,S){y.onload=E,y.onerror=S}),Ue(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=cu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function tE(){if(bl===null)throw Error(r(475));var t=bl;return t.stylesheets&&t.count===0&&Yh(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Yh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function cu(){if(this.count--,this.count===0){if(this.stylesheets)Yh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hu=null;function Yh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hu=new Map,n.forEach(eE,t),hu=null,cu.call(t))}function eE(t,n){if(!(n.state.loading&4)){var a=hu.get(t);if(a)var l=a.get(null);else{a=new Map,hu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=cu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Rl={$$typeof:G,Provider:null,Consumer:null,_currentValue:Tt,_currentValue2:Tt,_threadCount:0};function nE(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.hiddenUpdates=Ts(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function mp(t,n,a,l,c,f,y,E,S,O,P,F){return t=new nE(t,n,a,y,E,S,O,F),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),t.current=f,f.stateNode=t,n=wc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},rh(f),t}function gp(t){return t?(t=Bs,t):Bs}function pp(t,n,a,l,c,f){c=gp(c),l.context===null?l.context=c:l.pendingContext=c,l=aa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=sa(t,l,n),a!==null&&(Xe(a,t,n),ol(a,t,n))}function yp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Xh(t,n){yp(t,n),(t=t.alternate)&&yp(t,n)}function vp(t){if(t.tag===13){var n=$i(t,67108864);n!==null&&Xe(n,t,67108864),Xh(t,67108864)}}var fu=!0;function iE(t,n,a,l){var c=A.T;A.T=null;var f=et.p;try{et.p=2,Zh(t,n,a,l)}finally{et.p=f,A.T=c}}function aE(t,n,a,l){var c=A.T;A.T=null;var f=et.p;try{et.p=8,Zh(t,n,a,l)}finally{et.p=f,A.T=c}}function Zh(t,n,a,l){if(fu){var c=$h(l);if(c===null)Bh(t,n,l,du,a),Ep(t,l);else if(rE(c,t,n,a,l))l.stopPropagation();else if(Ep(t,l),n&4&&-1<sE.indexOf(t)){for(;c!==null;){var f=oi(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=In(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var S=1<<31-Qe(y);E.entanglements[1]|=S,y&=~S}$n(f),($t&6)===0&&(Zo=$e()+500,_l(0))}}break;case 13:E=$i(f,2),E!==null&&Xe(E,f,2),Wo(),Xh(f,2)}if(f=$h(l),f===null&&Bh(t,n,l,du,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else Bh(t,n,l,null,a)}}function $h(t){return t=ws(t),Jh(t)}var du=null;function Jh(t){if(du=null,t=Vn(t),t!==null){var n=ot(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=jt(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return du=t,null}function _p(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($l()){case pe:return 2;case be:return 8;case ri:case Jl:return 32;case Cr:return 268435456;default:return 32}default:return 32}}var Wh=!1,fa=null,da=null,ma=null,wl=new Map,Cl=new Map,ga=[],sE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ep(t,n){switch(t){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(n.pointerId)}}function Dl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=oi(n),n!==null&&vp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function rE(t,n,a,l,c){switch(n){case"focusin":return fa=Dl(fa,t,n,a,l,c),!0;case"dragenter":return da=Dl(da,t,n,a,l,c),!0;case"mouseover":return ma=Dl(ma,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return wl.set(f,Dl(wl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Cl.set(f,Dl(Cl.get(f)||null,t,n,a,l,c)),!0}return!1}function Tp(t){var n=Vn(t.target);if(n!==null){var a=ot(n);if(a!==null){if(n=a.tag,n===13){if(n=jt(a),n!==null){t.blockedOn=n,Pi(t.priority,function(){if(a.tag===13){var l=cn(),c=$i(a,l);c!==null&&Xe(c,a,l),Xh(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=$h(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);pn=l,a.target.dispatchEvent(l),pn=null}else return n=oi(a),n!==null&&vp(n),t.blockedOn=a,!1;n.shift()}return!0}function Ap(t,n,a){mu(t)&&a.delete(n)}function lE(){Wh=!1,fa!==null&&mu(fa)&&(fa=null),da!==null&&mu(da)&&(da=null),ma!==null&&mu(ma)&&(ma=null),wl.forEach(Ap),Cl.forEach(Ap)}function gu(t,n){t.blockedOn===n&&(t.blockedOn=null,Wh||(Wh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,lE)))}var pu=null;function Sp(t){pu!==t&&(pu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){pu===t&&(pu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Jh(l||a)===null)continue;break}var f=oi(a);f!==null&&(t.splice(n,3),n-=3,Pc(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Il(t){function n(S){return gu(S,t)}fa!==null&&gu(fa,t),da!==null&&gu(da,t),ma!==null&&gu(ma,t),wl.forEach(n),Cl.forEach(n);for(var a=0;a<ga.length;a++){var l=ga[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ga.length&&(a=ga[0],a.blockedOn===null);)Tp(a),a.blockedOn===null&&ga.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[ye]||null;if(typeof f=="function")y||Sp(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ye]||null)E=y.formAction;else if(Jh(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Sp(a)}}}function tf(t){this._internalRoot=t}yu.prototype.render=tf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=cn();pp(a,l,t,n,null,null)},yu.prototype.unmount=tf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&er(),pp(t.current,2,null,t,null,null),Wo(),n[li]=null}};function yu(t){this._internalRoot=t}yu.prototype.unstable_scheduleHydration=function(t){if(t){var n=io();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ga.length&&n!==0&&n<ga[a].priority;a++);ga.splice(a,0,t),a===0&&Tp(t)}};var bp=e.version;if(bp!=="19.0.0")throw Error(r(527,bp,"19.0.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=K(n),t=t!==null?st(t):null,t=t===null?null:t.stateNode,t};var oE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Vn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vu.isDisabled&&vu.supportsFiber)try{Li=vu.inject(oE),Be=vu}catch{}}return Ol.createRoot=function(t,n){if(!u(t))throw Error(r(299));var a=!1,l="",c=qm,f=Pm,y=Hm,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=mp(t,1,!1,null,null,a,l,c,f,y,E,null),t[li]=n.current,zh(t.nodeType===8?t.parentNode:t),new tf(n)},Ol.hydrateRoot=function(t,n,a){if(!u(t))throw Error(r(299));var l=!1,c="",f=qm,y=Pm,E=Hm,S=null,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(O=a.formState)),n=mp(t,1,!0,n,a??null,l,c,f,y,E,S,O),n.context=gp(null),a=n.current,l=cn(),c=aa(l),c.callback=null,sa(a,c,l),n.current.lanes=l,se(n,l),$n(n),t[li]=n.current,zh(t),new yu(n)},Ol.version="19.0.0",Ol}var xp;function vE(){if(xp)return af.exports;xp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),af.exports=yE(),af.exports}var _E=vE();const EE="/Ruslana_Cakes/assets/Cake2-vvsJnBCt.jpg",Up=({cake:s})=>{const{Image:e,Description:i,Price:r}=s;return Y.jsxs("div",{className:"cake-card-container",children:[Y.jsx("img",{src:e||EE,alt:"Sweets"}),Y.jsxs("div",{className:"cake-card-info",children:[Y.jsx("p",{className:"cake-card-description",children:i}),Y.jsx("p",{className:"cake-card-price",children:Y.jsx("strong",{children:` ${r} .`})})]})]})},TE=()=>{};var Lp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let u=s.charCodeAt(r);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},AE=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const u=s[i++];if(u<128)e[r++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[r++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],g=s[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Jy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,g=d?s[u+1]:0,v=u+2<s.length,_=v?s[u+2]:0,R=h>>2,U=(h&3)<<4|g>>4;let j=(g&15)<<2|_>>6,G=_&63;v||(G=64,d||(j=64)),r.push(i[R],i[U],i[j],i[G])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray($y(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):AE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const _=u<s.length?i[s.charAt(u)]:64;++u;const U=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||g==null||_==null||U==null)throw new SE;const j=h<<2|g>>4;if(r.push(j),_!==64){const G=g<<4&240|_>>2;if(r.push(G),U!==64){const J=_<<6&192|U;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class SE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bE=function(s){const e=$y(s);return Jy.encodeByteArray(e,!0)},Vu=function(s){return bE(s).replace(/\./g,"")},RE=function(s){try{return Jy.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=()=>wE().__FIREBASE_DEFAULTS__,DE=()=>{if(typeof process>"u"||typeof Lp>"u")return;const s=Lp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},IE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&RE(s[1]);return e&&JSON.parse(e)},Yf=()=>{try{return TE()||CE()||DE()||IE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},VE=s=>{var e,i;return(i=(e=Yf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},OE=s=>{const e=VE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Wy=()=>{var s;return(s=Yf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Vu(JSON.stringify(i)),Vu(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UE(){var s;const e=(s=Yf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LE(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function zE(){return!UE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tv(){try{return typeof indexedDB=="object"}catch{return!1}}function ev(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}function BE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="FirebaseError";class Ia extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=kE,Object.setPrototypeOf(this,Ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pu.prototype.create)}}class Pu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?jE(h,r):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Ia(u,g,r)}}function jE(s,e){return s.replace(qE,(i,r)=>{const u=e[r];return u!=null?String(u):`<${r}?>`})}const qE=/\{\$([^}]+)}/g;function jl(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const u of i){if(!r.includes(u))return!1;const h=s[u],d=e[u];if(zp(h)&&zp(d)){if(!jl(h,d))return!1}else if(h!==d)return!1}for(const u of r)if(!i.includes(u))return!1;return!0}function zp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=1e3,HE=2,GE=4*60*60*1e3,QE=.5;function Bp(s,e=PE,i=HE){const r=e*Math.pow(i,s),u=Math.round(QE*r*(Math.random()-.5)*2);return Math.min(GE,r+u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(s){return s&&s._delegate?s._delegate:s}class Oi{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new NE;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YE(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});r.resolve(h)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);r===g&&d.resolve(u)}return u}onInit(e,i){var r;const u=this.normalizeInstanceIdentifier(i),h=(r=this.onInitCallbacks.get(u))!==null&&r!==void 0?r:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const u of r)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KE(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KE(s){return s===os?void 0:s}function YE(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new FE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Nt||(Nt={}));const ZE={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},$E=Nt.INFO,JE={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},WE=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),u=JE[e];if(u)console[u](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zf{constructor(e){this.name=e,this._logLevel=$E,this._logHandler=WE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}const tT=(s,e)=>e.some(i=>s instanceof i);let kp,jp;function eT(){return kp||(kp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nT(){return jp||(jp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nv=new WeakMap,Sf=new WeakMap,iv=new WeakMap,of=new WeakMap,$f=new WeakMap;function iT(s){const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(_a(s.result)),u()},d=()=>{r(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&nv.set(i,s)}).catch(()=>{}),$f.set(e,s),e}function aT(s){if(Sf.has(s))return;const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Sf.set(s,e)}let bf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Sf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||iv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _a(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function sT(s){bf=s(bf)}function rT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(uf(this),e,...i);return iv.set(r,e.sort?e.sort():[e]),_a(r)}:nT().includes(s)?function(...e){return s.apply(uf(this),e),_a(nv.get(this))}:function(...e){return _a(s.apply(uf(this),e))}}function lT(s){return typeof s=="function"?rT(s):(s instanceof IDBTransaction&&aT(s),tT(s,eT())?new Proxy(s,bf):s)}function _a(s){if(s instanceof IDBRequest)return iT(s);if(of.has(s))return of.get(s);const e=lT(s);return e!==s&&(of.set(s,e),$f.set(e,s)),e}const uf=s=>$f.get(s);function av(s,e,{blocked:i,upgrade:r,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),g=_a(d);return r&&d.addEventListener("upgradeneeded",v=>{r(_a(d.result),v.oldVersion,v.newVersion,_a(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const oT=["get","getKey","getAll","getAllKeys","count"],uT=["put","add","delete","clear"],cf=new Map;function qp(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(cf.get(e))return cf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,u=uT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(u||oT.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),u&&v.done]))[0]};return cf.set(e,h),h}sT(s=>({...s,get:(e,i,r)=>qp(e,i)||s.get(e,i,r),has:(e,i)=>!!qp(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(hT(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function hT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rf="@firebase/app",Pp="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Zf("@firebase/app"),fT="@firebase/app-compat",dT="@firebase/analytics-compat",mT="@firebase/analytics",gT="@firebase/app-check-compat",pT="@firebase/app-check",yT="@firebase/auth",vT="@firebase/auth-compat",_T="@firebase/database",ET="@firebase/data-connect",TT="@firebase/database-compat",AT="@firebase/functions",ST="@firebase/functions-compat",bT="@firebase/installations",RT="@firebase/installations-compat",wT="@firebase/messaging",CT="@firebase/messaging-compat",DT="@firebase/performance",IT="@firebase/performance-compat",VT="@firebase/remote-config",OT="@firebase/remote-config-compat",NT="@firebase/storage",MT="@firebase/storage-compat",xT="@firebase/firestore",UT="@firebase/vertexai",LT="@firebase/firestore-compat",zT="firebase",BT="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="[DEFAULT]",kT={[Rf]:"fire-core",[fT]:"fire-core-compat",[mT]:"fire-analytics",[dT]:"fire-analytics-compat",[pT]:"fire-app-check",[gT]:"fire-app-check-compat",[yT]:"fire-auth",[vT]:"fire-auth-compat",[_T]:"fire-rtdb",[ET]:"fire-data-connect",[TT]:"fire-rtdb-compat",[AT]:"fire-fn",[ST]:"fire-fn-compat",[bT]:"fire-iid",[RT]:"fire-iid-compat",[wT]:"fire-fcm",[CT]:"fire-fcm-compat",[DT]:"fire-perf",[IT]:"fire-perf-compat",[VT]:"fire-rc",[OT]:"fire-rc-compat",[NT]:"fire-gcs",[MT]:"fire-gcs-compat",[xT]:"fire-fst",[LT]:"fire-fst-compat",[UT]:"fire-vertex","fire-js":"fire-js",[zT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new Map,jT=new Map,Cf=new Map;function Hp(s,e){try{s.container.addComponent(e)}catch(i){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Aa(s){const e=s.name;if(Cf.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;Cf.set(e,s);for(const i of Ou.values())Hp(i,s);for(const i of jT.values())Hp(i,s);return!0}function Fl(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function qT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ea=new Pu("app","Firebase",PT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=BT;function sv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wf,automaticDataCollectionEnabled:!1},e),u=r.name;if(typeof u!="string"||!u)throw Ea.create("bad-app-name",{appName:String(u)});if(i||(i=Wy()),!i)throw Ea.create("no-options");const h=Ou.get(u);if(h){if(jl(i,h.options)&&jl(r,h.config))return h;throw Ea.create("duplicate-app",{appName:u})}const d=new XE(u);for(const v of Cf.values())d.addComponent(v);const g=new HT(i,r,d);return Ou.set(u,g),g}function rv(s=wf){const e=Ou.get(s);if(!e&&s===wf&&Wy())return sv();if(!e)throw Ea.create("no-app",{appName:s});return e}function ti(s,e,i){var r;let u=(r=kT[s])!==null&&r!==void 0?r:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(g.join(" "));return}Aa(new Oi(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="firebase-heartbeat-database",FT=1,ql="firebase-heartbeat-store";let hf=null;function lv(){return hf||(hf=av(QT,FT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ql)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ea.create("idb-open",{originalErrorMessage:s.message})})),hf}async function KT(s){try{const i=(await lv()).transaction(ql),r=await i.objectStore(ql).get(ov(s));return await i.done,r}catch(e){if(e instanceof Ia)Ni.warn(e.message);else{const i=Ea.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(i.message)}}}async function Gp(s,e){try{const r=(await lv()).transaction(ql,"readwrite");await r.objectStore(ql).put(e,ov(s)),await r.done}catch(i){if(i instanceof Ia)Ni.warn(i.message);else{const r=Ea.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ni.warn(r.message)}}}function ov(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=1024,XT=30;class ZT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new JT(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Qp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>XT){const d=WT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Qp(),{heartbeatsToSend:r,unsentEntries:u}=$T(this._heartbeatsCache.heartbeats),h=Vu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ni.warn(i),""}}}function Qp(){return new Date().toISOString().substring(0,10)}function $T(s,e=YT){const i=[];let r=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Fp(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Fp(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class JT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tv()?ev().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await KT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Gp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Gp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function Fp(s){return Vu(JSON.stringify({version:2,heartbeats:s})).length}function WT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(s){Aa(new Oi("platform-logger",e=>new cT(e),"PRIVATE")),Aa(new Oi("heartbeat",e=>new ZT(e),"PRIVATE")),ti(Rf,Pp,s),ti(Rf,Pp,"esm2017"),ti("fire-js","")}tA("");var Kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ta,uv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,b){function A(){}A.prototype=b.prototype,M.D=b.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(C,V,N){for(var w=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)w[ge-2]=arguments[ge];return b.prototype[V].apply(C,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(M,b,A){A||(A=0);var C=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)C[V]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(V=0;16>V;++V)C[V]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=M.g[0],A=M.g[1],V=M.g[2];var N=M.g[3],w=b+(N^A&(V^N))+C[0]+3614090360&4294967295;b=A+(w<<7&4294967295|w>>>25),w=N+(V^b&(A^V))+C[1]+3905402710&4294967295,N=b+(w<<12&4294967295|w>>>20),w=V+(A^N&(b^A))+C[2]+606105819&4294967295,V=N+(w<<17&4294967295|w>>>15),w=A+(b^V&(N^b))+C[3]+3250441966&4294967295,A=V+(w<<22&4294967295|w>>>10),w=b+(N^A&(V^N))+C[4]+4118548399&4294967295,b=A+(w<<7&4294967295|w>>>25),w=N+(V^b&(A^V))+C[5]+1200080426&4294967295,N=b+(w<<12&4294967295|w>>>20),w=V+(A^N&(b^A))+C[6]+2821735955&4294967295,V=N+(w<<17&4294967295|w>>>15),w=A+(b^V&(N^b))+C[7]+4249261313&4294967295,A=V+(w<<22&4294967295|w>>>10),w=b+(N^A&(V^N))+C[8]+1770035416&4294967295,b=A+(w<<7&4294967295|w>>>25),w=N+(V^b&(A^V))+C[9]+2336552879&4294967295,N=b+(w<<12&4294967295|w>>>20),w=V+(A^N&(b^A))+C[10]+4294925233&4294967295,V=N+(w<<17&4294967295|w>>>15),w=A+(b^V&(N^b))+C[11]+2304563134&4294967295,A=V+(w<<22&4294967295|w>>>10),w=b+(N^A&(V^N))+C[12]+1804603682&4294967295,b=A+(w<<7&4294967295|w>>>25),w=N+(V^b&(A^V))+C[13]+4254626195&4294967295,N=b+(w<<12&4294967295|w>>>20),w=V+(A^N&(b^A))+C[14]+2792965006&4294967295,V=N+(w<<17&4294967295|w>>>15),w=A+(b^V&(N^b))+C[15]+1236535329&4294967295,A=V+(w<<22&4294967295|w>>>10),w=b+(V^N&(A^V))+C[1]+4129170786&4294967295,b=A+(w<<5&4294967295|w>>>27),w=N+(A^V&(b^A))+C[6]+3225465664&4294967295,N=b+(w<<9&4294967295|w>>>23),w=V+(b^A&(N^b))+C[11]+643717713&4294967295,V=N+(w<<14&4294967295|w>>>18),w=A+(N^b&(V^N))+C[0]+3921069994&4294967295,A=V+(w<<20&4294967295|w>>>12),w=b+(V^N&(A^V))+C[5]+3593408605&4294967295,b=A+(w<<5&4294967295|w>>>27),w=N+(A^V&(b^A))+C[10]+38016083&4294967295,N=b+(w<<9&4294967295|w>>>23),w=V+(b^A&(N^b))+C[15]+3634488961&4294967295,V=N+(w<<14&4294967295|w>>>18),w=A+(N^b&(V^N))+C[4]+3889429448&4294967295,A=V+(w<<20&4294967295|w>>>12),w=b+(V^N&(A^V))+C[9]+568446438&4294967295,b=A+(w<<5&4294967295|w>>>27),w=N+(A^V&(b^A))+C[14]+3275163606&4294967295,N=b+(w<<9&4294967295|w>>>23),w=V+(b^A&(N^b))+C[3]+4107603335&4294967295,V=N+(w<<14&4294967295|w>>>18),w=A+(N^b&(V^N))+C[8]+1163531501&4294967295,A=V+(w<<20&4294967295|w>>>12),w=b+(V^N&(A^V))+C[13]+2850285829&4294967295,b=A+(w<<5&4294967295|w>>>27),w=N+(A^V&(b^A))+C[2]+4243563512&4294967295,N=b+(w<<9&4294967295|w>>>23),w=V+(b^A&(N^b))+C[7]+1735328473&4294967295,V=N+(w<<14&4294967295|w>>>18),w=A+(N^b&(V^N))+C[12]+2368359562&4294967295,A=V+(w<<20&4294967295|w>>>12),w=b+(A^V^N)+C[5]+4294588738&4294967295,b=A+(w<<4&4294967295|w>>>28),w=N+(b^A^V)+C[8]+2272392833&4294967295,N=b+(w<<11&4294967295|w>>>21),w=V+(N^b^A)+C[11]+1839030562&4294967295,V=N+(w<<16&4294967295|w>>>16),w=A+(V^N^b)+C[14]+4259657740&4294967295,A=V+(w<<23&4294967295|w>>>9),w=b+(A^V^N)+C[1]+2763975236&4294967295,b=A+(w<<4&4294967295|w>>>28),w=N+(b^A^V)+C[4]+1272893353&4294967295,N=b+(w<<11&4294967295|w>>>21),w=V+(N^b^A)+C[7]+4139469664&4294967295,V=N+(w<<16&4294967295|w>>>16),w=A+(V^N^b)+C[10]+3200236656&4294967295,A=V+(w<<23&4294967295|w>>>9),w=b+(A^V^N)+C[13]+681279174&4294967295,b=A+(w<<4&4294967295|w>>>28),w=N+(b^A^V)+C[0]+3936430074&4294967295,N=b+(w<<11&4294967295|w>>>21),w=V+(N^b^A)+C[3]+3572445317&4294967295,V=N+(w<<16&4294967295|w>>>16),w=A+(V^N^b)+C[6]+76029189&4294967295,A=V+(w<<23&4294967295|w>>>9),w=b+(A^V^N)+C[9]+3654602809&4294967295,b=A+(w<<4&4294967295|w>>>28),w=N+(b^A^V)+C[12]+3873151461&4294967295,N=b+(w<<11&4294967295|w>>>21),w=V+(N^b^A)+C[15]+530742520&4294967295,V=N+(w<<16&4294967295|w>>>16),w=A+(V^N^b)+C[2]+3299628645&4294967295,A=V+(w<<23&4294967295|w>>>9),w=b+(V^(A|~N))+C[0]+4096336452&4294967295,b=A+(w<<6&4294967295|w>>>26),w=N+(A^(b|~V))+C[7]+1126891415&4294967295,N=b+(w<<10&4294967295|w>>>22),w=V+(b^(N|~A))+C[14]+2878612391&4294967295,V=N+(w<<15&4294967295|w>>>17),w=A+(N^(V|~b))+C[5]+4237533241&4294967295,A=V+(w<<21&4294967295|w>>>11),w=b+(V^(A|~N))+C[12]+1700485571&4294967295,b=A+(w<<6&4294967295|w>>>26),w=N+(A^(b|~V))+C[3]+2399980690&4294967295,N=b+(w<<10&4294967295|w>>>22),w=V+(b^(N|~A))+C[10]+4293915773&4294967295,V=N+(w<<15&4294967295|w>>>17),w=A+(N^(V|~b))+C[1]+2240044497&4294967295,A=V+(w<<21&4294967295|w>>>11),w=b+(V^(A|~N))+C[8]+1873313359&4294967295,b=A+(w<<6&4294967295|w>>>26),w=N+(A^(b|~V))+C[15]+4264355552&4294967295,N=b+(w<<10&4294967295|w>>>22),w=V+(b^(N|~A))+C[6]+2734768916&4294967295,V=N+(w<<15&4294967295|w>>>17),w=A+(N^(V|~b))+C[13]+1309151649&4294967295,A=V+(w<<21&4294967295|w>>>11),w=b+(V^(A|~N))+C[4]+4149444226&4294967295,b=A+(w<<6&4294967295|w>>>26),w=N+(A^(b|~V))+C[11]+3174756917&4294967295,N=b+(w<<10&4294967295|w>>>22),w=V+(b^(N|~A))+C[2]+718787259&4294967295,V=N+(w<<15&4294967295|w>>>17),w=A+(N^(V|~b))+C[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+N&4294967295}r.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var A=b-this.blockSize,C=this.B,V=this.h,N=0;N<b;){if(V==0)for(;N<=A;)u(this,M,N),N+=this.blockSize;if(typeof M=="string"){for(;N<b;)if(C[V++]=M.charCodeAt(N++),V==this.blockSize){u(this,C),V=0;break}}else for(;N<b;)if(C[V++]=M[N++],V==this.blockSize){u(this,C),V=0;break}}this.h=V,this.o+=b},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var A=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=A&255,A/=256;for(this.u(M),M=Array(16),b=A=0;4>b;++b)for(var C=0;32>C;C+=8)M[A++]=this.g[b]>>>C&255;return M};function h(M,b){var A=g;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=b(M)}function d(M,b){this.h=b;for(var A=[],C=!0,V=M.length-1;0<=V;V--){var N=M[V]|0;C&&N==b||(A[V]=N,C=!1)}this.g=A}var g={};function v(M){return-128<=M&&128>M?h(M,function(b){return new d([b|0],0>b?-1:0)}):new d([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return U;if(0>M)return W(_(-M));for(var b=[],A=1,C=0;M>=A;C++)b[C]=M/A|0,A*=4294967296;return new d(b,0)}function R(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return W(R(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=_(Math.pow(b,8)),C=U,V=0;V<M.length;V+=8){var N=Math.min(8,M.length-V),w=parseInt(M.substring(V,V+N),b);8>N?(N=_(Math.pow(b,N)),C=C.j(N).add(_(w))):(C=C.j(A),C=C.add(_(w)))}return C}var U=v(0),j=v(1),G=v(16777216);s=d.prototype,s.m=function(){if(rt(this))return-W(this).m();for(var M=0,b=1,A=0;A<this.g.length;A++){var C=this.i(A);M+=(0<=C?C:4294967296+C)*b,b*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(J(this))return"0";if(rt(this))return"-"+W(this).toString(M);for(var b=_(Math.pow(M,6)),A=this,C="";;){var V=Ht(A,b).g;A=Rt(A,V.j(b));var N=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=V,J(A))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function J(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function rt(M){return M.h==-1}s.l=function(M){return M=Rt(this,M),rt(M)?-1:J(M)?0:1};function W(M){for(var b=M.g.length,A=[],C=0;C<b;C++)A[C]=~M.g[C];return new d(A,~M.h).add(j)}s.abs=function(){return rt(this)?W(this):this},s.add=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],C=0,V=0;V<=b;V++){var N=C+(this.i(V)&65535)+(M.i(V)&65535),w=(N>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);C=w>>>16,N&=65535,w&=65535,A[V]=w<<16|N}return new d(A,A[A.length-1]&-2147483648?-1:0)};function Rt(M,b){return M.add(W(b))}s.j=function(M){if(J(this)||J(M))return U;if(rt(this))return rt(M)?W(this).j(W(M)):W(W(this).j(M));if(rt(M))return W(this.j(W(M)));if(0>this.l(G)&&0>M.l(G))return _(this.m()*M.m());for(var b=this.g.length+M.g.length,A=[],C=0;C<2*b;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(var V=0;V<M.g.length;V++){var N=this.i(C)>>>16,w=this.i(C)&65535,ge=M.i(V)>>>16,ue=M.i(V)&65535;A[2*C+2*V]+=w*ue,mt(A,2*C+2*V),A[2*C+2*V+1]+=N*ue,mt(A,2*C+2*V+1),A[2*C+2*V+1]+=w*ge,mt(A,2*C+2*V+1),A[2*C+2*V+2]+=N*ge,mt(A,2*C+2*V+2)}for(C=0;C<b;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=b;C<2*b;C++)A[C]=0;return new d(A,0)};function mt(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function ht(M,b){this.g=M,this.h=b}function Ht(M,b){if(J(b))throw Error("division by zero");if(J(M))return new ht(U,U);if(rt(M))return b=Ht(W(M),b),new ht(W(b.g),W(b.h));if(rt(b))return b=Ht(M,W(b)),new ht(W(b.g),b.h);if(30<M.g.length){if(rt(M)||rt(b))throw Error("slowDivide_ only works with positive integers.");for(var A=j,C=b;0>=C.l(M);)A=yt(A),C=yt(C);var V=Ct(A,1),N=Ct(C,1);for(C=Ct(C,2),A=Ct(A,2);!J(C);){var w=N.add(C);0>=w.l(M)&&(V=V.add(A),N=w),C=Ct(C,1),A=Ct(A,1)}return b=Rt(M,V.j(b)),new ht(V,b)}for(V=U;0<=M.l(b);){for(A=Math.max(1,Math.floor(M.m()/b.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=_(A),w=N.j(b);rt(w)||0<w.l(M);)A-=C,N=_(A),w=N.j(b);J(N)&&(N=j),V=V.add(N),M=Rt(M,w)}return new ht(V,M)}s.A=function(M){return Ht(this,M).h},s.and=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],C=0;C<b;C++)A[C]=this.i(C)&M.i(C);return new d(A,this.h&M.h)},s.or=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],C=0;C<b;C++)A[C]=this.i(C)|M.i(C);return new d(A,this.h|M.h)},s.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],C=0;C<b;C++)A[C]=this.i(C)^M.i(C);return new d(A,this.h^M.h)};function yt(M){for(var b=M.g.length+1,A=[],C=0;C<b;C++)A[C]=M.i(C)<<1|M.i(C-1)>>>31;return new d(A,M.h)}function Ct(M,b){var A=b>>5;b%=32;for(var C=M.g.length-A,V=[],N=0;N<C;N++)V[N]=0<b?M.i(N+A)>>>b|M.i(N+A+1)<<32-b:M.i(N+A);return new d(V,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=R,Ta=d}).apply(typeof Kp<"u"?Kp:typeof self<"u"?self:typeof window<"u"?window:{});var _u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cv,Nl,hv,Ru,Df,fv,dv,mv;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof _u=="object"&&_u];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function u(o,m){if(m)t:{var p=r;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in p))break t;p=p[L]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,L={next:function(){if(!T&&p<o.length){var k=p++;return{value:m(k,o[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function _(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function R(o,m,p){return o.call.apply(o.bind,arguments)}function U(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function j(o,m,p){return j=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?R:U,j.apply(null,arguments)}function G(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function J(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,L,k){for(var X=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)X[Dt-2]=arguments[Dt];return m.prototype[L].apply(T,X)}}function rt(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function W(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(v(T)){const L=o.length||0,k=T.length||0;o.length=L+k;for(let X=0;X<k;X++)o[L+X]=T[X]}else o.push(T)}}class Rt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function mt(o){return/^[\s\xa0]*$/.test(o)}function ht(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function Ht(o){return Ht[" "](o),o}Ht[" "]=function(){};var yt=ht().indexOf("Gecko")!=-1&&!(ht().toLowerCase().indexOf("webkit")!=-1&&ht().indexOf("Edge")==-1)&&!(ht().indexOf("Trident")!=-1||ht().indexOf("MSIE")!=-1)&&ht().indexOf("Edge")==-1;function Ct(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function M(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function b(o){const m={};for(const p in o)m[p]=o[p];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(o,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)o[p]=T[p];for(let k=0;k<A.length;k++)p=A[k],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function V(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function N(o){g.setTimeout(()=>{throw o},0)}function w(){var o=jt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,p){const T=ue.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ue=new Rt(()=>new $,o=>o.reset());class ${constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,ot=!1,jt=new ge,D=()=>{const o=g.Promise.resolve(void 0);ft=()=>{o.then(K)}};var K=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(p){N(p)}var m=ue;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ot=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function Tt(o,m){if(tt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(yt){t:{try{Ht(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:_t[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Tt.aa.h.call(this)}}J(Tt,tt);var _t={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function Wt(o,m,p,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Lt,this.da=this.fa=!1}function Pt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Ge(o){this.src=o,this.g={},this.h=0}Ge.prototype.add=function(o,m,p,T,L){var k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);var X=fn(o,m,T,L);return-1<X?(m=o[X],p||(m.fa=!1)):(m=new Wt(m,this.src,k,!!T,L),m.fa=p,o.push(m)),m};function ai(o,m){var p=m.type;if(p in o.g){var T=o.g[p],L=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=L)&&Array.prototype.splice.call(T,L,1),k&&(Pt(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function fn(o,m,p,T){for(var L=0;L<o.length;++L){var k=o[L];if(!k.da&&k.listener==m&&k.capture==!!p&&k.ha==T)return L}return-1}var xi="closure_lm_"+(1e6*Math.random()|0),Ui={};function si(o,m,p,T,L){if(Array.isArray(m)){for(var k=0;k<m.length;k++)si(o,m[k],p,T,L);return null}return p=$l(p),o&&o[ce]?o.K(m,p,_(T)?!!T.capture:!1,L):Rr(o,m,p,!1,T,L)}function Rr(o,m,p,T,L,k){if(!m)throw Error("Invalid event type");var X=_(L)?!!L.capture:!!L,Dt=wr(o);if(Dt||(o[xi]=Dt=new Ge(o)),p=Dt.add(m,p,T,X,k),p.proxy)return p;if(T=ys(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)et||(L=X),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(_s(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ys(){function o(p){return m.call(o.src,o.listener,p)}const m=ic;return o}function vs(o,m,p,T,L){if(Array.isArray(m))for(var k=0;k<m.length;k++)vs(o,m[k],p,T,L);else T=_(T)?!!T.capture:!!T,p=$l(p),o&&o[ce]?(o=o.i,m=String(m).toString(),m in o.g&&(k=o.g[m],p=fn(k,p,T,L),-1<p&&(Pt(k[p]),Array.prototype.splice.call(k,p,1),k.length==0&&(delete o.g[m],o.h--)))):o&&(o=wr(o))&&(m=o.g[m.toString()],o=-1,m&&(o=fn(m,p,T,L)),(p=-1<o?m[o]:null)&&Va(p))}function Va(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[ce])ai(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(_s(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=wr(m))?(ai(p,o),p.h==0&&(p.src=null,m[xi]=null)):Pt(o)}}}function _s(o){return o in Ui?Ui[o]:Ui[o]="on"+o}function ic(o,m){if(o.da)o=!0;else{m=new Tt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&Va(o),o=p.call(T,m)}return o}function wr(o){return o=o[xi],o instanceof Ge?o:null}var $e="__closure_events_fn_"+(1e9*Math.random()>>>0);function $l(o){return typeof o=="function"?o:(o[$e]||(o[$e]=function(m){return o.handleEvent(m)}),o[$e])}function pe(){st.call(this),this.i=new Ge(this),this.M=this,this.F=null}J(pe,st),pe.prototype[ce]=!0,pe.prototype.removeEventListener=function(o,m,p,T){vs(this,o,m,p,T)};function be(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new tt(m,o);else if(m instanceof tt)m.target=m.target||o;else{var L=m;m=new tt(T,o),C(m,L)}if(L=!0,p)for(var k=p.length-1;0<=k;k--){var X=m.g=p[k];L=ri(X,T,!0,m)&&L}if(X=m.g=o,L=ri(X,T,!0,m)&&L,L=ri(X,T,!1,m)&&L,p)for(k=0;k<p.length;k++)X=m.g=p[k],L=ri(X,T,!1,m)&&L}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Pt(p[T]);delete o.g[m],o.h--}}this.F=null},pe.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},pe.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function ri(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,k=0;k<m.length;++k){var X=m[k];if(X&&!X.da&&X.capture==p){var Dt=X.listener,ve=X.ha||X.src;X.fa&&ai(o.i,X),L=Dt.call(ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function Jl(o,m,p){if(typeof o=="function")p&&(o=j(o,p));else if(o&&typeof o.handleEvent=="function")o=j(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function Cr(o){o.g=Jl(()=>{o.g=null,o.i&&(o.i=!1,Cr(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class ac extends st{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Cr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oa(o){st.call(this),this.h=o,this.g={}}J(Oa,st);var Li=[];function Be(o){Ct(o.g,function(m,p){this.g.hasOwnProperty(p)&&Va(m)},o),o.g={}}Oa.prototype.N=function(){Oa.aa.N.call(this),Be(this)},Oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dr=g.JSON.stringify,Ln=g.JSON.parse,Qe=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Ir(){}Ir.prototype.h=null;function Wl(o){return o.h||(o.h=o.i())}function to(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){tt.call(this,"d")}J(zi,tt);function In(){tt.call(this,"c")}J(In,tt);var dn={},Bi=null;function Es(){return Bi=Bi||new pe}dn.La="serverreachability";function Vr(o){tt.call(this,dn.La,o)}J(Vr,tt);function ki(o){const m=Es();be(m,new Vr(m))}dn.STAT_EVENT="statevent";function Ts(o,m){tt.call(this,dn.STAT_EVENT,o),this.stat=m}J(Ts,tt);function se(o){const m=Es();be(m,new Ts(m,o))}dn.Ma="timingevent";function eo(o,m){tt.call(this,dn.Ma,o),this.size=m}J(eo,tt);function ji(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function qi(){this.g=!0}qi.prototype.xa=function(){this.g=!1};function no(o,m,p,T,L,k){o.info(function(){if(o.g)if(k)for(var X="",Dt=k.split("&"),ve=0;ve<Dt.length;ve++){var It=Dt[ve].split("=");if(1<It.length){var Ce=It[0];It=It[1];var _e=Ce.split("_");X=2<=_e.length&&_e[1]=="type"?X+(Ce+"="+It+"&"):X+(Ce+"=redacted&")}}else X=null;else X=k;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+X})}function io(o,m,p,T,L,k,X){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+k+" "+X})}function Pi(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Re(o,p)+(T?" "+T:"")})}function Bn(o,m){o.info(function(){return"TIMEOUT: "+m})}qi.prototype.info=function(){};function Re(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var k=L[0];if(k!="noop"&&k!="stop"&&k!="close")for(var X=1;X<L.length;X++)L[X]=""}}}}return Dr(p)}catch{return m}}var ye={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Na;function As(){}J(As,Ir),As.prototype.g=function(){return new XMLHttpRequest},As.prototype.i=function(){return{}},Na=new As;function kn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Oa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Or}function Or(){this.i=null,this.g="",this.h=!1}var Hi={},Ma={};function Vn(o,m,p){o.L=1,o.v=La(te(m)),o.m=p,o.P=!0,oi(o,null)}function oi(o,m){o.F=Date.now(),Xt(o),o.A=te(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),hi(p.i,"t",T),o.C=0,p=o.j.J,o.h=new Or,o.g=vo(o.j,p?m:null,!o.m),0<o.O&&(o.M=new ac(j(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(Li[0]=L.toString()),L=Li);for(var k=0;k<L.length;k++){var X=si(p,L[k],T||m.handleEvent,!1,m.h||m);if(!X)break;m.g[X.key]=X}m=o.H?b(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),ki(),no(o.i,o.u,o.A,o.l,o.R,o.m)}kn.prototype.ca=function(o){o=o.target;const m=this.M;m&&vn(o)==3?m.j():this.Y(o)},kn.prototype.Y=function(o){try{if(o==this.g)t:{const _e=vn(this.g);var m=this.g.Ba();const gi=this.g.Z();if(!(3>_e)&&(_e!=3||this.g&&(this.h.h||this.g.oa()||uo(this.g)))){this.J||_e!=4||m==7||(m==8||0>=gi?ki(3):ki(2)),Ss(this);var p=this.g.Z();this.X=p;e:if(Gi(this)){var T=uo(this.g);o="";var L=T.length,k=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Je(this),an(this);var X="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(k&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=p==200,io(this.i,this.u,this.A,this.l,this.R,_e,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Dt,ve=this.g;if((Dt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mt(Dt)){var It=Dt;break e}}It=null}if(p=It)Pi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sn(this,p);else{this.o=!1,this.s=3,se(12),Je(this),an(this);break t}}if(this.P){p=!0;let Ne;for(;!this.J&&this.C<X.length;)if(Ne=Qi(this,X),Ne==Ma){_e==4&&(this.s=4,se(14),p=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ne==Hi){this.s=4,se(15),Pi(this.i,this.l,X,"[Invalid Chunk]"),p=!1;break}else Pi(this.i,this.l,Ne,null),sn(this,Ne);if(Gi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||X.length!=0||this.h.h||(this.s=1,se(16),p=!1),this.o=this.o&&p,!p)Pi(this.i,this.l,X,"[Invalid Chunked Response]"),Je(this),an(this);else if(0<X.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Ha(Ce),Ce.M=!0,se(11))}}else Pi(this.i,this.l,X,null),sn(this,X);_e==4&&Je(this),this.o&&!this.J&&(_e==4?go(this.j,this):(this.o=!1,Xt(this)))}else cc(this.g),p==400&&0<X.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),Je(this),an(this)}}}catch{}finally{}};function Gi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Qi(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Ma:(p=Number(m.substring(p,T)),isNaN(p)?Hi:(T+=1,T+p>m.length?Ma:(m=m.slice(T,T+p),o.C=T+p,m)))}kn.prototype.cancel=function(){this.J=!0,Je(this)};function Xt(o){o.S=Date.now()+o.I,Nr(o,o.I)}function Nr(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ji(j(o.ba,o),m)}function Ss(o){o.B&&(g.clearTimeout(o.B),o.B=null)}kn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Bn(this.i,this.A),this.L!=2&&(ki(),se(17)),Je(this),this.s=2,an(this)):Nr(this,this.S-o)};function an(o){o.j.G==0||o.J||go(o.j,o)}function Je(o){Ss(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Be(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function sn(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Fi(p.h,o))){if(!o.K&&Fi(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Ms(p),Os(p);else break t;Hr(p),se(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=ji(j(p.Za,p),6e3));if(1>=ao(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else mi(p,11)}else if((o.K||p.g==o)&&Ms(p),!mt(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let It=L[m];if(p.T=It[0],It=It[1],p.G==2)if(It[0]=="c"){p.K=It[1],p.ia=It[2];const Ce=It[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const _e=It[4];_e!=null&&(p.Aa=_e,p.j.info("SVER="+p.Aa));const gi=It[5];gi!=null&&typeof gi=="number"&&0<gi&&(T=1.5*gi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Ne=o.g;if(Ne){const Fn=Ne.g?Ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fn){var k=T.h;k.g||Fn.indexOf("spdy")==-1&&Fn.indexOf("quic")==-1&&Fn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Ki(k,k.h),k.h=null))}if(T.D){const Qr=Ne.g?Ne.g.getResponseHeader("X-HTTP-Session-Id"):null;Qr&&(T.ya=Qr,zt(T.I,T.D,Qr))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var X=o;if(T.qa=yo(T,T.J?T.ia:null,T.W),X.K){mn(T.h,X);var Dt=X,ve=T.L;ve&&(Dt.I=ve),Dt.B&&(Ss(Dt),Xt(Dt)),T.g=X}else fo(T);0<p.i.length&&Ns(p)}else It[0]!="stop"&&It[0]!="close"||mi(p,7);else p.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?mi(p,7):qr(p):It[0]!="noop"&&p.l&&p.l.ta(It),p.v=0)}}ki(4)}catch{}}var sc=class{constructor(o,m){this.g=o,this.map=m}};function Mr(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xr(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ao(o){return o.h?1:o.g?o.g.size:0}function Fi(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Ki(o,m){o.g?o.g.add(m):o.h=m}function mn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Mr.prototype.cancel=function(){if(this.i=Fe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Fe(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return rt(o.i)}function so(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function rc(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function xa(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=rc(o),T=so(o),L=T.length,k=0;k<L;k++)m.call(void 0,T[k],p&&p[k],o)}var Ur=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bs(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),L=null;if(0<=T){var k=o[p].substring(0,T);L=o[p].substring(T+1)}else k=o[p];m(k,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ui(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof ui){this.h=o.h,Yi(this,o.j),this.o=o.o,this.g=o.g,Ua(this,o.s),this.l=o.l;var m=o.i,p=new jn;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Rs(this,p),this.m=o.m}else o&&(m=String(o).match(Ur))?(this.h=!1,Yi(this,m[1]||"",!0),this.o=Xi(m[2]||""),this.g=Xi(m[3]||"",!0),Ua(this,m[4]),this.l=Xi(m[5]||"",!0),Rs(this,m[6]||"",!0),this.m=Xi(m[7]||"")):(this.h=!1,this.i=new jn(null,this.h))}ui.prototype.toString=function(){var o=[],m=this.j;m&&o.push(gn(m,Lr,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(gn(m,Lr,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(gn(p,p.charAt(0)=="/"?zr:ro,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",gn(p,uc)),o.join("")};function te(o){return new ui(o)}function Yi(o,m,p){o.j=p?Xi(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Ua(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Rs(o,m,p){m instanceof jn?(o.i=m,Br(o.i,o.h)):(p||(m=gn(m,oc)),o.i=new jn(m,o.h))}function zt(o,m,p){o.i.set(m,p)}function La(o){return zt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Xi(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function gn(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,lc),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function lc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Lr=/[#\/\?@]/g,ro=/[#\?:]/g,zr=/[#\?]/g,oc=/[#\?@]/g,uc=/#/g;function jn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function pn(o){o.g||(o.g=new Map,o.h=0,o.i&&bs(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=jn.prototype,s.add=function(o,m){pn(this),this.i=null,o=fi(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function ws(o,m){pn(o),m=fi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function ci(o,m){return pn(o),m=fi(o,m),o.g.has(m)}s.forEach=function(o,m){pn(this),this.g.forEach(function(p,T){p.forEach(function(L){o.call(m,L,T,this)},this)},this)},s.na=function(){pn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=o[T];for(let k=0;k<L.length;k++)p.push(m[T])}return p},s.V=function(o){pn(this);let m=[];if(typeof o=="string")ci(this,o)&&(m=m.concat(this.g.get(fi(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return pn(this),this.i=null,o=fi(this,o),ci(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function hi(o,m,p){ws(o,m),0<p.length&&(o.i=null,o.g.set(fi(o,m),rt(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const k=encodeURIComponent(String(T)),X=this.V(T);for(T=0;T<X.length;T++){var L=k;X[T]!==""&&(L+="="+encodeURIComponent(String(X[T]))),o.push(L)}}return this.i=o.join("&")};function fi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Br(o,m){m&&!o.j&&(pn(o),o.i=null,o.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(ws(this,T),hi(this,L,p))},o)),o.j=m}function lo(o,m){const p=new qi;if(g.Image){const T=new Image;T.onload=G(yn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=G(yn,p,"TestLoadImage: error",!1,m,T),T.onabort=G(yn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=G(yn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function za(o,m){const p=new qi,T=new AbortController,L=setTimeout(()=>{T.abort(),yn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(L),k.ok?yn(p,"TestPingServer: ok",!0,m):yn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),yn(p,"TestPingServer: error",!1,m)})}function yn(o,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Ba(){this.g=new Qe}function qn(o,m,p){const T=p||"";try{xa(o,function(L,k){let X=L;_(L)&&(X=Dr(L)),m.push(T+k+"="+encodeURIComponent(X))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Zi(o){this.l=o.Ub||null,this.j=o.eb||!1}J(Zi,Ir),Zi.prototype.g=function(){return new di(this.l,this.j)},Zi.prototype.i=function(o){return function(){return o}}({});function di(o,m){pe.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(di,pe),s=di.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Hn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kr(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function kr(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Pn(this):Hn(this),this.readyState==3&&kr(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,Pn(this))},s.Qa=function(o){this.g&&(this.response=o,Pn(this))},s.ga=function(){this.g&&Pn(this)};function Pn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Hn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Hn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function jr(o){let m="";return Ct(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function we(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=jr(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):zt(o,m,p))}function qt(o){pe.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(qt,pe);var Cs=/^https?$/i,ka=["POST","PUT"];s=qt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Na.g(),this.v=this.o?Wl(this.o):Wl(Na),this.g.onreadystatechange=j(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){oo(this,k);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())p.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),L=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ka,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,X]of p)this.g.setRequestHeader(k,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ja(this),this.u=!0,this.g.send(o),this.u=!1}catch(k){oo(this,k)}};function oo(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ds(o),Gn(o)}function Ds(o){o.A||(o.A=!0,be(o,"complete"),be(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,be(this,"complete"),be(this,"abort"),Gn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Is(this):this.bb())},s.bb=function(){Is(this)};function Is(o){if(o.h&&typeof d<"u"&&(!o.v[1]||vn(o)!=4||o.Z()!=2)){if(o.u&&vn(o)==4)Jl(o.Ea,0,o);else if(be(o,"readystatechange"),vn(o)==4){o.h=!1;try{const X=o.Z();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=X===0){var L=String(o.D).match(Ur)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Cs.test(L?L.toLowerCase():"")}p=T}if(p)be(o,"complete"),be(o,"success");else{o.m=6;try{var k=2<vn(o)?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.Z()+"]",Ds(o)}}finally{Gn(o)}}}}function Gn(o,m){if(o.g){ja(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||be(o,"ready");try{p.onreadystatechange=T}catch{}}}function ja(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function vn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Ln(m)}};function uo(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function cc(o){const m={};o=(o.g&&2<=vn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(mt(o[T]))continue;var p=V(o[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=m[L]||[];m[L]=k,k.push(p)}M(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qa(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Vs(o){this.Aa=0,this.i=[],this.j=new qi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qa("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qa("baseRetryDelayMs",5e3,o),this.cb=qa("retryDelaySeedMs",1e4,o),this.Wa=qa("forwardChannelMaxRetries",2,o),this.wa=qa("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Mr(o&&o.concurrentRequestLimit),this.Da=new Ba,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Vs.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){se(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=yo(this,null,this.W),Ns(this)};function qr(o){if(co(o),o.G==3){var m=o.U++,p=te(o.I);if(zt(p,"SID",o.K),zt(p,"RID",m),zt(p,"TYPE","terminate"),Pa(o,p),m=new kn(o,o.j,m),m.L=2,m.v=La(te(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=vo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Xt(m)}po(o)}function Os(o){o.g&&(Ha(o),o.g.cancel(),o.g=null)}function co(o){Os(o),o.u&&(g.clearTimeout(o.u),o.u=null),Ms(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Ns(o){if(!xr(o.h)&&!o.s){o.s=!0;var m=o.Ga;ft||D(),ot||(ft(),ot=!0),jt.add(m,o),o.B=0}}function hc(o,m){return ao(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ji(j(o.Ga,o,m),Gr(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new kn(this,this.j,o);let k=this.o;if(this.S&&(k?(k=b(k),C(k,this.S)):k=this.S),this.m!==null||this.O||(L.H=k,k=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=ho(this,L,m),p=te(this.I),zt(p,"RID",o),zt(p,"CVER",22),this.D&&zt(p,"X-HTTP-Session-Id",this.D),Pa(this,p),k&&(this.O?m="headers="+encodeURIComponent(String(jr(k)))+"&"+m:this.m&&we(p,this.m,k)),Ki(this.h,L),this.Ua&&zt(p,"TYPE","init"),this.P?(zt(p,"$req",m),zt(p,"SID","null"),L.T=!0,Vn(L,p,null)):Vn(L,p,m),this.G=2}}else this.G==3&&(o?Pr(this,o):this.i.length==0||xr(this.h)||Pr(this))};function Pr(o,m){var p;m?p=m.l:p=o.U++;const T=te(o.I);zt(T,"SID",o.K),zt(T,"RID",p),zt(T,"AID",o.T),Pa(o,T),o.m&&o.o&&we(T,o.m,o.o),p=new kn(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=ho(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ki(o.h,p),Vn(p,T,m)}function Pa(o,m){o.H&&Ct(o.H,function(p,T){zt(m,T,p)}),o.l&&xa({},function(p,T){zt(m,T,p)})}function ho(o,m,p){p=Math.min(o.i.length,p);var T=o.l?j(o.l.Na,o.l,o):null;t:{var L=o.i;let k=-1;for(;;){const X=["count="+p];k==-1?0<p?(k=L[0].g,X.push("ofs="+k)):k=0:X.push("ofs="+k);let Dt=!0;for(let ve=0;ve<p;ve++){let It=L[ve].g;const Ce=L[ve].map;if(It-=k,0>It)k=Math.max(0,L[ve].g-100),Dt=!1;else try{qn(Ce,X,"req"+It+"_")}catch{T&&T(Ce)}}if(Dt){T=X.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function fo(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;ft||D(),ot||(ft(),ot=!0),jt.add(m,o),o.v=0}}function Hr(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ji(j(o.Fa,o),Gr(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,mo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ji(j(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Os(this),mo(this))};function Ha(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function mo(o){o.g=new kn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=te(o.qa);zt(m,"RID","rpc"),zt(m,"SID",o.K),zt(m,"AID",o.T),zt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&zt(m,"TO",o.ja),zt(m,"TYPE","xmlhttp"),Pa(o,m),o.m&&o.o&&we(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=La(te(m)),p.m=null,p.P=!0,oi(p,o)}s.Za=function(){this.C!=null&&(this.C=null,Os(this),Hr(this),se(19))};function Ms(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function go(o,m){var p=null;if(o.g==m){Ms(o),Ha(o),o.g=null;var T=2}else if(Fi(o.h,m))p=m.D,mn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=Es(),be(T,new eo(T,p)),Ns(o)}else fo(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&hc(o,m)||T==2&&Hr(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),L){case 1:mi(o,5);break;case 4:mi(o,10);break;case 3:mi(o,6);break;default:mi(o,2)}}}function Gr(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function mi(o,m){if(o.j.info("Error code "+m),m==2){var p=j(o.fb,o),T=o.Xa;const L=!T;T=new ui(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Yi(T,"https"),La(T),L?lo(T.toString(),p):za(T.toString(),p)}else se(2);o.G=0,o.l&&o.l.sa(m),po(o),co(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function po(o){if(o.G=0,o.ka=[],o.l){const m=Fe(o.h);(m.length!=0||o.i.length!=0)&&(W(o.ka,m),W(o.ka,o.i),o.h.i.length=0,rt(o.i),o.i.length=0),o.l.ra()}}function yo(o,m,p){var T=p instanceof ui?te(p):new ui(p);if(T.g!="")m&&(T.g=m+"."+T.g),Ua(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var k=new ui(null);T&&Yi(k,T),m&&(k.g=m),L&&Ua(k,L),p&&(k.l=p),T=k}return p=o.D,m=o.ya,p&&m&&zt(T,p,m),zt(T,"VER",o.la),Pa(o,T),T}function vo(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new qt(new Zi({eb:p})):new qt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function _o(){}s=_o.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function xs(){}xs.prototype.g=function(o,m){return new Ke(o,m)};function Ke(o,m){pe.call(this),this.g=new Vs(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!mt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!mt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Qn(this)}J(Ke,pe),Ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){qr(this.g)},Ke.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Dr(o),o=p);m.i.push(new sc(m.Ya++,o)),m.G==3&&Ns(m)},Ke.prototype.N=function(){this.g.l=null,delete this.j,qr(this.g),delete this.g,Ke.aa.N.call(this)};function Eo(o){zi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}J(Eo,zi);function To(){In.call(this),this.status=1}J(To,In);function Qn(o){this.g=o}J(Qn,_o),Qn.prototype.ua=function(){be(this.g,"a")},Qn.prototype.ta=function(o){be(this.g,new Eo(o))},Qn.prototype.sa=function(o){be(this.g,new To)},Qn.prototype.ra=function(){be(this.g,"b")},xs.prototype.createWebChannel=xs.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,mv=function(){return new xs},dv=function(){return Es()},fv=dn,Df={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ye.NO_ERROR=0,ye.TIMEOUT=8,ye.HTTP_ERROR=6,Ru=ye,li.COMPLETE="complete",hv=li,to.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Nl=to,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,cv=qt}).apply(typeof _u<"u"?_u:typeof self<"u"?self:typeof window<"u"?window:{});const Yp="@firebase/firestore",Xp="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pe.UNAUTHENTICATED=new Pe(null),Pe.GOOGLE_CREDENTIALS=new Pe("google-credentials-uid"),Pe.FIRST_PARTY=new Pe("first-party-uid"),Pe.MOCK_USER=new Pe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tr="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Zf("@firebase/firestore");function lr(){return ds.logLevel}function nt(s,...e){if(ds.logLevel<=Nt.DEBUG){const i=e.map(Jf);ds.debug(`Firestore (${Tr}): ${s}`,...i)}}function Mi(s,...e){if(ds.logLevel<=Nt.ERROR){const i=e.map(Jf);ds.error(`Firestore (${Tr}): ${s}`,...i)}}function mr(s,...e){if(ds.logLevel<=Nt.WARN){const i=e.map(Jf);ds.warn(`Firestore (${Tr}): ${s}`,...i)}}function Jf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(s="Unexpected state"){const e=`FIRESTORE (${Tr}) INTERNAL ASSERTION FAILED: `+s;throw Mi(e),new Error(e)}function Jt(s,e){s||vt()}function xt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Ia{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Pe.UNAUTHENTICATED))}shutdown(){}}class nA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class iA{constructor(e){this.t=e,this.currentUser=Pe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Jt(this.o===void 0);let r=this.i;const u=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new hs,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await u(this.currentUser)})},g=v=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new hs)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Jt(typeof r.accessToken=="string"),new gv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jt(e===null||typeof e=="string"),new Pe(e)}}class aA{constructor(e,i,r){this.l=e,this.h=i,this.P=r,this.type="FirstParty",this.user=Pe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class sA{constructor(e,i,r){this.l=e,this.h=i,this.P=r}getToken(){return Promise.resolve(new aA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Pe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,qT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Jt(this.o===void 0);const r=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>r(h))};const u=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Zp(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Jt(typeof i.token=="string"),this.R=i.token,new Zp(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const u=lA(40);for(let h=0;h<u.length;++h)r.length<20&&u[h]<i&&(r+=e.charAt(u[h]%62))}return r}}function Mt(s,e){return s<e?-1:s>e?1:0}function gr(s,e,i){return s.length===e.length&&s.every((r,u)=>i(r,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=-62135596800,Jp=1e6;class en{static now(){return en.fromMillis(Date.now())}static fromDate(e){return en.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Jp);return new en(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<$p)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jp}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$p;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new en(0,0))}static max(){return new pt(new en(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="__name__";class Jn{constructor(e,i,r){i===void 0?i=0:i>e.length&&vt(),r===void 0?r=e.length-i:r>e.length-i&&vt(),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(r=>{i.push(r)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let u=0;u<r;u++){const h=Jn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Math.sign(e.length-i.length)}static compareSegments(e,i){const r=Jn.isNumericId(e),u=Jn.isNumericId(i);return r&&!u?-1:!r&&u?1:r&&u?Jn.extractNumericId(e).compare(Jn.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ta.fromString(e.substring(4,e.length-2))}}class ae extends Jn{construct(e,i,r){return new ae(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(u=>u.length>0))}return new ae(i)}static emptyPath(){return new ae([])}}const uA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Jn{construct(e,i,r){return new Ze(e,i,r)}static isValidIdentifier(e){return uA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wp}static keyField(){return new Ze([Wp])}static fromServerFormat(e){const i=[];let r="",u=0;const h=()=>{if(r.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(r+=g,u++):(h(),u++)}if(h(),d)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(i)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(ae.fromString(e))}static fromName(e){return new dt(ae.fromString(e).popFirst(5))}static empty(){return new dt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ae.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new ae(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function cA(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,u=pt.fromTimestamp(r===1e9?new en(i+1,0):new en(i,r));return new Sa(u,dt.empty(),e)}function hA(s){return new Sa(s.readTime,s.key,Pl)}class Sa{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Sa(pt.min(),dt.empty(),Pl)}static max(){return new Sa(pt.max(),dt.empty(),Pl)}}function fA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,e.documentKey),i!==0?i:Mt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==dA)throw s;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Q((r,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.reject(i)}static resolve(e){return new Q((i,r)=>{i(e)})}static reject(e){return new Q((i,r)=>{r(e)})}static waitFor(e){return new Q((i,r)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},v=>r(v))}),d=!0,h===u&&i()})}static or(e){let i=Q.resolve(!1);for(const r of e)i=i.next(u=>u?Q.resolve(u):r());return i}static forEach(e,i){const r=[];return e.forEach((u,h)=>{r.push(i.call(this,u,h))}),this.waitFor(r)}static mapArray(e,i){return new Q((r,u)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(R=>{d[_]=R,++g,g===h&&r(d)},R=>u(R))}})}static doWhile(e,i){return new Q((r,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):r()};h()})}}function gA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ar(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.oe(r),this._e=r=>i.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Gu.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=-1;function Qu(s){return s==null}function If(s){return s===0&&1/s==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="";function yA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=ty(e)),e=vA(s.get(i),e);return ty(e)}function vA(s,e){let i=e;const r=s.length;for(let u=0;u<r;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case pv:i+="";break;default:i+=h}}return i}function ty(s){return s+pv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Kl(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function _A(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,i){this.comparator=e,this.root=i||Le.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const u=this.comparator(e,r.key);if(u===0)return i+r.left.size;u<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,r)=>(e(i,r),!1))}toString(){const e=[];return this.inorderTraversal((i,r)=>(e.push(`${i}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eu(this.root,e,this.comparator,!0)}}class Eu{constructor(e,i,r,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Le{constructor(e,i,r,u,h){this.key=e,this.value=i,this.color=r??Le.RED,this.left=u??Le.EMPTY,this.right=h??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,u,h){return new Le(e??this.key,i??this.value,r??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let u=this;const h=r(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,r),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,r)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Le.EMPTY;r=u.right.min(),u=u.copy(r.key,r.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const e=this.left.check();if(e!==this.right.check())throw vt();return e+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(e,i,r,u,h){return this}insert(e,i,r){return new Le(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,r)=>(e(i),!1))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const u=r.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ny(this.data.getIterator())}getIteratorFrom(e){return new ny(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(r=>{i=i.add(r)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class ny{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new ya([])}unionWith(e){let i=new Se(Ze.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new ya(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return gr(this.fields,e.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new yv("Invalid base64 string: "+h):h}}(e);return new ze(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new ze(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let u=0;u<i.length;u++)r[u]=i.charCodeAt(u);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ze.EMPTY_BYTE_STRING=new ze("");const EA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ba(s){if(Jt(!!s),typeof s=="string"){let e=0;const i=EA.exec(s);if(Jt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:le(s.seconds),nanos:le(s.nanos)}}function le(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ra(s){return typeof s=="string"?ze.fromBase64String(s):ze.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="server_timestamp",_v="__type__",Ev="__previous_value__",Tv="__local_write_time__";function Wf(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[_v])===null||i===void 0?void 0:i.stringValue)===vv}function Fu(s){const e=s.mapValue.fields[Ev];return Wf(e)?Fu(e):e}function Hl(s){const e=ba(s.mapValue.fields[Tv].timestampValue);return new en(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,i,r,u,h,d,g,v,_){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_}}const Nu="(default)";class Gl{constructor(e,i){this.projectId=e,this.database=i||Nu}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===Nu}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="__type__",SA="__max__",Tu={mapValue:{}},bA="__vector__",Vf="value";function wa(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Wf(s)?4:wA(s)?9007199254740991:RA(s)?10:11:vt()}function ni(s,e){if(s===e)return!0;const i=wa(s);if(i!==wa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Hl(s).isEqual(Hl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=ba(u.timestampValue),g=ba(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return Ra(u.bytesValue).isEqual(Ra(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return le(u.geoPointValue.latitude)===le(h.geoPointValue.latitude)&&le(u.geoPointValue.longitude)===le(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return le(u.integerValue)===le(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=le(u.doubleValue),g=le(h.doubleValue);return d===g?If(d)===If(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return gr(s.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(ey(d)!==ey(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!ni(d[v],g[v])))return!1;return!0}(s,e);default:return vt()}}function Ql(s,e){return(s.values||[]).find(i=>ni(i,e))!==void 0}function pr(s,e){if(s===e)return 0;const i=wa(s),r=wa(e);if(i!==r)return Mt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=le(h.integerValue||h.doubleValue),v=le(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(s,e);case 3:return iy(s.timestampValue,e.timestampValue);case 4:return iy(Hl(s),Hl(e));case 5:return Mt(s.stringValue,e.stringValue);case 6:return function(h,d){const g=Ra(h),v=Ra(d);return g.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const R=Mt(g[_],v[_]);if(R!==0)return R}return Mt(g.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Mt(le(h.latitude),le(d.latitude));return g!==0?g:Mt(le(h.longitude),le(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return ay(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,v,_,R;const U=h.fields||{},j=d.fields||{},G=(g=U[Vf])===null||g===void 0?void 0:g.arrayValue,J=(v=j[Vf])===null||v===void 0?void 0:v.arrayValue,rt=Mt(((_=G==null?void 0:G.values)===null||_===void 0?void 0:_.length)||0,((R=J==null?void 0:J.values)===null||R===void 0?void 0:R.length)||0);return rt!==0?rt:ay(G,J)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Tu.mapValue&&d===Tu.mapValue)return 0;if(h===Tu.mapValue)return 1;if(d===Tu.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},R=Object.keys(_);v.sort(),R.sort();for(let U=0;U<v.length&&U<R.length;++U){const j=Mt(v[U],R[U]);if(j!==0)return j;const G=pr(g[v[U]],_[R[U]]);if(G!==0)return G}return Mt(v.length,R.length)}(s.mapValue,e.mapValue);default:throw vt()}}function iy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Mt(s,e);const i=ba(s),r=ba(e),u=Mt(i.seconds,r.seconds);return u!==0?u:Mt(i.nanos,r.nanos)}function ay(s,e){const i=s.values||[],r=e.values||[];for(let u=0;u<i.length&&u<r.length;++u){const h=pr(i[u],r[u]);if(h)return h}return Mt(i.length,r.length)}function yr(s){return Of(s)}function Of(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const r=ba(i);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Ra(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return dt.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let r="[",u=!0;for(const h of i.values||[])u?u=!1:r+=",",r+=Of(h);return r+"]"}(s.arrayValue):"mapValue"in s?function(i){const r=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of r)h?h=!1:u+=",",u+=`${d}:${Of(i.fields[d])}`;return u+"}"}(s.mapValue):vt()}function wu(s){switch(wa(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fu(s);return e?16+wu(e):16;case 5:return 2*s.stringValue.length;case 6:return Ra(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((u,h)=>u+wu(h),0)}(s.arrayValue);case 10:case 11:return function(r){let u=0;return Kl(r.fields,(h,d)=>{u+=h.length+wu(d)}),u}(s.mapValue);default:throw vt()}}function Nf(s){return!!s&&"integerValue"in s}function td(s){return!!s&&"arrayValue"in s}function sy(s){return!!s&&"nullValue"in s}function ry(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ff(s){return!!s&&"mapValue"in s}function RA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[AA])===null||i===void 0?void 0:i.stringValue)===bA}function Ul(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Kl(s.mapValue.fields,(i,r)=>e.mapValue.fields[i]=Ul(r)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ul(s.arrayValue.values[i]);return e}return Object.assign({},s)}function wA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===SA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!ff(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(i)}setAll(e){let i=Ze.emptyPath(),r={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,r,u),r={},u=[],i=g.popLast()}d?r[g.lastSegment()]=Ul(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,r,u)}delete(e){const i=this.field(e.popLast());ff(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let u=i.mapValue.fields[e.get(r)];ff(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,r){Kl(i,(u,h)=>e[u]=h);for(const u of r)delete e[u]}clone(){return new Wn(Ul(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,i,r,u,h,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new He(e,0,pt.min(),pt.min(),pt.min(),Wn.empty(),0)}static newFoundDocument(e,i,r,u){return new He(e,1,i,pt.min(),r,u,0)}static newNoDocument(e,i){return new He(e,2,i,pt.min(),pt.min(),Wn.empty(),0)}static newUnknownDocument(e,i){return new He(e,3,i,pt.min(),pt.min(),Wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof He&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new He(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,i){this.position=e,this.inclusive=i}}function ly(s,e,i){let r=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?r=dt.comparator(dt.fromName(d.referenceValue),i.key):r=pr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function oy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ni(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,i="asc"){this.field=e,this.dir=i}}function CA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{}class Ae extends Av{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new IA(e,i,r):i==="array-contains"?new NA(e,r):i==="in"?new MA(e,r):i==="not-in"?new xA(e,r):i==="array-contains-any"?new UA(e,r):new Ae(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new VA(e,r):new OA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(pr(i,this.value)):i!==null&&wa(this.value)===wa(i)&&this.matchesComparison(pr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends Av{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ii(e,i)}matches(e){return Sv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Sv(s){return s.op==="and"}function bv(s){return DA(s)&&Sv(s)}function DA(s){for(const e of s.filters)if(e instanceof ii)return!1;return!0}function Mf(s){if(s instanceof Ae)return s.field.canonicalString()+s.op.toString()+yr(s.value);if(bv(s))return s.filters.map(e=>Mf(e)).join(",");{const e=s.filters.map(i=>Mf(i)).join(",");return`${s.op}(${e})`}}function Rv(s,e){return s instanceof Ae?function(r,u){return u instanceof Ae&&r.op===u.op&&r.field.isEqual(u.field)&&ni(r.value,u.value)}(s,e):s instanceof ii?function(r,u){return u instanceof ii&&r.op===u.op&&r.filters.length===u.filters.length?r.filters.reduce((h,d,g)=>h&&Rv(d,u.filters[g]),!0):!1}(s,e):void vt()}function wv(s){return s instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${yr(i.value)}`}(s):s instanceof ii?function(i){return i.op.toString()+" {"+i.getFilters().map(wv).join(" ,")+"}"}(s):"Filter"}class IA extends Ae{constructor(e,i,r){super(e,i,r),this.key=dt.fromName(r.referenceValue)}matches(e){const i=dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class VA extends Ae{constructor(e,i){super(e,"in",i),this.keys=Cv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class OA extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=Cv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Cv(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>dt.fromName(r.referenceValue))}class NA extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return td(i)&&Ql(i.arrayValue,this.value)}}class MA extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ql(this.value.arrayValue,i)}}class xA extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Ql(this.value.arrayValue,i)}}class UA extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!td(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>Ql(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,i=null,r=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function uy(s,e=null,i=[],r=[],u=null,h=null,d=null){return new LA(s,e,i,r,u,h,d)}function ed(s){const e=xt(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(r=>Mf(r)).join(","),i+="|ob:",i+=e.orderBy.map(r=>function(h){return h.field.canonicalString()+h.dir}(r)).join(","),Qu(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>yr(r)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>yr(r)).join(",")),e.le=i}return e.le}function nd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!CA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Rv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!oy(s.startAt,e.startAt)&&oy(s.endAt,e.endAt)}function xf(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,i=null,r=[],u=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function zA(s,e,i,r,u,h,d,g){return new Ku(s,e,i,r,u,h,d,g)}function Dv(s){return new Ku(s)}function cy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function BA(s){return s.collectionGroup!==null}function Ll(s){const e=xt(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Se(Ze.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new xu(h,r))}),i.has(Ze.keyField().canonicalString())||e.he.push(new xu(Ze.keyField(),r))}return e.he}function ei(s){const e=xt(s);return e.Pe||(e.Pe=kA(e,Ll(s))),e.Pe}function kA(s,e){if(s.limitType==="F")return uy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new xu(u.field,h)});const i=s.endAt?new Mu(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Mu(s.startAt.position,s.startAt.inclusive):null;return uy(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Uf(s,e,i){return new Ku(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Yu(s,e){return nd(ei(s),ei(e))&&s.limitType===e.limitType}function Iv(s){return`${ed(ei(s))}|lt:${s.limitType}`}function or(s){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(u=>wv(u)).join(", ")}]`),Qu(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(u=>yr(u)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(u=>yr(u)).join(",")),`Target(${r})`}(ei(s))}; limitType=${s.limitType})`}function Xu(s,e){return e.isFoundDocument()&&function(r,u){const h=u.key.path;return r.collectionGroup!==null?u.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):dt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)}(s,e)&&function(r,u){for(const h of Ll(r))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(r,u){for(const h of r.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(r,u){return!(r.startAt&&!function(d,g,v){const _=ly(d,g,v);return d.inclusive?_<=0:_<0}(r.startAt,Ll(r),u)||r.endAt&&!function(d,g,v){const _=ly(d,g,v);return d.inclusive?_>=0:_>0}(r.endAt,Ll(r),u))}(s,e)}function jA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Vv(s){return(e,i)=>{let r=!1;for(const u of Ll(s)){const h=qA(u,e,i);if(h!==0)return h;r=r||u.field.isKeyField()}return 0}}function qA(s,e,i){const r=s.field.isKeyField()?dt.comparator(e.key,i.key):function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?pr(v,_):vt()}(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return vt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[u,h]of r)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),u=this.inner[r];if(u===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],e))return r.length===1?delete this.inner[i]:r.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Kl(this.inner,(i,r)=>{for(const[u,h]of r)e(u,h)})}isEmpty(){return _A(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new oe(dt.comparator);function Ca(){return PA}const Ov=new oe(dt.comparator);function Ml(...s){let e=Ov;for(const i of s)e=e.insert(i.key,i);return e}function HA(s){let e=Ov;return s.forEach((i,r)=>e=e.insert(i,r.overlayedDocument)),e}function us(){return zl()}function Nv(){return zl()}function zl(){return new ps(s=>s.toString(),(s,e)=>s.isEqual(e))}const GA=new Se(dt.comparator);function Ut(...s){let e=GA;for(const i of s)e=e.add(i);return e}const QA=new Se(Mt);function FA(){return QA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:If(e)?"-0":e}}function YA(s){return{integerValue:""+s}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(){this._=void 0}}function XA(s,e,i){return s instanceof Lf?function(u,h){const d={fields:{[_v]:{stringValue:vv},[Tv]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Wf(h)&&(h=Fu(h)),h&&(d.fields[Ev]=h),{mapValue:d}}(i,e):s instanceof Uu?Mv(s,e):s instanceof Lu?xv(s,e):function(u,h){const d=$A(u,h),g=hy(d)+hy(u.Ie);return Nf(d)&&Nf(u.Ie)?YA(g):KA(u.serializer,g)}(s,e)}function ZA(s,e,i){return s instanceof Uu?Mv(s,e):s instanceof Lu?xv(s,e):i}function $A(s,e){return s instanceof zf?function(r){return Nf(r)||function(h){return!!h&&"doubleValue"in h}(r)}(e)?e:{integerValue:0}:null}class Lf extends Zu{}class Uu extends Zu{constructor(e){super(),this.elements=e}}function Mv(s,e){const i=Uv(e);for(const r of s.elements)i.some(u=>ni(u,r))||i.push(r);return{arrayValue:{values:i}}}class Lu extends Zu{constructor(e){super(),this.elements=e}}function xv(s,e){let i=Uv(e);for(const r of s.elements)i=i.filter(u=>!ni(u,r));return{arrayValue:{values:i}}}class zf extends Zu{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function hy(s){return le(s.integerValue||s.doubleValue)}function Uv(s){return td(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function JA(s,e){return s.field.isEqual(e.field)&&function(r,u){return r instanceof Uu&&u instanceof Uu||r instanceof Lu&&u instanceof Lu?gr(r.elements,u.elements,ni):r instanceof zf&&u instanceof zf?ni(r.Ie,u.Ie):r instanceof Lf&&u instanceof Lf}(s.transform,e.transform)}class fs{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new fs}static exists(e){return new fs(void 0,e)}static updateTime(e){return new fs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class id{}function Lv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new tS(s.key,fs.none()):new ad(s.key,s.data,fs.none());{const i=s.data,r=Wn.empty();let u=new Se(Ze.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),u=u.add(h)}return new $u(s.key,r,new ya(u.toArray()),fs.none())}}function WA(s,e,i){s instanceof ad?function(u,h,d){const g=u.value.clone(),v=dy(u.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof $u?function(u,h,d){if(!Cu(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=dy(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(zv(u)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Bl(s,e,i,r){return s instanceof ad?function(h,d,g,v){if(!Cu(h.precondition,d))return g;const _=h.value.clone(),R=my(h.fieldTransforms,v,d);return _.setAll(R),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,e,i,r):s instanceof $u?function(h,d,g,v){if(!Cu(h.precondition,d))return g;const _=my(h.fieldTransforms,v,d),R=d.data;return R.setAll(zv(h)),R.setAll(_),d.convertToFoundDocument(d.version,R).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(U=>U.field))}(s,e,i,r):function(h,d,g){return Cu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function fy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(r,u){return r===void 0&&u===void 0||!(!r||!u)&&gr(r,u,(h,d)=>JA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ad extends id{constructor(e,i,r,u=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class $u extends id{constructor(e,i,r,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function zv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}}),e}function dy(s,e,i){const r=new Map;Jt(s.length===i.length);for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,g=e.data.field(h.field);r.set(h.field,ZA(d,g,i[u]))}return r}function my(s,e,i){const r=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);r.set(u.field,XA(h,d,e))}return r}class tS extends id{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,i,r,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=u}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&WA(h,e,r[u])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Bl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Bl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Nv();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const v=Lv(d,g);v!==null&&r.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(pt.min())}),r}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ut())}isEqual(e){return this.batchId===e.batchId&&gr(this.mutations,e.mutations,(i,r)=>fy(i,r))&&gr(this.baseMutations,e.baseMutations,(i,r)=>fy(i,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me,Ot;function Bv(s){if(s===void 0)return Mi("GRPC error has no .code"),Z.UNKNOWN;switch(s){case me.OK:return Z.OK;case me.CANCELLED:return Z.CANCELLED;case me.UNKNOWN:return Z.UNKNOWN;case me.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case me.INTERNAL:return Z.INTERNAL;case me.UNAVAILABLE:return Z.UNAVAILABLE;case me.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case me.NOT_FOUND:return Z.NOT_FOUND;case me.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case me.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case me.ABORTED:return Z.ABORTED;case me.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case me.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case me.DATA_LOSS:return Z.DATA_LOSS;default:return vt()}}(Ot=me||(me={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=new Ta([4294967295,4294967295],0);function gy(s){const e=aS().encode(s),i=new uv;return i.update(e),new Uint8Array(i.digest())}function py(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ta([i,r],0),new Ta([u,h],0)]}class sd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(r<0)throw new xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Ta.fromNumber(this.Ee)}Ae(e,i,r){let u=e.add(i.multiply(Ta.fromNumber(r)));return u.compare(sS)===1&&(u=new Ta([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=gy(e),[r,u]=py(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(r,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,r){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new sd(h,u,i);return r.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=gy(e),[r,u]=py(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(r,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,i,r,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const u=new Map;return u.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Ju(pt.min(),u,new oe(Mt),Ca(),Ut())}}class Yl{constructor(e,i,r,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Yl(r,i,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,i,r,u){this.me=e,this.removedTargetIds=i,this.key=r,this.fe=u}}class kv{constructor(e,i){this.targetId=e,this.ge=i}}class jv{constructor(e,i,r=ze.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=u}}class yy{constructor(){this.pe=0,this.ye=vy(),this.we=ze.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ut(),i=Ut(),r=Ut();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:r=r.add(u);break;default:vt()}}),new Yl(this.we,this.be,e,i,r)}Me(){this.Se=!1,this.ye=vy()}xe(e,i){this.Se=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Jt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class rS{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ca(),this.$e=Au(),this.Ke=Au(),this.Ue=new oe(Mt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const r=this.He(i);switch(e.state){case 0:this.Je(i)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(i);break;case 3:this.Je(i)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),r.Ce(e.resumeToken));break;default:vt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((r,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,r=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(xf(h))if(r===0){const d=new dt(h.path);this.ze(i,d,He.newNoDocument(d,pt.min()))}else Jt(r===1);else{const d=this.et(i);if(d!==r){const g=this.tt(e),v=g?this.nt(g,e,d):1;if(v!==0){this.Ye(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,_)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=Ra(r).toUint8Array()}catch(v){if(v instanceof yv)return mr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new sd(d,u,h)}catch(v){return mr(v instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.Ee===0?null:g}nt(e,i,r){return i.ge.count===r-this.st(e,i.targetId)?0:2}st(e,i){const r=this.ke.getRemoteKeysForTarget(i);let u=0;return r.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&xf(g.target)){const v=new dt(g.target.path);this._t(v).has(d)||this.ut(d,v)||this.ze(d,v,He.newNoDocument(v,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let r=Ut();this.Ke.forEach((h,d)=>{let g=!0;d.forEachWhile(v=>{const _=this.Xe(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(r=r.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new Ju(e,i,this.Ue,this.Qe,r);return this.Qe=Ca(),this.$e=Au(),this.Ke=Au(),this.Ue=new oe(Mt),u}Ge(e,i){if(!this.Je(e))return;const r=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,r),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,r){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),r&&(this.Qe=this.Qe.insert(i,r))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new yy,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new Se(Mt),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Se(Mt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new yy),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Au(){return new oe(dt.comparator)}function vy(){return new oe(dt.comparator)}const lS={asc:"ASCENDING",desc:"DESCENDING"},oS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uS={and:"AND",or:"OR"};class cS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Bf(s,e){return s.useProto3Json||Qu(e)?e:{value:e}}function hS(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fS(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function hr(s){return Jt(!!s),pt.fromTimestamp(function(i){const r=ba(i);return new en(r.seconds,r.nanos)}(s))}function dS(s,e){return kf(s,e).canonicalString()}function kf(s,e){const i=function(u){return new ae(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function qv(s){const e=ae.fromString(s);return Jt(Fv(e)),e}function df(s,e){const i=qv(e);if(i.get(1)!==s.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(Hv(i))}function Pv(s,e){return dS(s.databaseId,e)}function mS(s){const e=qv(s);return e.length===4?ae.emptyPath():Hv(e)}function _y(s){return new ae(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Hv(s){return Jt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function gS(s,e){let i;if("targetChange"in e){e.targetChange;const r=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(_,R){return _.useProto3Json?(Jt(R===void 0||typeof R=="string"),ze.fromBase64String(R||"")):(Jt(R===void 0||R instanceof Buffer||R instanceof Uint8Array),ze.fromUint8Array(R||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const R=_.code===void 0?Z.UNKNOWN:Bv(_.code);return new ut(R,_.message||"")}(d);i=new jv(r,u,h,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const u=df(s,r.document.name),h=hr(r.document.updateTime),d=r.document.createTime?hr(r.document.createTime):pt.min(),g=new Wn({mapValue:{fields:r.document.fields}}),v=He.newFoundDocument(u,h,d,g),_=r.targetIds||[],R=r.removedTargetIds||[];i=new Du(_,R,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const u=df(s,r.document),h=r.readTime?hr(r.readTime):pt.min(),d=He.newNoDocument(u,h),g=r.removedTargetIds||[];i=new Du([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const u=df(s,r.document),h=r.removedTargetIds||[];i=new Du([],h,u,null)}else{if(!("filter"in e))return vt();{e.filter;const r=e.filter;r.targetId;const{count:u=0,unchangedNames:h}=r,d=new iS(u,h),g=r.targetId;i=new kv(g,d)}}return i}function pS(s,e){return{documents:[Pv(s,e.path)]}}function yS(s,e){const i={structuredQuery:{}},r=e.path;let u;e.collectionGroup!==null?(u=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Pv(s,u);const h=function(_){if(_.length!==0)return Qv(ii.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(R=>function(j){return{field:ur(j.field),direction:ES(j.dir)}}(R))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Bf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:i,parent:u}}function vS(s){let e=mS(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let u=null;if(r>0){Jt(r===1);const R=i.from[0];R.allDescendants?u=R.collectionId:e=e.child(R.collectionId)}let h=[];i.where&&(h=function(U){const j=Gv(U);return j instanceof ii&&bv(j)?j.getFilters():[j]}(i.where));let d=[];i.orderBy&&(d=function(U){return U.map(j=>function(J){return new xu(cr(J.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(j))}(i.orderBy));let g=null;i.limit&&(g=function(U){let j;return j=typeof U=="object"?U.value:U,Qu(j)?null:j}(i.limit));let v=null;i.startAt&&(v=function(U){const j=!!U.before,G=U.values||[];return new Mu(G,j)}(i.startAt));let _=null;return i.endAt&&(_=function(U){const j=!U.before,G=U.values||[];return new Mu(G,j)}(i.endAt)),zA(e,u,d,h,g,"F",v,_)}function _S(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Gv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=cr(i.unaryFilter.field);return Ae.create(r,"==",{doubleValue:NaN});case"IS_NULL":const u=cr(i.unaryFilter.field);return Ae.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=cr(i.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=cr(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}(s):s.fieldFilter!==void 0?function(i){return Ae.create(cr(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ii.create(i.compositeFilter.filters.map(r=>Gv(r)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return vt()}}(i.compositeFilter.op))}(s):vt()}function ES(s){return lS[s]}function TS(s){return oS[s]}function AS(s){return uS[s]}function ur(s){return{fieldPath:s.canonicalString()}}function cr(s){return Ze.fromServerFormat(s.fieldPath)}function Qv(s){return s instanceof Ae?function(i){if(i.op==="=="){if(ry(i.value))return{unaryFilter:{field:ur(i.field),op:"IS_NAN"}};if(sy(i.value))return{unaryFilter:{field:ur(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ry(i.value))return{unaryFilter:{field:ur(i.field),op:"IS_NOT_NAN"}};if(sy(i.value))return{unaryFilter:{field:ur(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ur(i.field),op:TS(i.op),value:i.value}}}(s):s instanceof ii?function(i){const r=i.getFilters().map(u=>Qv(u));return r.length===1?r[0]:{compositeFilter:{op:AS(i.op),filters:r}}}(s):vt()}function Fv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,i,r,u,h=pt.min(),d=pt.min(),g=ze.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.Tt=e}}function bS(s){const e=vS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Uf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.Tn=new wS}addToCollectionParentIndex(e,i){return this.Tn.add(i),Q.resolve()}getCollectionParents(e,i){return Q.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Q.resolve()}deleteFieldIndex(e,i){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,i){return Q.resolve()}getDocumentsMatchingTarget(e,i){return Q.resolve(null)}getIndexType(e,i){return Q.resolve(0)}getFieldIndexes(e,i){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,i){return Q.resolve(Sa.min())}getMinOffsetFromCollectionGroup(e,i){return Q.resolve(Sa.min())}updateCollectionGroup(e,i,r){return Q.resolve()}updateIndexEntries(e,i){return Q.resolve()}}class wS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i]||new Se(ae.comparator),h=!u.has(r);return this.index[i]=u.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i];return u&&u.has(r)}getEntries(e){return(this.index[e]||new Se(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kv=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(Kv,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new vr(0)}static Un(){return new vr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="LruGarbageCollector",CS=1048576;function Ay([s,e],[i,r]){const u=Mt(s,i);return u===0?Mt(e,r):u}class DS{constructor(e){this.Hn=e,this.buffer=new Se(Ay),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Ay(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class IS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){nt(Ty,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ar(i)?nt(Ty,"Ignoring IndexedDB error during garbage collection: ",i):await Hu(i)}await this.er(3e5)})}}class VS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(r=>Math.floor(i/100*r))}nthSequenceNumber(e,i){if(i===0)return Q.resolve(Gu.ae);const r=new DS(i);return this.tr.forEachTarget(e,u=>r.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>r.Zn(u))).next(()=>r.maxValue)}removeTargets(e,i,r){return this.tr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Ey)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ey):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let r,u,h,d,g,v,_;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(U=>(U>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${U}`),u=this.params.maximumSequenceNumbersToCollect):u=U,d=Date.now(),this.nthSequenceNumber(e,u))).next(U=>(r=U,g=Date.now(),this.removeTargets(e,r,i))).next(U=>(h=U,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(U=>(_=Date.now(),lr()<=Nt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-R}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${U} documents in `+(_-v)+`ms
Total Duration: ${_-R}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:U})))}}function OS(s,e){return new VS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.changes=new ps(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,He.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Q.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,i,r,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=u}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(r=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(r!==null&&Bl(r.mutation,u,ya.empty(),en.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.getLocalViewOfDocuments(e,r,Ut()).next(()=>r))}getLocalViewOfDocuments(e,i,r=Ut()){const u=us();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,r).next(h=>{let d=Ml();return h.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const r=us();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,Ut()))}populateOverlays(e,i,r){const u=[];return r.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,r,u){let h=Ca();const d=zl(),g=function(){return zl()}();return i.forEach((v,_)=>{const R=r.get(_.key);u.has(_.key)&&(R===void 0||R.mutation instanceof $u)?h=h.insert(_.key,_):R!==void 0?(d.set(_.key,R.mutation.getFieldMask()),Bl(R.mutation,_,R.mutation.getFieldMask(),en.now())):d.set(_.key,ya.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,R)=>d.set(_,R)),i.forEach((_,R)=>{var U;return g.set(_,new MS(R,(U=d.get(_))!==null&&U!==void 0?U:null))}),g))}recalculateAndSaveOverlays(e,i){const r=zl();let u=new oe((d,g)=>d-g),h=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let R=r.get(v)||ya.empty();R=g.applyToLocalView(_,R),r.set(v,R);const U=(u.get(g.batchId)||Ut()).add(v);u=u.insert(g.batchId,U)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,R=v.value,U=Nv();R.forEach(j=>{if(!h.has(j)){const G=Lv(i.get(j),r.get(j));G!==null&&U.set(j,G),h=h.add(j)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,U))}return Q.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,i,r,u){return function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):BA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,u):this.getDocumentsMatchingCollectionQuery(e,i,r,u)}getNextDocuments(e,i,r,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,u-h.size):Q.resolve(us());let g=Pl,v=h;return d.next(_=>Q.forEach(_,(R,U)=>(g<U.largestBatchId&&(g=U.largestBatchId),h.get(R)?Q.resolve():this.remoteDocumentCache.getEntry(e,R).next(j=>{v=v.insert(R,j)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Ut())).next(R=>({batchId:g,changes:HA(R)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new dt(i)).next(r=>{let u=Ml();return r.isFoundDocument()&&(u=u.insert(r.key,r)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,r,u){const h=i.collectionGroup;let d=Ml();return this.indexManager.getCollectionParents(e,h).next(g=>Q.forEach(g,v=>{const _=function(U,j){return new Ku(j,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,u).next(R=>{R.forEach((U,j)=>{d=d.insert(U,j)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,r,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,u))).next(d=>{h.forEach((v,_)=>{const R=_.getKey();d.get(R)===null&&(d=d.insert(R,He.newInvalidDocument(R)))});let g=Ml();return d.forEach((v,_)=>{const R=h.get(v);R!==void 0&&Bl(R.mutation,_,ya.empty(),en.now()),Xu(i,_)&&(g=g.insert(v,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Q.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:hr(u.createTime)}}(i)),Q.resolve()}getNamedQuery(e,i){return Q.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:bS(u.bundledQuery),readTime:hr(u.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.overlays=new oe(dt.comparator),this.Rr=new Map}getOverlay(e,i){return Q.resolve(this.overlays.get(i))}getOverlays(e,i){const r=us();return Q.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&r.set(u,h)})).next(()=>r)}saveOverlays(e,i,r){return r.forEach((u,h)=>{this.Et(e,i,h)}),Q.resolve()}removeOverlaysForBatchId(e,i,r){const u=this.Rr.get(r);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(r)),Q.resolve()}getOverlaysForCollection(e,i,r){const u=us(),h=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&u.set(v.getKey(),v)}return Q.resolve(u)}getOverlaysForCollectionGroup(e,i,r,u){let h=new oe((_,R)=>_-R);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let R=h.get(_.largestBatchId);R===null&&(R=us(),h=h.insert(_.largestBatchId,R)),R.set(_.getKey(),_)}}const g=us(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,R)=>g.set(_,R)),!(g.size()>=u)););return Q.resolve(g)}Et(e,i,r){const u=this.overlays.get(r.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(r.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new nS(i,r));let h=this.Rr.get(i);h===void 0&&(h=Ut(),this.Rr.set(i,h)),this.Rr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.sessionToken=ze.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this.Vr=new Se(Oe.mr),this.gr=new Se(Oe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const r=new Oe(e,i);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,i){e.forEach(r=>this.addReference(r,i))}removeReference(e,i){this.wr(new Oe(e,i))}br(e,i){e.forEach(r=>this.removeReference(r,i))}Sr(e){const i=new dt(new ae([])),r=new Oe(i,e),u=new Oe(i,e+1),h=[];return this.gr.forEachInRange([r,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new dt(new ae([])),r=new Oe(i,e),u=new Oe(i,e+1);let h=Ut();return this.gr.forEachInRange([r,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),r=this.Vr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Oe{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return dt.comparator(e.key,i.key)||Mt(e.Cr,i.Cr)}static pr(e,i){return Mt(e.Cr,i.Cr)||dt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Se(Oe.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new eS(h,i,r,u);this.mutationQueue.push(d);for(const g of u)this.Mr=this.Mr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(e,i){return Q.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,u=this.Nr(r),h=u<0?0:u;return Q.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?pA:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Oe(i,0),u=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([r,u],d=>{const g=this.Or(d.Cr);h.push(g)}),Q.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Se(Mt);return i.forEach(u=>{const h=new Oe(u,0),d=new Oe(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{r=r.add(g.Cr)})}),Q.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,u=r.length+1;let h=r;dt.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new dt(h),0);let g=new Se(Mt);return this.Mr.forEachWhile(v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===u&&(g=g.add(v.Cr)),!0)},d),Q.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(r=>{const u=this.Or(r);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){Jt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Q.forEach(i.mutations,u=>{const h=new Oe(u.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,i){const r=new Oe(i,0),u=this.Mr.firstAfterOrEqual(r);return Q.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.kr=e,this.docs=function(){return new oe(dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,u=this.docs.get(r),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Q.resolve(r?r.document.mutableCopy():He.newInvalidDocument(i))}getEntries(e,i){let r=Ca();return i.forEach(u=>{const h=this.docs.get(u);r=r.insert(u,h?h.document.mutableCopy():He.newInvalidDocument(u))}),Q.resolve(r)}getDocumentsMatchingQuery(e,i,r,u){let h=Ca();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:R}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||fA(hA(R),r)<=0||(u.has(R.key)||Xu(i,R))&&(h=h.insert(R.key,R.mutableCopy()))}return Q.resolve(h)}getAllFromCollectionGroup(e,i,r,u){vt()}qr(e,i){return Q.forEach(this.docs,r=>i(r))}newChangeBuffer(e){return new jS(this)}getSize(e){return Q.resolve(this.size)}}class jS extends NS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((r,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(r)}),Q.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.persistence=e,this.Qr=new ps(i=>ed(i),nd),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new rd,this.targetCount=0,this.Ur=vr.Kn()}forEachTarget(e,i){return this.Qr.forEach((r,u)=>i(u)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.$r&&(this.$r=i),Q.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new vr(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Q.resolve()}updateTargetData(e,i){return this.zn(i),Q.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.Sr(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,i,r){let u=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),Q.waitFor(h).next(()=>u)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,i){const r=this.Qr.get(i)||null;return Q.resolve(r)}addMatchingKeys(e,i,r){return this.Kr.yr(i,r),Q.resolve()}removeMatchingKeys(e,i,r){this.Kr.br(i,r);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Q.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Kr.Sr(i),Q.resolve()}getMatchingKeysForTargetId(e,i){const r=this.Kr.vr(i);return Q.resolve(r)}containsKey(e,i){return Q.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Gu(0),this.zr=!1,this.zr=!0,this.jr=new zS,this.referenceDelegate=e(this),this.Hr=new qS(this),this.indexManager=new RS,this.remoteDocumentCache=function(u){return new kS(u)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new SS(i),this.Yr=new US(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new LS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.Wr[e.toKey()];return r||(r=new BS(i,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,r){nt("MemoryPersistence","Starting transaction:",e);const u=new PS(this.Gr.next());return this.referenceDelegate.Zr(),r(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return Q.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,i)))}}class PS extends mA{constructor(e){super(),this.currentSequenceNumber=e}}class ld{constructor(e){this.persistence=e,this.ti=new rd,this.ni=null}static ri(e){return new ld(e)}get ii(){if(this.ni)return this.ni;throw vt()}addReference(e,i,r){return this.ti.addReference(r,i),this.ii.delete(r.toString()),Q.resolve()}removeReference(e,i,r){return this.ti.removeReference(r,i),this.ii.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Q.resolve()}removeTarget(e,i){this.ti.Sr(i.targetId).forEach(u=>this.ii.add(u.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>r.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,r=>{const u=dt.fromPath(r);return this.si(e,u).next(h=>{h||i.removeEntry(u,pt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(r=>{r?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Q.or([()=>Q.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class zu{constructor(e,i){this.persistence=e,this.oi=new ps(r=>yA(r.path),(r,u)=>r.isEqual(u)),this.garbageCollector=OS(this,i)}static ri(e,i){return new zu(e,i)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>i.next(u=>r+u))}sr(e){let i=0;return this.rr(e,r=>{i++}).next(()=>i)}rr(e,i){return Q.forEach(this.oi,(r,u)=>this.ar(e,r,u).next(h=>h?Q.resolve():i(u)))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(g=>{g||(r++,h.removeEntry(d,pt.min()))})).next(()=>h.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.oi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,i,r){return this.oi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=wu(e.data.value)),i}ar(e,i,r){return Q.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return Q.resolve(u!==void 0&&u>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,i,r,u){this.targetId=e,this.fromCache=i,this.Hi=r,this.Ji=u}static Yi(e,i){let r=Ut(),u=Ut();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new od(e,i.fromCache,r,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return zE()?8:gA(xE())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,r,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,r).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new HS;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,r,u){return r.documentReadCount<this.es?(lr()<=Nt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",or(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(lr()<=Nt.DEBUG&&nt("QueryEngine","Query:",or(i),"scans",r.documentReadCount,"local documents and returns",u,"documents as results."),r.documentReadCount>this.ts*u?(lr()<=Nt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",or(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):Q.resolve())}rs(e,i){if(cy(i))return Q.resolve(null);let r=ei(i);return this.indexManager.getIndexType(e,r).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Uf(i,null,"F"),r=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next(h=>{const d=Ut(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,r).next(v=>{const _=this.cs(i,g);return this.ls(i,_,d,v.readTime)?this.rs(e,Uf(i,null,"F")):this.hs(e,_,i,v)}))})))}ss(e,i,r,u){return cy(i)||u.isEqual(pt.min())?Q.resolve(null):this.ns.getDocuments(e,r).next(h=>{const d=this.cs(i,h);return this.ls(i,d,r,u)?Q.resolve(null):(lr()<=Nt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),or(i)),this.hs(e,d,i,cA(u,Pl)).next(g=>g))})}cs(e,i){let r=new Se(Vv(e));return i.forEach((u,h)=>{Xu(e,h)&&(r=r.add(h))}),r}ls(e,i,r,u){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,r){return lr()<=Nt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",or(i)),this.ns.getDocumentsMatchingQuery(e,i,Sa.min(),r)}hs(e,i,r,u){return this.ns.getDocumentsMatchingQuery(e,r,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="LocalStore",QS=3e8;class FS{constructor(e,i,r,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new oe(Mt),this.Is=new ps(h=>ed(h),nd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function KS(s,e,i,r){return new FS(s,e,i,r)}async function Xv(s,e){const i=xt(s);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let u;return i.mutationQueue.getAllMutationBatches(r).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(r))).next(h=>{const d=[],g=[];let v=Ut();for(const _ of u){d.push(_.batchId);for(const R of _.mutations)v=v.add(R.key)}for(const _ of h){g.push(_.batchId);for(const R of _.mutations)v=v.add(R.key)}return i.localDocuments.getDocuments(r,v).next(_=>({Rs:_,removedBatchIds:d,addedBatchIds:g}))})})}function Zv(s){const e=xt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function YS(s,e){const i=xt(s),r=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const g=[];e.targetChanges.forEach((R,U)=>{const j=u.get(U);if(!j)return;g.push(i.Hr.removeMatchingKeys(h,R.removedDocuments,U).next(()=>i.Hr.addMatchingKeys(h,R.addedDocuments,U)));let G=j.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(U)!==null?G=G.withResumeToken(ze.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):R.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(R.resumeToken,r)),u=u.insert(U,G),function(rt,W,Rt){return rt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=QS?!0:Rt.addedDocuments.size+Rt.modifiedDocuments.size+Rt.removedDocuments.size>0}(j,G,R)&&g.push(i.Hr.updateTargetData(h,G))});let v=Ca(),_=Ut();if(e.documentUpdates.forEach(R=>{e.resolvedLimboDocuments.has(R)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,R))}),g.push(XS(h,d,e.documentUpdates).next(R=>{v=R.Vs,_=R.fs})),!r.isEqual(pt.min())){const R=i.Hr.getLastRemoteSnapshotVersion(h).next(U=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,r));g.push(R)}return Q.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.Ts=u,h))}function XS(s,e,i){let r=Ut(),u=Ut();return i.forEach(h=>r=r.add(h)),e.getEntries(s,r).next(h=>{let d=Ca();return i.forEach((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(g)),v.isNoDocument()&&v.version.isEqual(pt.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):nt(ud,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)}),{Vs:d,fs:u}})}function ZS(s,e){const i=xt(s);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let u;return i.Hr.getTargetData(r,e).next(h=>h?(u=h,Q.resolve(u)):i.Hr.allocateTargetId(r).next(d=>(u=new va(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Hr.addTargetData(r,u).next(()=>u))))}).then(r=>{const u=i.Ts.get(r.targetId);return(u===null||r.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(r.targetId,r),i.Is.set(e,r.targetId)),r})}async function jf(s,e,i){const r=xt(s),u=r.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,d=>r.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Ar(d))throw d;nt(ud,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ts=r.Ts.remove(e),r.Is.delete(u.target)}function Sy(s,e,i){const r=xt(s);let u=pt.min(),h=Ut();return r.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,R){const U=xt(v),j=U.Is.get(R);return j!==void 0?Q.resolve(U.Ts.get(j)):U.Hr.getTargetData(_,R)}(r,d,ei(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(d,g.targetId).next(v=>{h=v})}).next(()=>r.Ps.getDocumentsMatchingQuery(d,e,i?u:pt.min(),i?h:Ut())).next(g=>($S(r,jA(e),g),{documents:g,gs:h})))}function $S(s,e,i){let r=s.Es.get(e)||pt.min();i.forEach((u,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)}),s.Es.set(e,r)}class by{constructor(){this.activeTargetIds=FA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JS{constructor(){this.ho=new by,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,r){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new by,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="ConnectivityMonitor";class wy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(Ry,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){nt(Ry,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su=null;function qf(){return Su===null?Su=function(){return 268435456+Math.round(2147483648*Math.random())}():Su++,"0x"+Su.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="RestConnection",t1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class e1{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${r}/databases/${u}`,this.wo=this.databaseId.database===Nu?`project_id=${r}`:`project_id=${r}&database_id=${u}`}bo(e,i,r,u,h){const d=qf(),g=this.So(e,i.toUriEncodedString());nt(mf,`Sending RPC '${e}' ${d}:`,g,r);const v={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(v,u,h),this.vo(e,g,v,r).then(_=>(nt(mf,`Received RPC '${e}' ${d}: `,_),_),_=>{throw mr(mf,`RPC '${e}' ${d} failed with error: `,_,"url: ",g,"request:",r),_})}Co(e,i,r,u,h,d){return this.bo(e,i,r,u,h)}Do(e,i,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),r&&r.headers.forEach((u,h)=>e[h]=u)}So(e,i){const r=t1[e];return`${this.po}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qe="WebChannelConnection";class i1 extends e1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,r,u){const h=qf();return new Promise((d,g)=>{const v=new cv;v.setWithCredentials(!0),v.listenOnce(hv.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Ru.NO_ERROR:const R=v.getResponseJson();nt(qe,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(R)),d(R);break;case Ru.TIMEOUT:nt(qe,`RPC '${e}' ${h} timed out`),g(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Ru.HTTP_ERROR:const U=v.getStatus();if(nt(qe,`RPC '${e}' ${h} failed with status:`,U,"response text:",v.getResponseText()),U>0){let j=v.getResponseJson();Array.isArray(j)&&(j=j[0]);const G=j==null?void 0:j.error;if(G&&G.status&&G.message){const J=function(W){const Rt=W.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Rt)>=0?Rt:Z.UNKNOWN}(G.status);g(new ut(J,G.message))}else g(new ut(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{nt(qe,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(u);nt(qe,`RPC '${e}' ${h} sending request:`,u),v.send(i,"POST",_,r,15)})}Wo(e,i,r){const u=qf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=mv(),g=dv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Do(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const R=h.join("");nt(qe,`Creating RPC '${e}' stream ${u}: ${R}`,v);const U=d.createWebChannel(R,v);let j=!1,G=!1;const J=new n1({Fo:W=>{G?nt(qe,`Not sending because RPC '${e}' stream ${u} is closed:`,W):(j||(nt(qe,`Opening RPC '${e}' stream ${u} transport.`),U.open(),j=!0),nt(qe,`RPC '${e}' stream ${u} sending:`,W),U.send(W))},Mo:()=>U.close()}),rt=(W,Rt,mt)=>{W.listen(Rt,ht=>{try{mt(ht)}catch(Ht){setTimeout(()=>{throw Ht},0)}})};return rt(U,Nl.EventType.OPEN,()=>{G||(nt(qe,`RPC '${e}' stream ${u} transport opened.`),J.Qo())}),rt(U,Nl.EventType.CLOSE,()=>{G||(G=!0,nt(qe,`RPC '${e}' stream ${u} transport closed`),J.Ko())}),rt(U,Nl.EventType.ERROR,W=>{G||(G=!0,mr(qe,`RPC '${e}' stream ${u} transport errored:`,W),J.Ko(new ut(Z.UNAVAILABLE,"The operation could not be completed")))}),rt(U,Nl.EventType.MESSAGE,W=>{var Rt;if(!G){const mt=W.data[0];Jt(!!mt);const ht=mt,Ht=(ht==null?void 0:ht.error)||((Rt=ht[0])===null||Rt===void 0?void 0:Rt.error);if(Ht){nt(qe,`RPC '${e}' stream ${u} received error:`,Ht);const yt=Ht.status;let Ct=function(A){const C=me[A];if(C!==void 0)return Bv(C)}(yt),M=Ht.message;Ct===void 0&&(Ct=Z.INTERNAL,M="Unknown error status: "+yt+" with message "+Ht.message),G=!0,J.Ko(new ut(Ct,M)),U.close()}else nt(qe,`RPC '${e}' stream ${u} received:`,mt),J.Uo(mt)}}),rt(g,fv.STAT_EVENT,W=>{W.stat===Df.PROXY?nt(qe,`RPC '${e}' stream ${u} detected buffering proxy`):W.stat===Df.NOPROXY&&nt(qe,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{J.$o()},0),J}}function gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(s){return new cS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,i,r=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=r,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-r);u>0&&nt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="PersistentStream";class a1{constructor(e,i,r,u,h,d,g,v){this.Ti=e,this.n_=r,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Jv(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,u])=>{this.i_===i&&this.V_(r,u)},r=>{e(()=>{const u=new ut(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(u)})})}V_(e,i){const r=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{r(()=>this.m_(u))}),this.stream.onMessage(u=>{r(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return nt(Cy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(nt(Cy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class s1 extends a1{constructor(e,i,r,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=gS(this.serializer,e),r=function(h){if(!("targetChange"in h))return pt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?hr(d.readTime):pt.min()}(e);return this.listener.p_(i,r)}y_(e){const i={};i.database=_y(this.serializer),i.addTarget=function(h,d){let g;const v=d.target;if(g=xf(v)?{documents:pS(h,v)}:{query:yS(h,v).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=fS(h,d.resumeToken);const _=Bf(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(pt.min())>0){g.readTime=hS(h,d.snapshotVersion.toTimestamp());const _=Bf(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const r=_S(this.serializer,e);r&&(i.labels=r),this.I_(i)}w_(e){const i={};i.database=_y(this.serializer),i.removeTarget=e,this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{}class l1 extends r1{constructor(e,i,r,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,i,r,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.bo(e,kf(i,r),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(Z.UNKNOWN,h.toString())})}Co(e,i,r,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,kf(i,r),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(Z.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class o1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Mi(i),this.N_=!1):nt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="RemoteStore";class u1{constructor(e,i,r,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{r.enqueueAndForget(async()=>{Zl(this)&&(nt(_r,"Restarting streams for network reachability change."),await async function(v){const _=xt(v);_.W_.add(4),await Xl(_),_.j_.set("Unknown"),_.W_.delete(4),await Wu(_)}(this))})}),this.j_=new o1(r,u)}}async function Wu(s){if(Zl(s))for(const e of s.G_)await e(!0)}async function Xl(s){for(const e of s.G_)await e(!1)}function Wv(s,e){const i=xt(s);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),dd(i)?fd(i):Sr(i).c_()&&hd(i,e))}function cd(s,e){const i=xt(s),r=Sr(i);i.U_.delete(e),r.c_()&&t_(i,e),i.U_.size===0&&(r.c_()?r.P_():Zl(i)&&i.j_.set("Unknown"))}function hd(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Sr(s).y_(e)}function t_(s,e){s.H_.Ne(e),Sr(s).w_(e)}function fd(s){s.H_=new rS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Sr(s).start(),s.j_.B_()}function dd(s){return Zl(s)&&!Sr(s).u_()&&s.U_.size>0}function Zl(s){return xt(s).W_.size===0}function e_(s){s.H_=void 0}async function c1(s){s.j_.set("Online")}async function h1(s){s.U_.forEach((e,i)=>{hd(s,e)})}async function f1(s,e){e_(s),dd(s)?(s.j_.q_(e),fd(s)):s.j_.set("Unknown")}async function d1(s,e,i){if(s.j_.set("Online"),e instanceof jv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.U_.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.U_.delete(g),u.H_.removeTarget(g))}(s,e)}catch(r){nt(_r,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dy(s,r)}else if(e instanceof Du?s.H_.We(e):e instanceof kv?s.H_.Ze(e):s.H_.je(e),!i.isEqual(pt.min()))try{const r=await Zv(s.localStore);i.compareTo(r)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const R=h.U_.get(_);R&&h.U_.set(_,R.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach((v,_)=>{const R=h.U_.get(v);if(!R)return;h.U_.set(v,R.withResumeToken(ze.EMPTY_BYTE_STRING,R.snapshotVersion)),t_(h,v);const U=new va(R.target,v,_,R.sequenceNumber);hd(h,U)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(r){nt(_r,"Failed to raise snapshot:",r),await Dy(s,r)}}async function Dy(s,e,i){if(!Ar(e))throw e;s.W_.add(1),await Xl(s),s.j_.set("Offline"),i||(i=()=>Zv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{nt(_r,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await Wu(s)})}async function Iy(s,e){const i=xt(s);i.asyncQueue.verifyOperationInProgress(),nt(_r,"RemoteStore received new credentials");const r=Zl(i);i.W_.add(3),await Xl(i),r&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await Wu(i)}async function m1(s,e){const i=xt(s);e?(i.W_.delete(2),await Wu(i)):e||(i.W_.add(2),await Xl(i),i.j_.set("Unknown"))}function Sr(s){return s.J_||(s.J_=function(i,r,u){const h=xt(i);return h.M_(),new s1(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:c1.bind(null,s),No:h1.bind(null,s),Lo:f1.bind(null,s),p_:d1.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),dd(s)?fd(s):s.j_.set("Unknown")):(await s.J_.stop(),e_(s))})),s.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,i,r,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=u,this.removalCallback=h,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,u,h){const d=Date.now()+r,g=new md(e,i,d,u,h);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function n_(s,e){if(Mi("AsyncQueue",`${e}: ${s}`),Ar(s))return new ut(Z.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{static emptySet(e){return new fr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||dt.comparator(i.key,r.key):(i,r)=>dt.comparator(i.key,r.key),this.keyedMap=Ml(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,r)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof fr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new fr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(){this.Z_=new oe(dt.comparator)}track(e){const i=e.doc.key,r=this.Z_.get(i);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(i):e.type===1&&r.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):vt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,r)=>{e.push(r)}),e}}class Er{constructor(e,i,r,u,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Er(e,i,fr.emptySet(i),d,r,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==r[u].type||!i[u].doc.isEqual(r[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class p1{constructor(){this.queries=Oy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,r){const u=xt(i),h=u.queries;u.queries=Oy(),h.forEach((d,g)=>{for(const v of g.ta)v.onError(r)})})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function Oy(){return new ps(s=>Iv(s),Yu)}async function y1(s,e){const i=xt(s);let r=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(r=2):(h=new g1,r=e.ra()?0:1);try{switch(r){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=n_(d,`Initialization of query '${or(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&gd(i)}async function v1(s,e){const i=xt(s),r=e.query;let u=3;const h=i.queries.get(r);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function _1(s,e){const i=xt(s);let r=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(u)&&(r=!0);d.ea=u}}r&&gd(i)}function E1(s,e,i){const r=xt(s),u=r.queries.get(e);if(u)for(const h of u.ta)h.onError(i);r.queries.delete(e)}function gd(s){s.ia.forEach(e=>{e.next()})}var Pf,Ny;(Ny=Pf||(Pf={}))._a="default",Ny.Cache="cache";class T1{constructor(e,i,r){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const u of e.docChanges)u.type!==3&&r.push(u);e=new Er(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const r=i!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Er.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Pf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e){this.key=e}}class a_{constructor(e){this.key=e}}class A1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ut(),this.mutatedKeys=Ut(),this.ya=Vv(e),this.wa=new fr(this.ya)}get ba(){return this.fa}Sa(e,i){const r=i?i.Da:new Vy,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((R,U)=>{const j=u.get(R),G=Xu(this.query,U)?U:null,J=!!j&&this.mutatedKeys.has(j.key),rt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;j&&G?j.data.isEqual(G.data)?J!==rt&&(r.track({type:3,doc:G}),W=!0):this.va(j,G)||(r.track({type:2,doc:G}),W=!0,(v&&this.ya(G,v)>0||_&&this.ya(G,_)<0)&&(g=!0)):!j&&G?(r.track({type:0,doc:G}),W=!0):j&&!G&&(r.track({type:1,doc:j}),W=!0,(v||_)&&(g=!0)),W&&(G?(d=d.add(G),h=rt?h.add(R):h.delete(R)):(d=d.delete(R),h=h.delete(R)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const R=this.query.limitType==="F"?d.last():d.first();d=d.delete(R.key),h=h.delete(R.key),r.track({type:1,doc:R})}return{wa:d,Da:r,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((R,U)=>function(G,J){const rt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return rt(G)-rt(J)}(R.type,U.type)||this.ya(R.doc,U.doc)),this.Ca(r),u=u!=null&&u;const g=i&&!u?this.Fa():[],v=this.pa.size===0&&this.current&&!u?1:0,_=v!==this.ga;return this.ga=v,d.length!==0||_?{snapshot:new Er(this.query,e.wa,h,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Vy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ut(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const i=[];return e.forEach(r=>{this.pa.has(r)||i.push(new a_(r))}),this.pa.forEach(r=>{e.has(r)||i.push(new i_(r))}),i}Oa(e){this.fa=e.gs,this.pa=Ut();const i=this.Sa(e.documents);return this.applyChanges(i,!0)}Na(){return Er.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const pd="SyncEngine";class S1{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class b1{constructor(e){this.key=e,this.Ba=!1}}class R1{constructor(e,i,r,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new ps(g=>Iv(g),Yu),this.qa=new Map,this.Qa=new Set,this.$a=new oe(dt.comparator),this.Ka=new Map,this.Ua=new rd,this.Wa={},this.Ga=new Map,this.za=vr.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function w1(s,e,i=!0){const r=u_(s);let u;const h=r.ka.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await s_(r,e,i,!0),u}async function C1(s,e){const i=u_(s);await s_(i,e,!0,!1)}async function s_(s,e,i,r){const u=await ZS(s.localStore,ei(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return r&&(g=await D1(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&Wv(s.remoteStore,u),g}async function D1(s,e,i,r,u){s.Ha=(U,j,G)=>async function(rt,W,Rt,mt){let ht=W.view.Sa(Rt);ht.ls&&(ht=await Sy(rt.localStore,W.query,!1).then(({documents:M})=>W.view.Sa(M,ht)));const Ht=mt&&mt.targetChanges.get(W.targetId),yt=mt&&mt.targetMismatches.get(W.targetId)!=null,Ct=W.view.applyChanges(ht,rt.isPrimaryClient,Ht,yt);return xy(rt,W.targetId,Ct.Ma),Ct.snapshot}(s,U,j,G);const h=await Sy(s.localStore,e,!0),d=new A1(e,h.gs),g=d.Sa(h.documents),v=Yl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",u),_=d.applyChanges(g,s.isPrimaryClient,v);xy(s,i,_.Ma);const R=new S1(e,i,d);return s.ka.set(e,R),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),_.snapshot}async function I1(s,e,i){const r=xt(s),u=r.ka.get(e),h=r.qa.get(u.targetId);if(h.length>1)return r.qa.set(u.targetId,h.filter(d=>!Yu(d,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(u.targetId),r.sharedClientState.isActiveQueryTarget(u.targetId)||await jf(r.localStore,u.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(u.targetId),i&&cd(r.remoteStore,u.targetId),Hf(r,u.targetId)}).catch(Hu)):(Hf(r,u.targetId),await jf(r.localStore,u.targetId,!0))}async function V1(s,e){const i=xt(s),r=i.ka.get(e),u=i.qa.get(r.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),cd(i.remoteStore,r.targetId))}async function r_(s,e){const i=xt(s);try{const r=await YS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ka.get(h);d&&(Jt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?Jt(d.Ba):u.removedDocuments.size>0&&(Jt(d.Ba),d.Ba=!1))}),await o_(i,r,e)}catch(r){await Hu(r)}}function My(s,e,i){const r=xt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const u=[];r.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const v=xt(d);v.onlineState=g;let _=!1;v.queries.forEach((R,U)=>{for(const j of U.ta)j.sa(g)&&(_=!0)}),_&&gd(v)}(r.eventManager,e),u.length&&r.La.p_(u),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function O1(s,e,i){const r=xt(s);r.sharedClientState.updateQueryState(e,"rejected",i);const u=r.Ka.get(e),h=u&&u.key;if(h){let d=new oe(dt.comparator);d=d.insert(h,He.newNoDocument(h,pt.min()));const g=Ut().add(h),v=new Ju(pt.min(),new Map,new oe(Mt),d,g);await r_(r,v),r.$a=r.$a.remove(h),r.Ka.delete(e),yd(r)}else await jf(r.localStore,e,!1).then(()=>Hf(r,e,i)).catch(Hu)}function Hf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.qa.get(e))s.ka.delete(r),i&&s.La.Ja(r,i);s.qa.delete(e),s.isPrimaryClient&&s.Ua.Sr(e).forEach(r=>{s.Ua.containsKey(r)||l_(s,r)})}function l_(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(cd(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ka.delete(i),yd(s))}function xy(s,e,i){for(const r of i)r instanceof i_?(s.Ua.addReference(r.key,e),N1(s,r)):r instanceof a_?(nt(pd,"Document no longer in limbo: "+r.key),s.Ua.removeReference(r.key,e),s.Ua.containsKey(r.key)||l_(s,r.key)):vt()}function N1(s,e){const i=e.key,r=i.path.canonicalString();s.$a.get(i)||s.Qa.has(r)||(nt(pd,"New document in limbo: "+i),s.Qa.add(r),yd(s))}function yd(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new dt(ae.fromString(e)),r=s.za.next();s.Ka.set(r,new b1(i)),s.$a=s.$a.insert(i,r),Wv(s.remoteStore,new va(ei(Dv(i.path)),r,"TargetPurposeLimboResolution",Gu.ae))}}async function o_(s,e,i){const r=xt(s),u=[],h=[],d=[];r.ka.isEmpty()||(r.ka.forEach((g,v)=>{d.push(r.Ha(v,e,i).then(_=>{var R;if((_||i)&&r.isPrimaryClient){const U=_?!_.fromCache:(R=i==null?void 0:i.targetChanges.get(v.targetId))===null||R===void 0?void 0:R.current;r.sharedClientState.updateQueryState(v.targetId,U?"current":"not-current")}if(_){u.push(_);const U=od.Yi(v.targetId,_);h.push(U)}}))}),await Promise.all(d),r.La.p_(u),await async function(v,_){const R=xt(v);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",U=>Q.forEach(_,j=>Q.forEach(j.Hi,G=>R.persistence.referenceDelegate.addReference(U,j.targetId,G)).next(()=>Q.forEach(j.Ji,G=>R.persistence.referenceDelegate.removeReference(U,j.targetId,G)))))}catch(U){if(!Ar(U))throw U;nt(ud,"Failed to update sequence numbers: "+U)}for(const U of _){const j=U.targetId;if(!U.fromCache){const G=R.Ts.get(j),J=G.snapshotVersion,rt=G.withLastLimboFreeSnapshotVersion(J);R.Ts=R.Ts.insert(j,rt)}}}(r.localStore,h))}async function M1(s,e){const i=xt(s);if(!i.currentUser.isEqual(e)){nt(pd,"User change. New user:",e.toKey());const r=await Xv(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(v=>{v.reject(new ut(Z.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await o_(i,r.Rs)}}function x1(s,e){const i=xt(s),r=i.Ka.get(e);if(r&&r.Ba)return Ut().add(r.key);{let u=Ut();const h=i.qa.get(e);if(!h)return u;for(const d of h){const g=i.ka.get(d);u=u.unionWith(g.view.ba)}return u}}function u_(s){const e=xt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=r_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O1.bind(null,e),e.La.p_=_1.bind(null,e.eventManager),e.La.Ja=E1.bind(null,e.eventManager),e}class Bu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$v(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return KS(this.persistence,new GS,e.initialUser,this.serializer)}Xa(e){return new Yv(ld.ri,this.serializer)}Za(e){return new JS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bu.provider={build:()=>new Bu};class U1 extends Bu{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Jt(this.persistence.referenceDelegate instanceof zu);const r=this.persistence.referenceDelegate.garbageCollector;return new IS(r,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Yv(r=>zu.ri(r,i),this.serializer)}}class Gf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>My(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=M1.bind(null,this.syncEngine),await m1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new p1}()}createDatastore(e){const i=$v(e.databaseInfo.databaseId),r=function(h){return new i1(h)}(e.databaseInfo);return function(h,d,g,v){return new l1(h,d,g,v)}(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return function(r,u,h,d,g){return new u1(r,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>My(this.syncEngine,i,0),function(){return wy.D()?new wy:new WS}())}createSyncEngine(e,i){return function(u,h,d,g,v,_,R){const U=new R1(u,h,d,g,v,_);return R&&(U.ja=!0),U}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=xt(u);nt(_r,"RemoteStore shutting down."),h.W_.add(5),await Xl(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Gf.provider={build:()=>new Gf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="FirestoreClient";class z1{constructor(e,i,r,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=u,this.user=Pe.UNAUTHENTICATED,this.clientId=oA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,async d=>{nt(Da,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(nt(Da,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=n_(i,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pf(s,e){s.asyncQueue.verifyOperationInProgress(),nt(Da,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener(async u=>{r.isEqual(u)||(await Xv(e.localStore,u),r=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Uy(s,e){s.asyncQueue.verifyOperationInProgress();const i=await B1(s);nt(Da,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(r=>Iy(e.remoteStore,r)),s.setAppCheckTokenChangeListener((r,u)=>Iy(e.remoteStore,u)),s._onlineComponents=e}async function B1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt(Da,"Using user provided OfflineComponentProvider");try{await pf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===Z.FAILED_PRECONDITION||u.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;mr("Error using user provided cache. Falling back to memory cache: "+i),await pf(s,new Bu)}}else nt(Da,"Using default OfflineComponentProvider"),await pf(s,new U1(void 0));return s._offlineComponents}async function k1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt(Da,"Using user provided OnlineComponentProvider"),await Uy(s,s._uninitializedComponentsProvider._online)):(nt(Da,"Using default OnlineComponentProvider"),await Uy(s,new Gf))),s._onlineComponents}async function j1(s){const e=await k1(s),i=e.eventManager;return i.onListen=w1.bind(null,e.syncEngine),i.onUnlisten=I1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=C1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=V1.bind(null,e.syncEngine),i}function q1(s,e,i={}){const r=new hs;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,v,_){const R=new L1({next:j=>{R.su(),d.enqueueAndForget(()=>v1(h,U)),j.fromCache&&v.source==="server"?_.reject(new ut(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(j)},error:j=>_.reject(j)}),U=new T1(g,R,{includeMetadataChanges:!0,Ta:!0});return y1(h,U)}(await j1(s),s.asyncQueue,e,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(s,e,i){if(!i)throw new ut(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function H1(s,e,i,r){if(e===!0&&r===!0)throw new ut(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function zy(s){if(dt.isDocumentKey(s))throw new ut(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function G1(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":vt()}function Qf(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=G1(s);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="firestore.googleapis.com",By=!0;class ky{constructor(e){var i,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h_,this.ssl=By}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:By;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CS)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,u){return r.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vd{constructor(e,i,r,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ky({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ky(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eA;switch(r.type){case"firstParty":return new sA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=Ly.get(i);r&&(nt("ComponentProvider","Removing Datastore"),Ly.delete(i),r.terminate())}(this),Promise.resolve()}}function Q1(s,e,i,r={}){var u;const h=(s=Qf(s,vd))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==h_&&h.host!==g&&mr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:r});if(!jl(v,d)&&(s._setSettings(v),r.mockUserToken)){let _,R;if(typeof r.mockUserToken=="string")_=r.mockUserToken,R=Pe.MOCK_USER;else{_=ME(r.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const U=r.mockUserToken.sub||r.mockUserToken.user_id;if(!U)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Pe(U)}s._authCredentials=new nA(new gv(_,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tc(this.firestore,e,this._query)}}class br{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new br(this.firestore,e,this._key)}}class dr extends tc{constructor(e,i,r){super(e,i,Dv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new br(this.firestore,null,new dt(e))}withConverter(e){return new dr(this.firestore,e,this._path)}}function yf(s,e,...i){if(s=Xf(s),P1("collection","path",e),s instanceof vd){const r=ae.fromString(e,...i);return zy(r),new dr(s,null,r)}{if(!(s instanceof br||s instanceof dr))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ae.fromString(e,...i));return zy(r),new dr(s.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="AsyncQueue";class qy{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Jv(this,"async_queue_retry"),this.bu=()=>{const r=gf();r&&nt(jy,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const i=gf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=gf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new hs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ar(e))throw e;nt(jy,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const u=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(r);throw Mi("INTERNAL UNHANDLED ERROR: ",u),r}).then(r=>(this.pu=!1,r))));return this.Su=i,i}enqueueAfterDelay(e,i,r){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=md.createAndSchedule(this,e,i,r,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&vt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class f_ extends vd{constructor(e,i,r,u){super(e,i,r,u),this.type="firestore",this._queue=new qy,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qy(e),this._firestoreClient=void 0,await e}}}function F1(s,e){const i=typeof s=="object"?s:rv(),r=typeof s=="string"?s:Nu,u=Fl(i,"firestore").getImmediate({identifier:r});if(!u._initialized){const h=OE("firestore");h&&Q1(u,...h)}return u}function K1(s){if(s._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Y1(s),s._firestoreClient}function Y1(s){var e,i,r;const u=s._freezeSettings(),h=function(g,v,_,R){return new TA(g,v,_,R.host,R.ssl,R.experimentalForceLongPolling,R.experimentalAutoDetectLongPolling,c_(R.experimentalLongPollingOptions),R.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=u.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new z1(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ku(ze.fromBase64String(e))}catch(i){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ku(ze.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,u){if(r.length!==u.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==u[h])return!1;return!0}(this._values,e._values)}}const $1=new RegExp("[~\\*/\\[\\]]");function J1(s,e,i){if(e.search($1)>=0)throw Py(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new d_(...e.split("."))._internalPath}catch{throw Py(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function Py(s,e,i,r,u){let h=`Function ${e}() called with invalid data`;h+=". ";let d="";return new ut(Z.INVALID_ARGUMENT,h+s+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,i,r,u,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new br(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new W1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(g_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class W1 extends m_{data(){return super.data()}}function g_(s,e){return typeof e=="string"?J1(s,e):e instanceof d_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eb{convertValue(e,i="none"){switch(wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Kl(e,(u,h)=>{r[u]=this.convertValue(h,i)}),r}convertVectorValue(e){var i,r,u;const h=(u=(r=(i=e.fields)===null||i===void 0?void 0:i[Vf].arrayValue)===null||r===void 0?void 0:r.values)===null||u===void 0?void 0:u.map(d=>le(d.doubleValue));return new Z1(h)}convertGeoPoint(e){return new X1(le(e.latitude),le(e.longitude))}convertArray(e,i){return(e.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Fu(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const i=ba(e);return new en(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ae.fromString(e);Jt(Fv(r));const u=new Gl(r.get(1),r.get(3)),h=new dt(r.popFirst(5));return u.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nb extends m_{constructor(e,i,r,u,h,d){super(e,i,r,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Iu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(g_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class Iu extends nb{data(e={}){return super.data(e)}}class ib{constructor(e,i,r,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new bu(u.hasPendingWrites,u.fromCache),this.query=r}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(r=>{e.call(i,new Iu(this._firestore,this._userDataWriter,r.key,r,new bu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const v=new Iu(u._firestore,u._userDataWriter,g.doc.key,g.doc,new bu(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const v=new Iu(u._firestore,u._userDataWriter,g.doc.key,g.doc,new bu(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,R=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),R=d.indexOf(g.doc.key)),{type:ab(g.type),doc:v,oldIndex:_,newIndex:R}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function ab(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}class sb extends eb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ku(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new br(this.firestore,null,i)}}function vf(s){s=Qf(s,tc);const e=Qf(s.firestore,f_),i=K1(e),r=new sb(e);return tb(s._query),q1(i,s._query).then(u=>new ib(e,r,s,u))}(function(e,i=!0){(function(u){Tr=u})(GT),Aa(new Oi("firestore",(r,{instanceIdentifier:u,options:h})=>{const d=r.getProvider("app").getImmediate(),g=new f_(new iA(r.getProvider("auth-internal")),new rA(d,r.getProvider("app-check-internal")),function(_,R){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(_.options.projectId,R)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ti(Yp,Xp,e),ti(Yp,Xp,"esm2017")})();var rb="firebase",lb="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(rb,lb,"app");const p_="@firebase/installations",_d="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=1e4,v_=`w:${_d}`,__="FIS_v2",ob="https://firebaseinstallations.googleapis.com/v1",ub=60*60*1e3,cb="installations",hb="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ms=new Pu(cb,hb,fb);function E_(s){return s instanceof Ia&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_({projectId:s}){return`${ob}/projects/${s}/installations`}function A_(s){return{token:s.token,requestStatus:2,expiresIn:mb(s.expiresIn),creationTime:Date.now()}}async function S_(s,e){const r=(await e.json()).error;return ms.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function b_({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function db(s,{refreshToken:e}){const i=b_(s);return i.append("Authorization",gb(e)),i}async function R_(s){const e=await s();return e.status>=500&&e.status<600?s():e}function mb(s){return Number(s.replace("s","000"))}function gb(s){return`${__} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb({appConfig:s,heartbeatServiceProvider:e},{fid:i}){const r=T_(s),u=b_(s),h=e.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&u.append("x-firebase-client",_)}const d={fid:i,authVersion:__,appId:s.appId,sdkVersion:v_},g={method:"POST",headers:u,body:JSON.stringify(d)},v=await R_(()=>fetch(r,g));if(v.ok){const _=await v.json();return{fid:_.fid||i,registrationStatus:2,refreshToken:_.refreshToken,authToken:A_(_.authToken)}}else throw await S_("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(s){return new Promise(e=>{setTimeout(e,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=/^[cdef][\w-]{21}$/,Ff="";function _b(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=Eb(s);return vb.test(i)?i:Ff}catch{return Ff}}function Eb(s){return yb(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new Map;function D_(s,e){const i=ec(s);I_(i,e),Tb(i,e)}function I_(s,e){const i=C_.get(s);if(i)for(const r of i)r(e)}function Tb(s,e){const i=Ab();i&&i.postMessage({key:s,fid:e}),Sb()}let cs=null;function Ab(){return!cs&&"BroadcastChannel"in self&&(cs=new BroadcastChannel("[Firebase] FID Change"),cs.onmessage=s=>{I_(s.data.key,s.data.fid)}),cs}function Sb(){C_.size===0&&cs&&(cs.close(),cs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="firebase-installations-database",Rb=1,gs="firebase-installations-store";let _f=null;function Ed(){return _f||(_f=av(bb,Rb,{upgrade:(s,e)=>{switch(e){case 0:s.createObjectStore(gs)}}})),_f}async function ju(s,e){const i=ec(s),u=(await Ed()).transaction(gs,"readwrite"),h=u.objectStore(gs),d=await h.get(i);return await h.put(e,i),await u.done,(!d||d.fid!==e.fid)&&D_(s,e.fid),e}async function V_(s){const e=ec(s),r=(await Ed()).transaction(gs,"readwrite");await r.objectStore(gs).delete(e),await r.done}async function nc(s,e){const i=ec(s),u=(await Ed()).transaction(gs,"readwrite"),h=u.objectStore(gs),d=await h.get(i),g=e(d);return g===void 0?await h.delete(i):await h.put(g,i),await u.done,g&&(!d||d.fid!==g.fid)&&D_(s,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(s){let e;const i=await nc(s.appConfig,r=>{const u=wb(r),h=Cb(s,u);return e=h.registrationPromise,h.installationEntry});return i.fid===Ff?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function wb(s){const e=s||{fid:_b(),registrationStatus:0};return O_(e)}function Cb(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const u=Promise.reject(ms.create("app-offline"));return{installationEntry:e,registrationPromise:u}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Db(s,i);return{installationEntry:i,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Ib(s)}:{installationEntry:e}}async function Db(s,e){try{const i=await pb(s,e);return ju(s.appConfig,i)}catch(i){throw E_(i)&&i.customData.serverCode===409?await V_(s.appConfig):await ju(s.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function Ib(s){let e=await Hy(s.appConfig);for(;e.registrationStatus===1;)await w_(100),e=await Hy(s.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await Td(s);return r||i}return e}function Hy(s){return nc(s,e=>{if(!e)throw ms.create("installation-not-found");return O_(e)})}function O_(s){return Vb(s)?{fid:s.fid,registrationStatus:0}:s}function Vb(s){return s.registrationStatus===1&&s.registrationTime+y_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ob({appConfig:s,heartbeatServiceProvider:e},i){const r=Nb(s,i),u=db(s,i),h=e.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&u.append("x-firebase-client",_)}const d={installation:{sdkVersion:v_,appId:s.appId}},g={method:"POST",headers:u,body:JSON.stringify(d)},v=await R_(()=>fetch(r,g));if(v.ok){const _=await v.json();return A_(_)}else throw await S_("Generate Auth Token",v)}function Nb(s,{fid:e}){return`${T_(s)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(s,e=!1){let i;const r=await nc(s.appConfig,h=>{if(!N_(h))throw ms.create("not-registered");const d=h.authToken;if(!e&&Ub(d))return h;if(d.requestStatus===1)return i=Mb(s,e),h;{if(!navigator.onLine)throw ms.create("app-offline");const g=zb(h);return i=xb(s,g),g}});return i?await i:r.authToken}async function Mb(s,e){let i=await Gy(s.appConfig);for(;i.authToken.requestStatus===1;)await w_(100),i=await Gy(s.appConfig);const r=i.authToken;return r.requestStatus===0?Ad(s,e):r}function Gy(s){return nc(s,e=>{if(!N_(e))throw ms.create("not-registered");const i=e.authToken;return Bb(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function xb(s,e){try{const i=await Ob(s,e),r=Object.assign(Object.assign({},e),{authToken:i});return await ju(s.appConfig,r),i}catch(i){if(E_(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await V_(s.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ju(s.appConfig,r)}throw i}}function N_(s){return s!==void 0&&s.registrationStatus===2}function Ub(s){return s.requestStatus===2&&!Lb(s)}function Lb(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+ub}function zb(s){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},s),{authToken:e})}function Bb(s){return s.requestStatus===1&&s.requestTime+y_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kb(s){const e=s,{installationEntry:i,registrationPromise:r}=await Td(e);return r?r.catch(console.error):Ad(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(s,e=!1){const i=s;return await qb(i),(await Ad(i,e)).token}async function qb(s){const{registrationPromise:e}=await Td(s);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(s){if(!s||!s.options)throw Ef("App Configuration");if(!s.name)throw Ef("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!s.options[i])throw Ef(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Ef(s){return ms.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="installations",Hb="installations-internal",Gb=s=>{const e=s.getProvider("app").getImmediate(),i=Pb(e),r=Fl(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Qb=s=>{const e=s.getProvider("app").getImmediate(),i=Fl(e,M_).getImmediate();return{getId:()=>kb(i),getToken:u=>jb(i,u)}};function Fb(){Aa(new Oi(M_,Gb,"PUBLIC")),Aa(new Oi(Hb,Qb,"PRIVATE"))}Fb();ti(p_,_d);ti(p_,_d,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu="analytics",Kb="firebase_id",Yb="origin",Xb=60*1e3,Zb="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn=new Zf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},hn=new Pu("analytics","Analytics",$b);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(s){if(!s.startsWith(Sd)){const e=hn.create("invalid-gtag-resource",{gtagURL:s});return nn.warn(e.message),""}return s}function x_(s){return Promise.all(s.map(e=>e.catch(i=>i)))}function Wb(s,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(s,e)),i}function tR(s,e){const i=Wb("firebase-js-sdk-policy",{createScriptURL:Jb}),r=document.createElement("script"),u=`${Sd}?l=${s}&id=${e}`;r.src=i?i==null?void 0:i.createScriptURL(u):u,r.async=!0,document.head.appendChild(r)}function eR(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function nR(s,e,i,r,u,h){const d=r[u];try{if(d)await e[d];else{const v=(await x_(i)).find(_=>_.measurementId===u);v&&await e[v.appId]}}catch(g){nn.error(g)}s("config",u,h)}async function iR(s,e,i,r,u){try{let h=[];if(u&&u.send_to){let d=u.send_to;Array.isArray(d)||(d=[d]);const g=await x_(i);for(const v of d){const _=g.find(U=>U.measurementId===v),R=_&&e[_.appId];if(R)h.push(R);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),s("event",r,u||{})}catch(h){nn.error(h)}}function aR(s,e,i,r){async function u(h,...d){try{if(h==="event"){const[g,v]=d;await iR(s,e,i,g,v)}else if(h==="config"){const[g,v]=d;await nR(s,e,i,r,g,v)}else if(h==="consent"){const[g,v]=d;s("consent",g,v)}else if(h==="get"){const[g,v,_]=d;s("get",g,v,_)}else if(h==="set"){const[g]=d;s("set",g)}else s(h,...d)}catch(g){nn.error(g)}}return u}function sR(s,e,i,r,u){let h=function(...d){window[r].push(arguments)};return window[u]&&typeof window[u]=="function"&&(h=window[u]),window[u]=aR(h,s,e,i),{gtagCore:h,wrappedGtag:window[u]}}function rR(s){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(Sd)&&i.src.includes(s))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=30,oR=1e3;class uR{constructor(e={},i=oR){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const U_=new uR;function cR(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function hR(s){var e;const{appId:i,apiKey:r}=s,u={method:"GET",headers:cR(r)},h=Zb.replace("{app-id}",i),d=await fetch(h,u);if(d.status!==200&&d.status!==304){let g="";try{const v=await d.json();!((e=v.error)===null||e===void 0)&&e.message&&(g=v.error.message)}catch{}throw hn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:g})}return d.json()}async function fR(s,e=U_,i){const{appId:r,apiKey:u,measurementId:h}=s.options;if(!r)throw hn.create("no-app-id");if(!u){if(h)return{measurementId:h,appId:r};throw hn.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new gR;return setTimeout(async()=>{g.abort()},Xb),L_({appId:r,apiKey:u,measurementId:h},d,g,e)}async function L_(s,{throttleEndTimeMillis:e,backoffCount:i},r,u=U_){var h;const{appId:d,measurementId:g}=s;try{await dR(r,e)}catch(v){if(g)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:d,measurementId:g};throw v}try{const v=await hR(s);return u.deleteThrottleMetadata(d),v}catch(v){const _=v;if(!mR(_)){if(u.deleteThrottleMetadata(d),g)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:d,measurementId:g};throw v}const R=Number((h=_==null?void 0:_.customData)===null||h===void 0?void 0:h.httpStatus)===503?Bp(i,u.intervalMillis,lR):Bp(i,u.intervalMillis),U={throttleEndTimeMillis:Date.now()+R,backoffCount:i+1};return u.setThrottleMetadata(d,U),nn.debug(`Calling attemptFetch again in ${R} millis`),L_(s,U,r,u)}}function dR(s,e){return new Promise((i,r)=>{const u=Math.max(e-Date.now(),0),h=setTimeout(i,u);s.addEventListener(()=>{clearTimeout(h),r(hn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mR(s){if(!(s instanceof Ia)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class gR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function pR(s,e,i,r,u){if(u&&u.global){s("event",i,r);return}else{const h=await e,d=Object.assign(Object.assign({},r),{send_to:h});s("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(){if(tv())try{await ev()}catch(s){return nn.warn(hn.create("indexeddb-unavailable",{errorInfo:s==null?void 0:s.toString()}).message),!1}else return nn.warn(hn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function vR(s,e,i,r,u,h,d){var g;const v=fR(s);v.then(G=>{i[G.measurementId]=G.appId,s.options.measurementId&&G.measurementId!==s.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${G.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(G=>nn.error(G)),e.push(v);const _=yR().then(G=>{if(G)return r.getId()}),[R,U]=await Promise.all([v,_]);rR(h)||tR(h,R.measurementId),u("js",new Date);const j=(g=d==null?void 0:d.config)!==null&&g!==void 0?g:{};return j[Yb]="firebase",j.update=!0,U!=null&&(j[Kb]=U),u("config",R.measurementId,j),R.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.app=e}_delete(){return delete kl[this.app.options.appId],Promise.resolve()}}let kl={},Qy=[];const Fy={};let Tf="dataLayer",ER="gtag",Ky,z_,Yy=!1;function TR(){const s=[];if(LE()&&s.push("This is a browser extension environment."),BE()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,u)=>`(${u+1}) ${r}`).join(" "),i=hn.create("invalid-analytics-context",{errorInfo:e});nn.warn(i.message)}}function AR(s,e,i){TR();const r=s.options.appId;if(!r)throw hn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw hn.create("no-api-key");if(kl[r]!=null)throw hn.create("already-exists",{id:r});if(!Yy){eR(Tf);const{wrappedGtag:h,gtagCore:d}=sR(kl,Qy,Fy,Tf,ER);z_=h,Ky=d,Yy=!0}return kl[r]=vR(s,Qy,Fy,e,Ky,Tf,i),new _R(s)}function SR(s=rv()){s=Xf(s);const e=Fl(s,qu);return e.isInitialized()?e.getImmediate():bR(s)}function bR(s,e={}){const i=Fl(s,qu);if(i.isInitialized()){const u=i.getImmediate();if(jl(e,i.getOptions()))return u;throw hn.create("already-initialized")}return i.initialize({options:e})}function RR(s,e,i,r){s=Xf(s),pR(z_,kl[s.app.options.appId],e,i,r).catch(u=>nn.error(u))}const Xy="@firebase/analytics",Zy="0.10.12";function wR(){Aa(new Oi(qu,(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),u=e.getProvider("installations-internal").getImmediate();return AR(r,u,i)},"PUBLIC")),Aa(new Oi("analytics-internal",s,"PRIVATE")),ti(Xy,Zy),ti(Xy,Zy,"esm2017");function s(e){try{const i=e.getProvider(qu).getImmediate();return{logEvent:(r,u,h)=>RR(i,r,u,h)}}catch(i){throw hn.create("interop-component-reg-failed",{reason:i})}}}wR();const CR={apiKey:"AIzaSyAuaeSyx21PlFZPpw4Nso8A2_J5Z1KGR_4",authDomain:"ruslana-cakes.firebaseapp.com",projectId:"ruslana-cakes",storageBucket:"ruslana-cakes.firebasestorage.app",messagingSenderId:"645062619826",appId:"1:645062619826:web:f752b588fc41d417978fab",measurementId:"G-NE6QB30C2V"},B_=sv(CR);SR(B_);const Af=F1(B_),DR=()=>{const[s,e]=Un.useState([]),[i,r]=Un.useState([]),[u,h]=Un.useState([]),[d,g]=Un.useState(""),[v,_]=Un.useState("cakes"),[R,U]=Un.useState(0),[j,G]=Un.useState(!0),[J,rt]=Un.useState(""),W=async()=>{G(!0);try{const ht=yf(Af,"cakes"),yt=(await vf(ht)).docs.map(N=>({id:N.id,Image:N.data().Image,Description:N.data().Description,Price:N.data().Price}));e(yt);const Ct=yf(Af,"bento"),b=(await vf(Ct)).docs.map(N=>({id:N.id,Image:N.data().Image,Description:N.data().Description,Price:N.data().Price}));r(b);const A=yf(Af,"cupcake"),V=(await vf(A)).docs.map(N=>({id:N.id,Image:N.data().Image,Description:N.data().Description,Price:N.data().Price}));h(V)}catch(ht){rt("   : "+ht.message),console.error("   :",ht)}finally{G(!1)}};Un.useEffect(()=>{W()},[]),Un.useEffect(()=>{(()=>{v==="cakes"&&s.length>0?U(3):v==="bento"&&i.length>0?U(1):v==="cupcake"&&u.length>0&&U(0)})()},[v,s,i,u]);const Rt=ht=>{_(ht),g(ht)};if(j)return Y.jsx("div",{children:"..."});const mt=v==="cakes"?s:v==="bento"?i:v==="cupcake"?u:[];return console.log("displayedItems",mt),console.log("topSellers",R),Y.jsxs("div",{className:"catalog-container",children:[Y.jsxs("div",{className:"catalog-list",children:[Y.jsx("h2",{className:"catalog-list-title",children:"Catalog"}),Y.jsxs("ul",{className:"catalog-list-items",children:[Y.jsx("li",{className:`catalog-list-item ${d==="cakes"?"active":""}`,onClick:()=>Rt("cakes"),children:""}),Y.jsx("li",{className:`catalog-list-item ${d==="bento"?"active":""}`,onClick:()=>Rt("bento"),children:" "}),Y.jsx("li",{className:`catalog-list-item ${d==="cupcake"?"active":""}`,onClick:()=>Rt("cupcake"),children:""})]})]}),J&&Y.jsx("p",{children:J}),Y.jsxs("div",{className:"catalog-cards-container",children:[Y.jsx("div",{className:"catalog-cards",children:mt.length>0?mt.map(ht=>Y.jsx(Up,{cake:ht},ht.id)):Y.jsx("p",{children:"     ."})}),Y.jsxs("div",{className:"catalog-cards-top",children:[Y.jsx("p",{className:"catalog-top-seller-title",children:"Top seller"}),mt.length>0&&Y.jsx(Up,{cake:mt[R]})]})]})]})},IR="/Ruslana_Cakes/assets/logo_text_light-DiZRjzKz.png",VR="_links_1j72p_1",OR={links:VR},k_=()=>Y.jsxs("div",{className:OR.links,children:[Y.jsxs("a",{href:"https://www.instagram.com/ruslanacakes/",target:"blank",children:[Y.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/174/174855.png",alt:"Instagram"}),Y.jsx("span",{})]}),Y.jsxs("a",{href:"https://t.me/ruslanacakes",target:"blank",children:[Y.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/2111/2111646.png",alt:"Telegram"}),Y.jsx("span",{})]})]}),NR=()=>Y.jsxs("div",{className:"footer",children:[Y.jsxs("div",{className:"footer-container-up",children:[Y.jsx("div",{className:"footer-logo",children:Y.jsx("img",{src:IR,alt:"",loading:"lazy",width:"200px",height:"auto"})}),Y.jsxs("ul",{className:"footer-menu",children:[Y.jsx("li",{children:"Store"}),Y.jsx("li",{children:"About us"}),Y.jsx("li",{children:"Catalog"}),Y.jsx("li",{children:"Contact us"})]})]}),Y.jsxs("div",{className:"footer-container-down",children:[Y.jsx("div",{className:"footer-empty"}),Y.jsx("div",{className:"footer-social-links",children:Y.jsx(k_,{})})]}),Y.jsx("hr",{className:"footer-hr"}),Y.jsx("p",{children:" 2022 Ruslana Cakes"})]}),MR="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEASABIAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAAQABQDAREAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD6C8JeOfD37S+jfBwftiftXfD74M/FL4UeI/Dd74a+Mvwl/a7g8R6jpGm+GNZv/EkHgT4g6UfHF5L8ffg1rsqR6fFfeNJdK+PHwxmudPsYfHHxn0K4165tvrsF4hcO8C5njsu4azvLuMuCs2o4mEaGe4P2Od5NUrUvZqSxeIw1q86aaVDE0Kn72MJfW8H7X2VeH9U8U/Re8VfE/h7/AFlzTwQ448MvFnKp4WWYYHhrh+pPw/49hGdKNTHZbl2Wyh/qVnLtUr5hlKw1bhvGzm6uVYjIFCWW4nwj4d6z4J/ach8c+GPil+28vwm0TRv21PF/j6xufGHxx8Y+D9I1z4a6h4f1O0sLuR/D+v2XjPxL4SguUiW38EeEL/wtP4gu7y2hk8f/AA9topNdr878PfESrwdR4n+q08oxOYZzUp4XBY7PIwxlDKaEalSpUxuHwVaE44qu04ww9OU6dBTtKuqlNOD/AK4+lH9GSrx3j/BjGQ4E4zxGScI+G9CXEHD3hpkOHwmb8T8S82BpU+H8xzuEI4Ph6LtVr5nnWLwuaYyhhadWGX5djMZUgoex+Ov26/2k/h14lvPCX7KcH/BPrxD8H9IgsLHSfGH7WX7RfhX4ifGjxpeafYW+mTeJNaj8LfEHw/4H+HukT2Vjp9h4e+GHgPTI/CnhDStOt4rSe7vrvUbqb9TySp4DSwKr8WcbZzmuf4qrUxWY4vC4arCg61WzcKft8DOUowtpKMMPS1tTw9KKV/4t4o8MPptZjmUVwp4FZ1wTwxgMNTy7IuGeH8olgcBlmXUJ1alOnKUcVUxuY4upUrVa2LzTOMbmeb46vOVXGZhWfs408bVdK/Zx/Zk8OfC34aftE/s3/AP44ftL/FT4keDdA1y5+CHww+JVp8JvAem3fig+Gtd8H/D2+m8di8+Jt7p+qLc6T47+OGq3+jfC7wvfwXOmfDvQPix4j8J+JtEuvLj4b8Ncb5rj34f5F/ZHCmS08RLH8R8R42pVeMnhoOrOhl+FjOi6+LqRhyUqNFyo4dTVXGYtTnDDU/so/Si8e/Dbh2hmvjF41cTY/i/P8DGpwr4Y8KxyHD5zQWPow/s/PuNsylk+NpcMZLT9vDG0Mrq0J8SZ9GkqVLBZNl1alndby/4QaR+yJ8E/D/xnX9pT4CyY8X/te+LPhN8Kvitrnw58efEPwd8H9N8PaLqeuaTH498C+FNT0nxhrPww12SKLR9Y1vwddXPizQD9n1PT7XVY0urcfn/h34bYjjmhxVHL4YBZhksqeIwmEzGboxxtKVWdOWFo1J1qEFOyTSnVp8yvatCSSn/Uf0sfpS8UeE2c+AlXC8V8QvhvirgGliOM4cJY/K6Gaf2hWp4PnzaniK2W5rQo5lh/aVKlGjicFXwdWSdKvheSftaXFftGfs+/tSfDD4kT6R8P/wBlj9izWvAOuaVaeLPA+s3/AMIfjr45ttW8Ja3dXx0DVNB+IHwtvdZ8IeP/AA7qGnW8F3pPjC30/wAD6pq8ExbXfhx4D1eK88N2P6VlGB+j/RwccPxrw7xTw/xHhqk8PmGAwcsfmWDlUo2hLE4SvSwznChVqKajh8SlisPKEqVXn5VUn/N+I8Rfpx8SVXnHhB4+5Rx9wPi406uXZxmuc+HvBGe4SpUpxq1cm4h4c4jx+FxGCznL4VKSxVTLq+aZJio1aWJyvNsZh6t4AP/Z",xR=()=>Y.jsx("header",{className:"header",children:Y.jsxs("ul",{className:"header-menu-list",children:[Y.jsxs("li",{className:"header-menu-item header-menu-item-language",children:["Language ",Y.jsx("img",{src:MR,alt:"flag"})]}),Y.jsx("li",{className:"header-menu-item",children:"About"}),Y.jsx("li",{className:"header-menu-item",children:"RUSLANA CAKES"}),Y.jsx("li",{className:"header-menu-item",children:"Order"}),Y.jsx("li",{className:"header-menu-item",children:Y.jsx("button",{className:"header-menu-button",children:"Sign in"})})]})}),UR=()=>Y.jsxs("div",{className:"location-container",children:[Y.jsx("h3",{className:"location-title",children:"  "}),Y.jsxs("div",{className:"location-map-container",children:[Y.jsxs("div",{className:"location-info-container",children:[Y.jsxs("div",{className:"location-info-contacts",children:[Y.jsx("h4",{className:"location-info-title",children:""}),Y.jsxs("ul",{className:"location-info-contacts-list",children:[Y.jsx("li",{className:"location-info-contacts-phone",children:Y.jsx("a",{href:"tel:+79092841484",children:" +7 (909) 284-14-84"})}),Y.jsxs("li",{className:"location-info-contacts-phone",children:[" ",Y.jsx("a",{href:"https://t.me/ruslanacakes",target:"_blank",children:" https://t.me/ruslanacakes"})]})]})]}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"location-info-title",children:" !"}),Y.jsxs("ul",{children:[Y.jsx("li",{children:"  !"}),Y.jsxs("li",{children:[" ","   ,      , , ."]}),Y.jsx("li",{children:"    !"}),Y.jsx("li",{children:"      50%"})]})]})]}),Y.jsx("div",{className:"location-map",children:Y.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?um=constructor%3Ad7af66d2a8d5f484f1c3620262fab411684d5663752ff04adff718f50dfbb1f4&source=constructor",width:"100%",height:"100%",frameBorder:"0"})})]}),Y.jsxs("div",{className:"location-links-container",children:[Y.jsx("h3",{className:"location-title",children:"   "}),Y.jsx(k_,{})]})]}),LR="/Ruslana_Cakes/assets/main-logo-BAi_ks3v.png",zR=()=>Y.jsxs("main",{className:"main",children:[Y.jsx("h1",{className:"visually-hidden",children:"     "}),Y.jsx("img",{className:"main-logo",src:LR,alt:"Ruslana cakes"}),Y.jsx("button",{className:"main-button",children:" "})]});function BR(){return Y.jsxs(Y.Fragment,{children:[Y.jsx(xR,{}),Y.jsx(zR,{}),Y.jsx(DR,{}),Y.jsx(UR,{}),Y.jsx(NR,{})]})}_E.createRoot(document.getElementById("root")).render(Y.jsx(Un.StrictMode,{children:Y.jsx(BR,{})}));
