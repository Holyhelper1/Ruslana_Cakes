(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var nf={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function hE(){if(wp)return Vl;wp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:s,type:r,key:d,ref:u!==void 0?u:null,props:h}}return Vl.Fragment=e,Vl.jsx=i,Vl.jsxs=i,Vl}var Cp;function fE(){return Cp||(Cp=1,nf.exports=hE()),nf.exports}var H=fE(),af={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function dE(){if(Dp)return Et;Dp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),U=Symbol.iterator;function j(D){return D===null||typeof D!="object"?null:(D=U&&D[U]||D["@@iterator"],typeof D=="function"?D:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,rt={};function W(D,Y,st){this.props=D,this.context=Y,this.refs=rt,this.updater=st||Q}W.prototype.isReactComponent={},W.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},W.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Rt(){}Rt.prototype=W.prototype;function mt(D,Y,st){this.props=D,this.context=Y,this.refs=rt,this.updater=st||Q}var ht=mt.prototype=new Rt;ht.constructor=mt,J(ht,W.prototype),ht.isPureReactComponent=!0;var Ht=Array.isArray,yt={H:null,A:null,T:null,S:null},Ct=Object.prototype.hasOwnProperty;function M(D,Y,st,tt,et,Tt){return st=Tt.ref,{$$typeof:s,type:D,key:Y,ref:st!==void 0?st:null,props:Tt}}function b(D,Y){return M(D.type,Y,void 0,void 0,void 0,D.props)}function A(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function C(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(st){return Y[st]})}var V=/\/+/g;function N(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?C(""+D.key):Y.toString(36)}function w(){}function ge(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(w,w):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ue(D,Y,st,tt,et){var Tt=typeof D;(Tt==="undefined"||Tt==="boolean")&&(D=null);var vt=!1;if(D===null)vt=!0;else switch(Tt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(D.$$typeof){case s:case e:vt=!0;break;case R:return vt=D._init,ue(vt(D._payload),Y,st,tt,et)}}if(vt)return et=et(D),vt=tt===""?"."+N(D,0):tt,Ht(et)?(st="",vt!=null&&(st=vt.replace(V,"$&/")+"/"),ue(et,Y,st,"",function(Wt){return Wt})):et!=null&&(A(et)&&(et=b(et,st+(et.key==null||D&&D.key===et.key?"":(""+et.key).replace(V,"$&/")+"/")+vt)),Y.push(et)),1;vt=0;var ce=tt===""?".":tt+":";if(Ht(D))for(var zt=0;zt<D.length;zt++)tt=D[zt],Tt=ce+N(tt,zt),vt+=ue(tt,Y,st,Tt,et);else if(zt=j(D),typeof zt=="function")for(D=zt.call(D),zt=0;!(tt=D.next()).done;)tt=tt.value,Tt=ce+N(tt,zt++),vt+=ue(tt,Y,st,Tt,et);else if(Tt==="object"){if(typeof D.then=="function")return ue(ge(D),Y,st,tt,et);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return vt}function $(D,Y,st){if(D==null)return D;var tt=[],et=0;return ue(D,tt,"","",function(Tt){return Y.call(st,Tt,et++)}),tt}function ft(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(st){(D._status===0||D._status===-1)&&(D._status=1,D._result=st)},function(st){(D._status===0||D._status===-1)&&(D._status=2,D._result=st)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var ot=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function jt(){}return Et.Children={map:$,forEach:function(D,Y,st){$(D,function(){Y.apply(this,arguments)},st)},count:function(D){var Y=0;return $(D,function(){Y++}),Y},toArray:function(D){return $(D,function(Y){return Y})||[]},only:function(D){if(!A(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Et.Component=W,Et.Fragment=i,Et.Profiler=u,Et.PureComponent=mt,Et.StrictMode=r,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,Et.act=function(){throw Error("act(...) is not supported in production builds of React.")},Et.cache=function(D){return function(){return D.apply(null,arguments)}},Et.cloneElement=function(D,Y,st){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var tt=J({},D.props),et=D.key,Tt=void 0;if(Y!=null)for(vt in Y.ref!==void 0&&(Tt=void 0),Y.key!==void 0&&(et=""+Y.key),Y)!Ct.call(Y,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&Y.ref===void 0||(tt[vt]=Y[vt]);var vt=arguments.length-2;if(vt===1)tt.children=st;else if(1<vt){for(var ce=Array(vt),zt=0;zt<vt;zt++)ce[zt]=arguments[zt+2];tt.children=ce}return M(D.type,et,void 0,void 0,Tt,tt)},Et.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},Et.createElement=function(D,Y,st){var tt,et={},Tt=null;if(Y!=null)for(tt in Y.key!==void 0&&(Tt=""+Y.key),Y)Ct.call(Y,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(et[tt]=Y[tt]);var vt=arguments.length-2;if(vt===1)et.children=st;else if(1<vt){for(var ce=Array(vt),zt=0;zt<vt;zt++)ce[zt]=arguments[zt+2];et.children=ce}if(D&&D.defaultProps)for(tt in vt=D.defaultProps,vt)et[tt]===void 0&&(et[tt]=vt[tt]);return M(D,Tt,void 0,void 0,null,et)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(D){return{$$typeof:g,render:D}},Et.isValidElement=A,Et.lazy=function(D){return{$$typeof:R,_payload:{_status:-1,_result:D},_init:ft}},Et.memo=function(D,Y){return{$$typeof:v,type:D,compare:Y===void 0?null:Y}},Et.startTransition=function(D){var Y=yt.T,st={};yt.T=st;try{var tt=D(),et=yt.S;et!==null&&et(st,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(jt,ot)}catch(Tt){ot(Tt)}finally{yt.T=Y}},Et.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},Et.use=function(D){return yt.H.use(D)},Et.useActionState=function(D,Y,st){return yt.H.useActionState(D,Y,st)},Et.useCallback=function(D,Y){return yt.H.useCallback(D,Y)},Et.useContext=function(D){return yt.H.useContext(D)},Et.useDebugValue=function(){},Et.useDeferredValue=function(D,Y){return yt.H.useDeferredValue(D,Y)},Et.useEffect=function(D,Y){return yt.H.useEffect(D,Y)},Et.useId=function(){return yt.H.useId()},Et.useImperativeHandle=function(D,Y,st){return yt.H.useImperativeHandle(D,Y,st)},Et.useInsertionEffect=function(D,Y){return yt.H.useInsertionEffect(D,Y)},Et.useLayoutEffect=function(D,Y){return yt.H.useLayoutEffect(D,Y)},Et.useMemo=function(D,Y){return yt.H.useMemo(D,Y)},Et.useOptimistic=function(D,Y){return yt.H.useOptimistic(D,Y)},Et.useReducer=function(D,Y,st){return yt.H.useReducer(D,Y,st)},Et.useRef=function(D){return yt.H.useRef(D)},Et.useState=function(D){return yt.H.useState(D)},Et.useSyncExternalStore=function(D,Y,st){return yt.H.useSyncExternalStore(D,Y,st)},Et.useTransition=function(){return yt.H.useTransition()},Et.version="19.0.0",Et}var Ip;function Yf(){return Ip||(Ip=1,af.exports=dE()),af.exports}var In=Yf(),sf={exports:{}},Ol={},rf={exports:{}},lf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function mE(){return Vp||(Vp=1,function(s){function e($,ft){var ot=$.length;$.push(ft);t:for(;0<ot;){var jt=ot-1>>>1,D=$[jt];if(0<u(D,ft))$[jt]=ft,$[ot]=D,ot=jt;else break t}}function i($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ft=$[0],ot=$.pop();if(ot!==ft){$[0]=ot;t:for(var jt=0,D=$.length,Y=D>>>1;jt<Y;){var st=2*(jt+1)-1,tt=$[st],et=st+1,Tt=$[et];if(0>u(tt,ot))et<D&&0>u(Tt,tt)?($[jt]=Tt,$[et]=ot,jt=et):($[jt]=tt,$[st]=ot,jt=st);else if(et<D&&0>u(Tt,ot))$[jt]=Tt,$[et]=ot,jt=et;else break t}}return ft}function u($,ft){var ot=$.sortIndex-ft.sortIndex;return ot!==0?ot:$.id-ft.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],R=1,U=null,j=3,Q=!1,J=!1,rt=!1,W=typeof setTimeout=="function"?setTimeout:null,Rt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function ht($){for(var ft=i(v);ft!==null;){if(ft.callback===null)r(v);else if(ft.startTime<=$)r(v),ft.sortIndex=ft.expirationTime,e(_,ft);else break;ft=i(v)}}function Ht($){if(rt=!1,ht($),!J)if(i(_)!==null)J=!0,ge();else{var ft=i(v);ft!==null&&ue(Ht,ft.startTime-$)}}var yt=!1,Ct=-1,M=5,b=-1;function A(){return!(s.unstable_now()-b<M)}function C(){if(yt){var $=s.unstable_now();b=$;var ft=!0;try{t:{J=!1,rt&&(rt=!1,Rt(Ct),Ct=-1),Q=!0;var ot=j;try{e:{for(ht($),U=i(_);U!==null&&!(U.expirationTime>$&&A());){var jt=U.callback;if(typeof jt=="function"){U.callback=null,j=U.priorityLevel;var D=jt(U.expirationTime<=$);if($=s.unstable_now(),typeof D=="function"){U.callback=D,ht($),ft=!0;break e}U===i(_)&&r(_),ht($)}else r(_);U=i(_)}if(U!==null)ft=!0;else{var Y=i(v);Y!==null&&ue(Ht,Y.startTime-$),ft=!1}}break t}finally{U=null,j=ot,Q=!1}ft=void 0}}finally{ft?V():yt=!1}}}var V;if(typeof mt=="function")V=function(){mt(C)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,w=N.port2;N.port1.onmessage=C,V=function(){w.postMessage(null)}}else V=function(){W(C,0)};function ge(){yt||(yt=!0,V())}function ue($,ft){Ct=W(function(){$(s.unstable_now())},ft)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function($){$.callback=null},s.unstable_continueExecution=function(){J||Q||(J=!0,ge())},s.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},s.unstable_getCurrentPriorityLevel=function(){return j},s.unstable_getFirstCallbackNode=function(){return i(_)},s.unstable_next=function($){switch(j){case 1:case 2:case 3:var ft=3;break;default:ft=j}var ot=j;j=ft;try{return $()}finally{j=ot}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function($,ft){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ot=j;j=$;try{return ft()}finally{j=ot}},s.unstable_scheduleCallback=function($,ft,ot){var jt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?jt+ot:jt):ot=jt,$){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ot+D,$={id:R++,callback:ft,priorityLevel:$,startTime:ot,expirationTime:D,sortIndex:-1},ot>jt?($.sortIndex=ot,e(v,$),i(_)===null&&$===i(v)&&(rt?(Rt(Ct),Ct=-1):rt=!0,ue(Ht,ot-jt))):($.sortIndex=D,e(_,$),J||Q||(J=!0,ge())),$},s.unstable_shouldYield=A,s.unstable_wrapCallback=function($){var ft=j;return function(){var ot=j;j=ft;try{return $.apply(this,arguments)}finally{j=ot}}}}(lf)),lf}var Op;function gE(){return Op||(Op=1,rf.exports=mE()),rf.exports}var of={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function pE(){if(Np)return je;Np=1;var s=Yf();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)v+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,R){var U=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:U==null?null:""+U,children:_,containerInfo:v,implementation:R}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,je.createPortal=function(_,v){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,R)},je.flushSync=function(_){var v=d.T,R=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=v,r.p=R,r.d.f()}},je.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},je.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},je.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var R=v.as,U=g(R,v.crossOrigin),j=typeof v.integrity=="string"?v.integrity:void 0,Q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;R==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:U,integrity:j,fetchPriority:Q}):R==="script"&&r.d.X(_,{crossOrigin:U,integrity:j,fetchPriority:Q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},je.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var R=g(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},je.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var R=v.as,U=g(R,v.crossOrigin);r.d.L(_,R,{crossOrigin:U,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},je.preloadModule=function(_,v){if(typeof _=="string")if(v){var R=g(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},je.requestFormReset=function(_){r.d.r(_)},je.unstable_batchedUpdates=function(_,v){return _(v)},je.useFormState=function(_,v,R){return d.H.useFormState(_,v,R)},je.useFormStatus=function(){return d.H.useHostTransitionStatus()},je.version="19.0.0",je}var Mp;function yE(){if(Mp)return of.exports;Mp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),of.exports=pE(),of.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function _E(){if(xp)return Ol;xp=1;var s=gE(),e=Yf(),i=yE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Rt=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),ht=Symbol.for("react.offscreen"),Ht=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function Ct(t){return t===null||typeof t!="object"?null:(t=yt&&t[yt]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function b(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case g:return"Portal";case R:return"Profiler";case v:return"StrictMode";case rt:return"Suspense";case W:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Q:return(t.displayName||"Context")+".Provider";case j:return(t._context.displayName||"Context")+".Consumer";case J:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rt:return n=t.displayName||null,n!==null?n:b(t.type)||"Memo";case mt:n=t._payload,t=t._init;try{return b(t(n))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,V,N;function w(t){if(V===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);V=n&&n[1]||"",N=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+t+N}var ge=!1;function ue(t,n){if(!t||ge)return"";ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var k=q}Reflect.construct(t,[],K)}else{try{K.call()}catch(q){k=q}t.call(K.prototype)}}else{try{throw Error()}catch(q){k=q}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&k&&typeof q.stack=="string")return[q.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var S=y.split(`
`),O=E.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===O.length)for(l=S.length-1,c=O.length-1;1<=l&&0<=c&&S[l]!==O[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==O[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==O[c]){var P=`
`+S[l].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=l&&0<=c);break}}}finally{ge=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?w(a):""}function $(t){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return t=ue(t.type,!1),t;case 11:return t=ue(t.type.render,!1),t;case 1:return t=ue(t.type,!0),t;default:return""}}function ft(t){try{var n="";do n+=$(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ot(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function jt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function D(t){if(ot(t)!==t)throw Error(r(188))}function Y(t){var n=t.alternate;if(!n){if(n=ot(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return D(c),t;if(f===l)return D(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function st(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=st(t),n!==null)return n;t=t.sibling}return null}var tt=Array.isArray,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt={pending:!1,data:null,method:null,action:null},vt=[],ce=-1;function zt(t){return{current:t}}function Wt(t){0>ce||(t.current=vt[ce],vt[ce]=null,ce--)}function Pt(t,n){ce++,vt[ce]=t.current,t.current=n}var Ge=zt(null),ai=zt(null),fn=zt(null),xi=zt(null);function Ui(t,n){switch(Pt(fn,n),Pt(ai,t),Pt(Ge,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?ep(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=ep(t),n=np(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Wt(Ge),Pt(Ge,n)}function si(){Wt(Ge),Wt(ai),Wt(fn)}function Rr(t){t.memoizedState!==null&&Pt(xi,t);var n=Ge.current,a=np(n,t.type);n!==a&&(Pt(ai,t),Pt(Ge,a))}function ys(t){ai.current===t&&(Wt(Ge),Wt(ai)),xi.current===t&&(Wt(xi),Rl._currentValue=Tt)}var _s=Object.prototype.hasOwnProperty,Va=s.unstable_scheduleCallback,vs=s.unstable_cancelCallback,ac=s.unstable_shouldYield,wr=s.unstable_requestPaint,$e=s.unstable_now,$l=s.unstable_getCurrentPriorityLevel,pe=s.unstable_ImmediatePriority,be=s.unstable_UserBlockingPriority,ri=s.unstable_NormalPriority,Jl=s.unstable_LowPriority,Cr=s.unstable_IdlePriority,sc=s.log,Oa=s.unstable_setDisableYieldValue,zi=null,ke=null;function Dr(t){if(ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(zi,t,void 0,(t.current.flags&128)===128)}catch{}}function zn(t){if(typeof sc=="function"&&Oa(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(zi,t)}catch{}}var Qe=Math.clz32?Math.clz32:to,Ir=Math.log,Wl=Math.LN2;function to(t){return t>>>=0,t===0?32:31-(Ir(t)/Wl|0)|0}var Ln=128,Li=4194304;function Vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dn(t,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~c,a!==0?l=Vn(a):(f&=E,f!==0?l=Vn(f):t||(y=E&~y,y!==0&&(l=Vn(y))))):(E=a&~c,E!==0?l=Vn(E):f!==0?l=Vn(f):t||(y=a&~y,y!==0&&(l=Vn(y)))),l===0?0:n!==0&&n!==l&&(n&c)===0&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function ki(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Es(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vr(){var t=Ln;return Ln<<=1,(Ln&4194176)===0&&(Ln=128),t}function Bi(){var t=Li;return Li<<=1,(Li&62914560)===0&&(Li=4194304),t}function Ts(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function se(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function eo(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,S=t.expirationTimes,O=t.hiddenUpdates;for(a=y&~a;0<a;){var P=31-Qe(a),K=1<<P;E[P]=0,S[P]=-1;var k=O[P];if(k!==null)for(O[P]=null,P=0;P<k.length;P++){var q=k[P];q!==null&&(q.lane&=-536870913)}a&=~K}l!==0&&ji(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function ji(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function qi(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Qe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function no(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function io(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Ep(t.type))}function Pi(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var kn=Math.random().toString(36).slice(2),Re="__reactFiber$"+kn,ye="__reactProps$"+kn,li="__reactContainer$"+kn,Na="__reactEvents$"+kn,As="__reactListeners$"+kn,Bn="__reactHandles$"+kn,Or="__reactResources$"+kn,Hi="__reactMarker$"+kn;function Ma(t){delete t[Re],delete t[ye],delete t[Na],delete t[As],delete t[Bn]}function On(t){var n=t[Re];if(n)return n;for(var a=t.parentNode;a;){if(n=a[li]||a[Re]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=sp(t);t!==null;){if(a=t[Re])return a;t=sp(t)}return n}t=a,a=t.parentNode}return null}function oi(t){if(t=t[Re]||t[li]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Gi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Qi(t){var n=t[Or];return n||(n=t[Or]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Xt(t){t[Hi]=!0}var Nr=new Set,Ss={};function an(t,n){Je(t,n),Je(t+"Capture",n)}function Je(t,n){for(Ss[t]=n,t=0;t<n.length;t++)Nr.add(n[t])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mr={},xr={};function ao(t){return _s.call(xr,t)?!0:_s.call(Mr,t)?!1:rc.test(t)?xr[t]=!0:(Mr[t]=!0,!1)}function Fi(t,n,a){if(ao(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Ki(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function mn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Fe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function so(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function lc(t){var n=so(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function xa(t){t._valueTracker||(t._valueTracker=lc(t))}function Ur(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=so(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function bs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ui=/[\n"\\]/g;function te(t){return t.replace(ui,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Yi(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Fe(n)):t.value!==""+Fe(n)&&(t.value=""+Fe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Rs(t,y,Fe(n)):a!=null?Rs(t,y,Fe(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Fe(E):t.removeAttribute("name")}function Ua(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Fe(a):"",n=n!=null?""+Fe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Rs(t,n,a){n==="number"&&bs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Lt(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Fe(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function za(t,n,a){if(n!=null&&(n=""+Fe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Fe(a):""}function Xi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(tt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Fe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var oc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||oc.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function ro(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&zr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&zr(t,f,n[f])}function Lr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jn(t){return cc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var pn=null;function ws(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ci=null,hi=null;function fi(t){var n=oi(t);if(n&&(t=n.stateNode)){var a=t[ye]||null;t:switch(t=n.stateNode,n.type){case"input":if(Yi(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+te(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[ye]||null;if(!c)throw Error(r(90));Yi(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ur(l)}break t;case"textarea":za(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Lt(t,!!a.multiple,n,!1)}}}var kr=!1;function lo(t,n,a){if(kr)return t(n,a);kr=!0;try{var l=t(n);return l}finally{if(kr=!1,(ci!==null||hi!==null)&&(Wo(),ci&&(n=ci,t=hi,hi=ci=null,fi(n),t)))for(n=0;n<t.length;n++)fi(t[n])}}function La(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ye]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var yn=!1;if(sn)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){yn=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{yn=!1}var qn=null,Zi=null,di=null;function Br(){if(di)return di;var t,n=Zi,a=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return di=c.slice(t,1<l?1-l:void 0)}function Pn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Hn(){return!0}function jr(){return!1}function we(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hn:jr,this.isPropagationStopped=jr,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cs=we(qt),Ba=C({},qt,{view:0,detail:0}),oo=we(Ba),Ds,Is,Gn,ja=C({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gn&&(Gn&&t.type==="mousemove"?(Ds=t.screenX-Gn.screenX,Is=t.screenY-Gn.screenY):Is=Ds=0,Gn=t),Ds)},movementY:function(t){return"movementY"in t?t.movementY:Is}}),_n=we(ja),uo=C({},ja,{dataTransfer:0}),hc=we(uo),qa=C({},Ba,{relatedTarget:0}),Vs=we(qa),qr=C({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Os=we(qr),co=C({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ns=we(co),fc=C({},qt,{data:0}),Pr=we(fc),Pa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ho={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hr(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=fo[t])?!!n[t]:!1}function Ha(){return Hr}var mo=C({},Ba,{key:function(t){if(t.key){var n=Pa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Pn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ho[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(t){return t.type==="keypress"?Pn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ms=we(mo),go=C({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gr=we(go),mi=C({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),po=we(mi),yo=C({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),_o=we(yo),vo=C({},ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xs=we(vo),Ke=C({},qt,{newState:0,oldState:0}),Eo=we(Ke),To=[9,13,27,32],Qn=sn&&"CompositionEvent"in window,o=null;sn&&"documentMode"in document&&(o=document.documentMode);var m=sn&&"TextEvent"in window&&!o,p=sn&&(!Qn||o&&8<o&&11>=o),T=" ",z=!1;function B(t,n){switch(t){case"keyup":return To.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dt=!1;function _e(t,n){switch(t){case"compositionend":return X(n);case"keypress":return n.which!==32?null:(z=!0,T);case"textInput":return t=n.data,t===T&&z?null:t;default:return null}}function It(t,n){if(Dt)return t==="compositionend"||!Qn&&B(t,n)?(t=Br(),di=Zi=qn=null,Dt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function gi(t,n,a,l){ci?hi?hi.push(l):hi=[l]:ci=l,n=au(n,"onChange"),0<n.length&&(a=new Cs("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ne=null,Fn=null;function Qr(t){Zg(t,0)}function Ao(t){var n=Gi(t);if(Ur(n))return t}function Rd(t,n){if(t==="change")return n}var wd=!1;if(sn){var dc;if(sn){var mc="oninput"in document;if(!mc){var Cd=document.createElement("div");Cd.setAttribute("oninput","return;"),mc=typeof Cd.oninput=="function"}dc=mc}else dc=!1;wd=dc&&(!document.documentMode||9<document.documentMode)}function Dd(){Ne&&(Ne.detachEvent("onpropertychange",Id),Fn=Ne=null)}function Id(t){if(t.propertyName==="value"&&Ao(Fn)){var n=[];gi(n,Fn,t,ws(t)),lo(Qr,n)}}function qv(t,n,a){t==="focusin"?(Dd(),Ne=n,Fn=a,Ne.attachEvent("onpropertychange",Id)):t==="focusout"&&Dd()}function Pv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ao(Fn)}function Hv(t,n){if(t==="click")return Ao(n)}function Gv(t,n){if(t==="input"||t==="change")return Ao(n)}function Qv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var rn=typeof Object.is=="function"?Object.is:Qv;function Fr(t,n){if(rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!_s.call(n,c)||!rn(t[c],n[c]))return!1}return!0}function Vd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Od(t,n){var a=Vd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Vd(a)}}function Nd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Nd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Md(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=bs(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=bs(t.document)}return n}function gc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Fv(t,n){var a=Md(n);n=t.focusedElem;var l=t.selectionRange;if(a!==n&&n&&n.ownerDocument&&Nd(n.ownerDocument.documentElement,n)){if(l!==null&&gc(n)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(a,n.value.length);else if(a=(t=n.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!a.extend&&f>l&&(c=l,l=f,f=c),c=Od(n,f);var y=Od(n,l);c&&y&&(a.rangeCount!==1||a.anchorNode!==c.node||a.anchorOffset!==c.offset||a.focusNode!==y.node||a.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),a.removeAllRanges(),f>l?(a.addRange(t),a.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),a.addRange(t)))}}for(t=[],a=n;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)a=t[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Kv=sn&&"documentMode"in document&&11>=document.documentMode,Us=null,pc=null,Kr=null,yc=!1;function xd(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yc||Us==null||Us!==bs(l)||(l=Us,"selectionStart"in l&&gc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Kr&&Fr(Kr,l)||(Kr=l,l=au(pc,"onSelect"),0<l.length&&(n=new Cs("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Us)))}function Ga(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var zs={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionrun:Ga("Transition","TransitionRun"),transitionstart:Ga("Transition","TransitionStart"),transitioncancel:Ga("Transition","TransitionCancel"),transitionend:Ga("Transition","TransitionEnd")},_c={},Ud={};sn&&(Ud=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Qa(t){if(_c[t])return _c[t];if(!zs[t])return t;var n=zs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Ud)return _c[t]=n[a];return t}var zd=Qa("animationend"),Ld=Qa("animationiteration"),kd=Qa("animationstart"),Yv=Qa("transitionrun"),Xv=Qa("transitionstart"),Zv=Qa("transitioncancel"),Bd=Qa("transitionend"),jd=new Map,qd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Nn(t,n){jd.set(t,n),an(n,[t])}var vn=[],Ls=0,vc=0;function So(){for(var t=Ls,n=vc=Ls=0;n<t;){var a=vn[n];vn[n++]=null;var l=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Pd(a,c,f)}}function bo(t,n,a,l){vn[Ls++]=t,vn[Ls++]=n,vn[Ls++]=a,vn[Ls++]=l,vc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ec(t,n,a,l){return bo(t,n,a,l),Ro(t)}function $i(t,n){return bo(t,null,null,n),Ro(t)}function Pd(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Qe(a),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=a|536870912)}function Ro(t){if(50<_l)throw _l=0,wh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ks={},Hd=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var a=Hd.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ft(n)},Hd.set(t,n),n)}return{value:t,source:n,stack:ft(n)}}var Bs=[],js=0,wo=null,Co=0,Tn=[],An=0,Fa=null,pi=1,yi="";function Ka(t,n){Bs[js++]=Co,Bs[js++]=wo,wo=t,Co=n}function Gd(t,n,a){Tn[An++]=pi,Tn[An++]=yi,Tn[An++]=Fa,Fa=t;var l=pi;t=yi;var c=32-Qe(l)-1;l&=~(1<<c),a+=1;var f=32-Qe(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,pi=1<<32-Qe(n)+c|a<<c|l,yi=f+t}else pi=1<<f|a<<c|l,yi=t}function Tc(t){t.return!==null&&(Ka(t,1),Gd(t,1,0))}function Ac(t){for(;t===wo;)wo=Bs[--js],Bs[js]=null,Co=Bs[--js],Bs[js]=null;for(;t===Fa;)Fa=Tn[--An],Tn[An]=null,yi=Tn[--An],Tn[An]=null,pi=Tn[--An],Tn[An]=null}var Ye=null,Me=null,kt=!1,Mn=null,Kn=!1,Sc=Error(r(519));function Ya(t){var n=Error(r(418,""));throw Zr(En(n,t)),Sc}function Qd(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Re]=t,n[ye]=l,a){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(a=0;a<El.length;a++)wt(El[a],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),Ua(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),xa(n);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),Xi(n,l.value,l.defaultValue,l.children),xa(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||tp(n.textContent,a)?(l.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),l.onScroll!=null&&wt("scroll",n),l.onScrollEnd!=null&&wt("scrollend",n),l.onClick!=null&&(n.onclick=su),n=!0):n=!1,n||Ya(t)}function Fd(t){for(Ye=t.return;Ye;)switch(Ye.tag){case 3:case 27:Kn=!0;return;case 5:case 13:Kn=!1;return;default:Ye=Ye.return}}function Yr(t){if(t!==Ye)return!1;if(!kt)return Fd(t),kt=!0,!1;var n=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hh(t.type,t.memoizedProps)),a=!a),a&&(n=!0),n&&Me&&Ya(t),Fd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Me=Un(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Me=null}}else Me=Ye?Un(t.stateNode.nextSibling):null;return!0}function Xr(){Me=Ye=null,kt=!1}function Zr(t){Mn===null?Mn=[t]:Mn.push(t)}var $r=Error(r(460)),Kd=Error(r(474)),bc={then:function(){}};function Yd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Do(){}function Xd(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Do,Do),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===$r?Error(r(483)):t;default:if(typeof n.status=="string")n.then(Do,Do);else{if(t=Kt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===$r?Error(r(483)):t}throw Jr=n,$r}}var Jr=null;function Zd(){if(Jr===null)throw Error(r(459));var t=Jr;return Jr=null,t}var qs=null,Wr=0;function Io(t){var n=Wr;return Wr+=1,qs===null&&(qs=[]),Xd(qs,t,n)}function tl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Vo(t,n){throw n.$$typeof===h?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function $d(t){var n=t._init;return n(t._payload)}function Jd(t){function n(x,I){if(t){var L=x.deletions;L===null?(x.deletions=[I],x.flags|=16):L.push(I)}}function a(x,I){if(!t)return null;for(;I!==null;)n(x,I),I=I.sibling;return null}function l(x){for(var I=new Map;x!==null;)x.key!==null?I.set(x.key,x):I.set(x.index,x),x=x.sibling;return I}function c(x,I){return x=ua(x,I),x.index=0,x.sibling=null,x}function f(x,I,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<I?(x.flags|=33554434,I):L):(x.flags|=33554434,I)):(x.flags|=1048576,I)}function y(x){return t&&x.alternate===null&&(x.flags|=33554434),x}function E(x,I,L,G){return I===null||I.tag!==6?(I=_h(L,x.mode,G),I.return=x,I):(I=c(I,L),I.return=x,I)}function S(x,I,L,G){var it=L.type;return it===_?P(x,I,L.props.children,G,L.key):I!==null&&(I.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===mt&&$d(it)===I.type)?(I=c(I,L.props),tl(I,L),I.return=x,I):(I=Yo(L.type,L.key,L.props,null,x.mode,G),tl(I,L),I.return=x,I)}function O(x,I,L,G){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=vh(L,x.mode,G),I.return=x,I):(I=c(I,L.children||[]),I.return=x,I)}function P(x,I,L,G,it){return I===null||I.tag!==7?(I=as(L,x.mode,G,it),I.return=x,I):(I=c(I,L),I.return=x,I)}function K(x,I,L){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=_h(""+I,x.mode,L),I.return=x,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case d:return L=Yo(I.type,I.key,I.props,null,x.mode,L),tl(L,I),L.return=x,L;case g:return I=vh(I,x.mode,L),I.return=x,I;case mt:var G=I._init;return I=G(I._payload),K(x,I,L)}if(tt(I)||Ct(I))return I=as(I,x.mode,L,null),I.return=x,I;if(typeof I.then=="function")return K(x,Io(I),L);if(I.$$typeof===Q)return K(x,Qo(x,I),L);Vo(x,I)}return null}function k(x,I,L,G){var it=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return it!==null?null:E(x,I,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case d:return L.key===it?S(x,I,L,G):null;case g:return L.key===it?O(x,I,L,G):null;case mt:return it=L._init,L=it(L._payload),k(x,I,L,G)}if(tt(L)||Ct(L))return it!==null?null:P(x,I,L,G,null);if(typeof L.then=="function")return k(x,I,Io(L),G);if(L.$$typeof===Q)return k(x,I,Qo(x,L),G);Vo(x,L)}return null}function q(x,I,L,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(L)||null,E(I,x,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return x=x.get(G.key===null?L:G.key)||null,S(I,x,G,it);case g:return x=x.get(G.key===null?L:G.key)||null,O(I,x,G,it);case mt:var St=G._init;return G=St(G._payload),q(x,I,L,G,it)}if(tt(G)||Ct(G))return x=x.get(L)||null,P(I,x,G,it,null);if(typeof G.then=="function")return q(x,I,L,Io(G),it);if(G.$$typeof===Q)return q(x,I,L,Qo(I,G),it);Vo(I,G)}return null}function at(x,I,L,G){for(var it=null,St=null,lt=I,ct=I=0,Ve=null;lt!==null&&ct<L.length;ct++){lt.index>ct?(Ve=lt,lt=null):Ve=lt.sibling;var Bt=k(x,lt,L[ct],G);if(Bt===null){lt===null&&(lt=Ve);break}t&&lt&&Bt.alternate===null&&n(x,lt),I=f(Bt,I,ct),St===null?it=Bt:St.sibling=Bt,St=Bt,lt=Ve}if(ct===L.length)return a(x,lt),kt&&Ka(x,ct),it;if(lt===null){for(;ct<L.length;ct++)lt=K(x,L[ct],G),lt!==null&&(I=f(lt,I,ct),St===null?it=lt:St.sibling=lt,St=lt);return kt&&Ka(x,ct),it}for(lt=l(lt);ct<L.length;ct++)Ve=q(lt,x,ct,L[ct],G),Ve!==null&&(t&&Ve.alternate!==null&&lt.delete(Ve.key===null?ct:Ve.key),I=f(Ve,I,ct),St===null?it=Ve:St.sibling=Ve,St=Ve);return t&&lt.forEach(function(pa){return n(x,pa)}),kt&&Ka(x,ct),it}function gt(x,I,L,G){if(L==null)throw Error(r(151));for(var it=null,St=null,lt=I,ct=I=0,Ve=null,Bt=L.next();lt!==null&&!Bt.done;ct++,Bt=L.next()){lt.index>ct?(Ve=lt,lt=null):Ve=lt.sibling;var pa=k(x,lt,Bt.value,G);if(pa===null){lt===null&&(lt=Ve);break}t&&lt&&pa.alternate===null&&n(x,lt),I=f(pa,I,ct),St===null?it=pa:St.sibling=pa,St=pa,lt=Ve}if(Bt.done)return a(x,lt),kt&&Ka(x,ct),it;if(lt===null){for(;!Bt.done;ct++,Bt=L.next())Bt=K(x,Bt.value,G),Bt!==null&&(I=f(Bt,I,ct),St===null?it=Bt:St.sibling=Bt,St=Bt);return kt&&Ka(x,ct),it}for(lt=l(lt);!Bt.done;ct++,Bt=L.next())Bt=q(lt,x,ct,Bt.value,G),Bt!==null&&(t&&Bt.alternate!==null&&lt.delete(Bt.key===null?ct:Bt.key),I=f(Bt,I,ct),St===null?it=Bt:St.sibling=Bt,St=Bt);return t&&lt.forEach(function(cE){return n(x,cE)}),kt&&Ka(x,ct),it}function ie(x,I,L,G){if(typeof L=="object"&&L!==null&&L.type===_&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case d:t:{for(var it=L.key;I!==null;){if(I.key===it){if(it=L.type,it===_){if(I.tag===7){a(x,I.sibling),G=c(I,L.props.children),G.return=x,x=G;break t}}else if(I.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===mt&&$d(it)===I.type){a(x,I.sibling),G=c(I,L.props),tl(G,L),G.return=x,x=G;break t}a(x,I);break}else n(x,I);I=I.sibling}L.type===_?(G=as(L.props.children,x.mode,G,L.key),G.return=x,x=G):(G=Yo(L.type,L.key,L.props,null,x.mode,G),tl(G,L),G.return=x,x=G)}return y(x);case g:t:{for(it=L.key;I!==null;){if(I.key===it)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){a(x,I.sibling),G=c(I,L.children||[]),G.return=x,x=G;break t}else{a(x,I);break}else n(x,I);I=I.sibling}G=vh(L,x.mode,G),G.return=x,x=G}return y(x);case mt:return it=L._init,L=it(L._payload),ie(x,I,L,G)}if(tt(L))return at(x,I,L,G);if(Ct(L)){if(it=Ct(L),typeof it!="function")throw Error(r(150));return L=it.call(L),gt(x,I,L,G)}if(typeof L.then=="function")return ie(x,I,Io(L),G);if(L.$$typeof===Q)return ie(x,I,Qo(x,L),G);Vo(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,I!==null&&I.tag===6?(a(x,I.sibling),G=c(I,L),G.return=x,x=G):(a(x,I),G=_h(L,x.mode,G),G.return=x,x=G),y(x)):a(x,I)}return function(x,I,L,G){try{Wr=0;var it=ie(x,I,L,G);return qs=null,it}catch(lt){if(lt===$r)throw lt;var St=wn(29,lt,null,x.mode);return St.lanes=G,St.return=x,St}finally{}}}var Xa=Jd(!0),Wd=Jd(!1),Ps=zt(null),Oo=zt(0);function tm(t,n){t=Di,Pt(Oo,t),Pt(Ps,n),Di=t|n.baseLanes}function Rc(){Pt(Oo,Di),Pt(Ps,Ps.current)}function wc(){Di=Oo.current,Wt(Ps),Wt(Oo)}var Sn=zt(null),Yn=null;function Ji(t){var n=t.alternate;Pt(Ee,Ee.current&1),Pt(Sn,t),Yn===null&&(n===null||Ps.current!==null||n.memoizedState!==null)&&(Yn=t)}function em(t){if(t.tag===22){if(Pt(Ee,Ee.current),Pt(Sn,t),Yn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Yn=t)}}else Wi()}function Wi(){Pt(Ee,Ee.current),Pt(Sn,Sn.current)}function _i(t){Wt(Sn),Yn===t&&(Yn=null),Wt(Ee)}var Ee=zt(0);function No(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $v=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Jv=s.unstable_scheduleCallback,Wv=s.unstable_NormalPriority,Te={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cc(){return{controller:new $v,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&Jv(Wv,function(){t.controller.abort()})}var nl=null,Dc=0,Hs=0,Gs=null;function t0(t,n){if(nl===null){var a=nl=[];Dc=0,Hs=xh(),Gs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Dc++,n.then(nm,nm),n}function nm(){if(--Dc===0&&nl!==null){Gs!==null&&(Gs.status="fulfilled");var t=nl;nl=null,Hs=0,Gs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function e0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var im=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&t0(t,n),im!==null&&im(t,n)};var Za=zt(null);function Ic(){var t=Za.current;return t!==null?t:Kt.pooledCache}function Mo(t,n){n===null?Pt(Za,Za.current):Pt(Za,n.pool)}function am(){var t=Ic();return t===null?null:{parent:Te._currentValue,pool:t}}var ta=0,At=null,Gt=null,he=null,xo=!1,Qs=!1,$a=!1,Uo=0,il=0,Fs=null,n0=0;function re(){throw Error(r(321))}function Vc(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!rn(t[a],n[a]))return!1;return!0}function Oc(t,n,a,l,c,f){return ta=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?Ja:ea,$a=!1,f=a(l,c),$a=!1,Qs&&(f=rm(n,a,l,c)),sm(t),f}function sm(t){A.H=Xn;var n=Gt!==null&&Gt.next!==null;if(ta=0,he=Gt=At=null,xo=!1,il=0,Fs=null,n)throw Error(r(300));t===null||De||(t=t.dependencies,t!==null&&Go(t)&&(De=!0))}function rm(t,n,a,l){At=t;var c=0;do{if(Qs&&(Fs=null),il=0,Qs=!1,25<=c)throw Error(r(301));if(c+=1,he=Gt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=Wa,f=n(a,l)}while(Qs);return f}function i0(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?al(n):n,t=t.useState()[0],(Gt!==null?Gt.memoizedState:null)!==t&&(At.flags|=1024),n}function Nc(){var t=Uo!==0;return Uo=0,t}function Mc(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function xc(t){if(xo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}xo=!1}ta=0,he=Gt=At=null,Qs=!1,il=Uo=0,Fs=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?At.memoizedState=he=t:he=he.next=t,he}function fe(){if(Gt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Gt.next;var n=he===null?At.memoizedState:he.next;if(n!==null)he=n,Gt=t;else{if(t===null)throw At.alternate===null?Error(r(467)):Error(r(310));Gt=t,t={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},he===null?At.memoizedState=he=t:he=he.next=t}return he}var zo;zo=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function al(t){var n=il;return il+=1,Fs===null&&(Fs=[]),t=Xd(Fs,t,n),n=At,(he===null?n.memoizedState:he.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?Ja:ea),t}function Lo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===Q)return Be(t)}throw Error(r(438,String(t)))}function Uc(t){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=zo(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=Ht;return n.index++,a}function vi(t,n){return typeof n=="function"?n(t):n}function ko(t){var n=fe();return zc(n,Gt,t)}function zc(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,S=null,O=n,P=!1;do{var K=O.lane&-536870913;if(K!==O.lane?(Vt&K)===K:(ta&K)===K){var k=O.revertLane;if(k===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),K===Hs&&(P=!0);else if((ta&k)===k){O=O.next,k===Hs&&(P=!0);continue}else K={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},S===null?(E=S=K,y=f):S=S.next=K,At.lanes|=k,ca|=k;K=O.action,$a&&a(f,K),f=O.hasEagerState?O.eagerState:a(f,K)}else k={lane:K,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},S===null?(E=S=k,y=f):S=S.next=k,At.lanes|=K,ca|=K;O=O.next}while(O!==null&&O!==n);if(S===null?y=f:S.next=E,!rn(f,t.memoizedState)&&(De=!0,P&&(a=Gs,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=S,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Lc(t){var n=fe(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);rn(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function lm(t,n,a){var l=At,c=fe(),f=kt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!rn((Gt||c).memoizedState,a);if(y&&(c.memoizedState=a,De=!0),c=c.queue,jc(cm.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||he!==null&&he.memoizedState.tag&1){if(l.flags|=2048,Ks(9,um.bind(null,l,c,a,n),{destroy:void 0},null),Kt===null)throw Error(r(349));f||(ta&60)!==0||om(l,n,a)}return a}function om(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=zo(),At.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function um(t,n,a,l){n.value=a,n.getSnapshot=l,hm(n)&&fm(t)}function cm(t,n,a){return a(function(){hm(n)&&fm(t)})}function hm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!rn(t,a)}catch{return!0}}function fm(t){var n=$i(t,2);n!==null&&Xe(n,t,2)}function kc(t){var n=We();if(typeof t=="function"){var a=t;if(t=a(),$a){zn(!0);try{a()}finally{zn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:t},n}function dm(t,n,a,l){return t.baseState=a,zc(t,Gt,typeof l=="function"?l:vi)}function a0(t,n,a,l,c){if(qo(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};A.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,mm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function mm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=A.T,y={};A.T=y;try{var E=a(c,l),S=A.S;S!==null&&S(y,E),gm(t,n,E)}catch(O){Bc(t,n,O)}finally{A.T=f}}else try{f=a(c,l),gm(t,n,f)}catch(O){Bc(t,n,O)}}function gm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){pm(t,n,l)},function(l){return Bc(t,n,l)}):pm(t,n,a)}function pm(t,n,a){n.status="fulfilled",n.value=a,ym(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,mm(t,a)))}function Bc(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,ym(n),n=n.next;while(n!==l)}t.action=null}function ym(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function _m(t,n){return n}function vm(t,n){if(kt){var a=Kt.formState;if(a!==null){t:{var l=At;if(kt){if(Me){e:{for(var c=Me,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Me=Un(c.nextSibling),l=c.data==="F!";break t}}Ya(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_m,lastRenderedState:n},a.queue=l,a=Lm.bind(null,At,l),l.dispatch=a,l=kc(!1),f=Qc.bind(null,At,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=a0.bind(null,At,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Em(t){var n=fe();return Tm(n,Gt,t)}function Tm(t,n,a){n=zc(t,n,_m)[0],t=ko(vi)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?al(n):n;var l=fe(),c=l.queue,f=c.dispatch;return a!==l.memoizedState&&(At.flags|=2048,Ks(9,s0.bind(null,c,a),{destroy:void 0},null)),[n,f,t]}function s0(t,n){t.action=n}function Am(t){var n=fe(),a=Gt;if(a!==null)return Tm(n,a,t);fe(),n=n.memoizedState,a=fe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Ks(t,n,a,l){return t={tag:t,create:n,inst:a,deps:l,next:null},n=At.updateQueue,n===null&&(n=zo(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Sm(){return fe().memoizedState}function Bo(t,n,a,l){var c=We();At.flags|=t,c.memoizedState=Ks(1|n,a,{destroy:void 0},l===void 0?null:l)}function jo(t,n,a,l){var c=fe();l=l===void 0?null:l;var f=c.memoizedState.inst;Gt!==null&&l!==null&&Vc(l,Gt.memoizedState.deps)?c.memoizedState=Ks(n,a,f,l):(At.flags|=t,c.memoizedState=Ks(1|n,a,f,l))}function bm(t,n){Bo(8390656,8,t,n)}function jc(t,n){jo(2048,8,t,n)}function Rm(t,n){return jo(4,2,t,n)}function wm(t,n){return jo(4,4,t,n)}function Cm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Dm(t,n,a){a=a!=null?a.concat([t]):null,jo(4,4,Cm.bind(null,n,t),a)}function qc(){}function Im(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Vc(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Vm(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Vc(n,l[1]))return l[0];if(l=t(),$a){zn(!0);try{t()}finally{zn(!1)}}return a.memoizedState=[l,n],l}function Pc(t,n,a){return a===void 0||(ta&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Ng(),At.lanes|=t,ca|=t,a)}function Om(t,n,a,l){return rn(a,n)?a:Ps.current!==null?(t=Pc(t,a,l),rn(t,n)||(De=!0),t):(ta&42)===0?(De=!0,t.memoizedState=a):(t=Ng(),At.lanes|=t,ca|=t,n)}function Nm(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=A.T,E={};A.T=E,Qc(t,!1,n,a);try{var S=c(),O=A.S;if(O!==null&&O(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var P=e0(S,l);sl(t,n,P,cn(t))}else sl(t,n,l,cn(t))}catch(K){sl(t,n,{then:function(){},status:"rejected",reason:K},cn())}finally{et.p=f,A.T=y}}function r0(){}function Hc(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=Mm(t).queue;Nm(t,c,n,Tt,a===null?r0:function(){return xm(t),a(l)})}function Mm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Tt,baseState:Tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:Tt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function xm(t){var n=Mm(t).next.queue;sl(t,n,{},cn())}function Gc(){return Be(Rl)}function Um(){return fe().memoizedState}function zm(){return fe().memoizedState}function l0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=cn();t=aa(a);var l=sa(n,t,a);l!==null&&(Xe(l,n,a),ol(l,n,a)),n={cache:Cc()},t.payload=n;return}n=n.return}}function o0(t,n,a){var l=cn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},qo(t)?km(n,a):(a=Ec(t,n,a,l),a!==null&&(Xe(a,t,l),Bm(a,n,l)))}function Lm(t,n,a){var l=cn();sl(t,n,a,l)}function sl(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(qo(t))km(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,rn(E,y))return bo(t,n,c,0),Kt===null&&So(),!1}catch{}finally{}if(a=Ec(t,n,c,l),a!==null)return Xe(a,t,l),Bm(a,n,l),!0}return!1}function Qc(t,n,a,l){if(l={lane:2,revertLane:xh(),action:l,hasEagerState:!1,eagerState:null,next:null},qo(t)){if(n)throw Error(r(479))}else n=Ec(t,a,l,2),n!==null&&Xe(n,t,2)}function qo(t){var n=t.alternate;return t===At||n!==null&&n===At}function km(t,n){Qs=xo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Bm(t,n,a){if((a&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,qi(t,a)}}var Xn={readContext:Be,use:Lo,useCallback:re,useContext:re,useEffect:re,useImperativeHandle:re,useLayoutEffect:re,useInsertionEffect:re,useMemo:re,useReducer:re,useRef:re,useState:re,useDebugValue:re,useDeferredValue:re,useTransition:re,useSyncExternalStore:re,useId:re};Xn.useCacheRefresh=re,Xn.useMemoCache=re,Xn.useHostTransitionStatus=re,Xn.useFormState=re,Xn.useActionState=re,Xn.useOptimistic=re;var Ja={readContext:Be,use:Lo,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:Be,useEffect:bm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Bo(4194308,4,Cm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Bo(4194308,4,t,n)},useInsertionEffect:function(t,n){Bo(4,2,t,n)},useMemo:function(t,n){var a=We();n=n===void 0?null:n;var l=t();if($a){zn(!0);try{t()}finally{zn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=We();if(a!==void 0){var c=a(n);if($a){zn(!0);try{a(n)}finally{zn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=o0.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=kc(t);var n=t.queue,a=Lm.bind(null,At,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:qc,useDeferredValue:function(t,n){var a=We();return Pc(a,t,n)},useTransition:function(){var t=kc(!1);return t=Nm.bind(null,At,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=At,c=We();if(kt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Kt===null)throw Error(r(349));(Vt&60)!==0||om(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,bm(cm.bind(null,l,f,t),[t]),l.flags|=2048,Ks(9,um.bind(null,l,f,a,n),{destroy:void 0},null),a},useId:function(){var t=We(),n=Kt.identifierPrefix;if(kt){var a=yi,l=pi;a=(l&~(1<<32-Qe(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=Uo++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=n0++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return We().memoizedState=l0.bind(null,At)}};Ja.useMemoCache=Uc,Ja.useHostTransitionStatus=Gc,Ja.useFormState=vm,Ja.useActionState=vm,Ja.useOptimistic=function(t){var n=We();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Qc.bind(null,At,!0,a),a.dispatch=n,[t,n]};var ea={readContext:Be,use:Lo,useCallback:Im,useContext:Be,useEffect:jc,useImperativeHandle:Dm,useInsertionEffect:Rm,useLayoutEffect:wm,useMemo:Vm,useReducer:ko,useRef:Sm,useState:function(){return ko(vi)},useDebugValue:qc,useDeferredValue:function(t,n){var a=fe();return Om(a,Gt.memoizedState,t,n)},useTransition:function(){var t=ko(vi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:lm,useId:Um};ea.useCacheRefresh=zm,ea.useMemoCache=Uc,ea.useHostTransitionStatus=Gc,ea.useFormState=Em,ea.useActionState=Em,ea.useOptimistic=function(t,n){var a=fe();return dm(a,Gt,t,n)};var Wa={readContext:Be,use:Lo,useCallback:Im,useContext:Be,useEffect:jc,useImperativeHandle:Dm,useInsertionEffect:Rm,useLayoutEffect:wm,useMemo:Vm,useReducer:Lc,useRef:Sm,useState:function(){return Lc(vi)},useDebugValue:qc,useDeferredValue:function(t,n){var a=fe();return Gt===null?Pc(a,t,n):Om(a,Gt.memoizedState,t,n)},useTransition:function(){var t=Lc(vi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:lm,useId:Um};Wa.useCacheRefresh=zm,Wa.useMemoCache=Uc,Wa.useHostTransitionStatus=Gc,Wa.useFormState=Am,Wa.useActionState=Am,Wa.useOptimistic=function(t,n){var a=fe();return Gt!==null?dm(a,Gt,t,n):(a.baseState=t,[t,a.queue.dispatch])};function Fc(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:C({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Kc={isMounted:function(t){return(t=t._reactInternals)?ot(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var l=cn(),c=aa(l);c.payload=n,a!=null&&(c.callback=a),n=sa(t,c,l),n!==null&&(Xe(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=cn(),c=aa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=sa(t,c,l),n!==null&&(Xe(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=cn(),l=aa(a);l.tag=2,n!=null&&(l.callback=n),n=sa(t,l,a),n!==null&&(Xe(n,t,a),ol(n,t,a))}};function jm(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Fr(a,l)||!Fr(c,f):!0}function qm(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Kc.enqueueReplaceState(n,n.state,null)}function ts(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=C({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Po=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Pm(t){Po(t)}function Hm(t){console.error(t)}function Gm(t){Po(t)}function Ho(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Qm(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Yc(t,n,a){return a=aa(a),a.tag=3,a.payload={element:null},a.callback=function(){Ho(t,n)},a}function Fm(t){return t=aa(t),t.tag=3,t}function Km(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Qm(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Qm(n,a,l),typeof c!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function u0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ll(n,a,c,!0),a=Sn.current,a!==null){switch(a.tag){case 13:return Yn===null?Ih():a.alternate===null&&ne===0&&(ne=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===bc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Oh(t,l,c)),!1;case 22:return a.flags|=65536,l===bc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Oh(t,l,c)),!1}throw Error(r(435,a.tag))}return Oh(t,l,c),Ih(),!1}if(kt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Sc&&(t=Error(r(422),{cause:l}),Zr(En(t,a)))):(l!==Sc&&(n=Error(r(423),{cause:l}),Zr(En(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,a),c=Yc(t.stateNode,l,c),uh(t,c),ne!==4&&(ne=2)),!1;var f=Error(r(520),{cause:l});if(f=En(f,a),pl===null?pl=[f]:pl.push(f),ne!==4&&(ne=2),n===null)return!0;l=En(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Yc(a.stateNode,l,t),uh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ha===null||!ha.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Fm(c),Km(c,t,a,l),uh(a,c),!1}a=a.return}while(a!==null);return!1}var Ym=Error(r(461)),De=!1;function xe(t,n,a,l){n.child=t===null?Wd(n,null,a,l):Xa(n,t.child,a,l)}function Xm(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ns(n),l=Oc(t,n,a,y,f,c),E=Nc(),t!==null&&!De?(Mc(t,n,c),Ei(t,n,c)):(kt&&E&&Tc(n),n.flags|=1,xe(t,n,l,c),n.child)}function Zm(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!yh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,$m(t,n,f,l,c)):(t=Yo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!ih(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Fr,a(y,l)&&t.ref===n.ref)return Ei(t,n,c)}return n.flags|=1,t=ua(f,l),t.ref=n.ref,t.return=n,n.child=t}function $m(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Fr(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,ih(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Ei(t,n,c)}return Xc(t,n,a,l,c)}function Jm(t,n,a){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(rl(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=y!==null?y.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Wm(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mo(n,y!==null?y.cachePool:null),y!==null?tm(n,y):Rc(),em(n);else return n.lanes=n.childLanes=536870912,Wm(t,n,y!==null?y.baseLanes|a:a,a)}else y!==null?(Mo(n,y.cachePool),tm(n,y),Wi(),n.memoizedState=null):(t!==null&&Mo(n,null),Rc(),Wi());return xe(t,n,c,a),n.child}function Wm(t,n,a,l){var c=Ic();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Mo(n,null),Rc(),em(n),t!==null&&ll(t,n,l,!0),null}function rl(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=2097664)}}function Xc(t,n,a,l,c){return ns(n),a=Oc(t,n,a,l,void 0,c),l=Nc(),t!==null&&!De?(Mc(t,n,c),Ei(t,n,c)):(kt&&l&&Tc(n),n.flags|=1,xe(t,n,a,c),n.child)}function tg(t,n,a,l,c,f){return ns(n),n.updateQueue=null,a=rm(n,l,a,c),sm(t),l=Nc(),t!==null&&!De?(Mc(t,n,f),Ei(t,n,f)):(kt&&l&&Tc(n),n.flags|=1,xe(t,n,a,f),n.child)}function eg(t,n,a,l,c){if(ns(n),n.stateNode===null){var f=ks,y=a.contextType;typeof y=="object"&&y!==null&&(f=Be(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Kc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},lh(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?Be(y):ks,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Fc(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Kc.enqueueReplaceState(f,f.state,null),cl(n,l,f,c),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,S=ts(a,E);f.props=S;var O=f.context,P=a.contextType;y=ks,typeof P=="object"&&P!==null&&(y=Be(P));var K=a.getDerivedStateFromProps;P=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,P||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||O!==y)&&qm(n,f,l,y),ia=!1;var k=n.memoizedState;f.state=k,cl(n,l,f,c),ul(),O=n.memoizedState,E||k!==O||ia?(typeof K=="function"&&(Fc(n,a,K,l),O=n.memoizedState),(S=ia||jm(n,a,S,l,k,O,y))?(P||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=O),f.props=l,f.state=O,f.context=y,l=S):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,oh(t,n),y=n.memoizedProps,P=ts(a,y),f.props=P,K=n.pendingProps,k=f.context,O=a.contextType,S=ks,typeof O=="object"&&O!==null&&(S=Be(O)),E=a.getDerivedStateFromProps,(O=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==K||k!==S)&&qm(n,f,l,S),ia=!1,k=n.memoizedState,f.state=k,cl(n,l,f,c),ul();var q=n.memoizedState;y!==K||k!==q||ia||t!==null&&t.dependencies!==null&&Go(t.dependencies)?(typeof E=="function"&&(Fc(n,a,E,l),q=n.memoizedState),(P=ia||jm(n,a,P,l,k,q,S)||t!==null&&t.dependencies!==null&&Go(t.dependencies))?(O||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,S)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=S,l=P):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,rl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Xa(n,t.child,null,c),n.child=Xa(n,null,a,c)):xe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ei(t,n,c),t}function ng(t,n,a,l){return Xr(),n.flags|=256,xe(t,n,a,l),n.child}var Zc={dehydrated:null,treeContext:null,retryLane:0};function $c(t){return{baseLanes:t,cachePool:am()}}function Jc(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Cn),t}function ig(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(kt){if(c?Ji(n):Wi(),kt){var E=Me,S;if(S=E){t:{for(S=E,E=Kn;S.nodeType!==8;){if(!E){E=null;break t}if(S=Un(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(n.memoizedState={dehydrated:E,treeContext:Fa!==null?{id:pi,overflow:yi}:null,retryLane:536870912},S=wn(18,null,null,0),S.stateNode=E,S.return=n,n.child=S,Ye=n,Me=null,S=!0):S=!1}S||Ya(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;_i(n)}return E=l.children,l=l.fallback,c?(Wi(),c=n.mode,E=th({mode:"hidden",children:E},c),l=as(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=$c(a),c.childLanes=Jc(t,y,a),n.memoizedState=Zc,l):(Ji(n),Wc(n,E))}if(S=t.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(f)n.flags&256?(Ji(n),n.flags&=-257,n=eh(t,n,a)):n.memoizedState!==null?(Wi(),n.child=t.child,n.flags|=128,n=null):(Wi(),c=l.fallback,E=n.mode,l=th({mode:"visible",children:l.children},E),c=as(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Xa(n,t.child,null,a),l=n.child,l.memoizedState=$c(a),l.childLanes=Jc(t,y,a),n.memoizedState=Zc,n=c);else if(Ji(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var O=y.dgst;y=O,l=Error(r(419)),l.stack="",l.digest=y,Zr({value:l,source:null,stack:null}),n=eh(t,n,a)}else if(De||ll(t,n,a,!1),y=(a&t.childLanes)!==0,De||y){if(y=Kt,y!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==S.retryLane)throw S.retryLane=l,$i(t,l),Xe(y,t,l),Ym}E.data==="$?"||Ih(),n=eh(t,n,a)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=b0.bind(null,t),E._reactRetry=n,n=null):(t=S.treeContext,Me=Un(E.nextSibling),Ye=n,kt=!0,Mn=null,Kn=!1,t!==null&&(Tn[An++]=pi,Tn[An++]=yi,Tn[An++]=Fa,pi=t.id,yi=t.overflow,Fa=n),n=Wc(n,l.children),n.flags|=4096);return n}return c?(Wi(),c=l.fallback,E=n.mode,S=t.child,O=S.sibling,l=ua(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&31457280,O!==null?c=ua(O,c):(c=as(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=$c(a):(S=E.cachePool,S!==null?(O=Te._currentValue,S=S.parent!==O?{parent:O,pool:O}:S):S=am(),E={baseLanes:E.baseLanes|a,cachePool:S}),c.memoizedState=E,c.childLanes=Jc(t,y,a),n.memoizedState=Zc,l):(Ji(n),a=t.child,t=a.sibling,a=ua(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Wc(t,n){return n=th({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function th(t,n){return Ig(t,n,0,null)}function eh(t,n,a){return Xa(n,t.child,null,a),t=Wc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ag(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),sh(t.return,n,a)}function nh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function sg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,a),l=Ee.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ag(t,a,n);else if(t.tag===19)ag(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Pt(Ee,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&No(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),nh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&No(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}nh(n,!0,a,null,f);break;case"together":nh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ei(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ca|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ll(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=ua(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ua(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function ih(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Go(t)))}function c0(t,n,a){switch(n.tag){case 3:Ui(n,n.stateNode.containerInfo),na(n,Te,t.memoizedState.cache),Xr();break;case 27:case 5:Rr(n);break;case 4:Ui(n,n.stateNode.containerInfo);break;case 10:na(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ji(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ig(t,n,a):(Ji(n),t=Ei(t,n,a),t!==null?t.sibling:null);Ji(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ll(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return sg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Pt(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,Jm(t,n,a);case 24:na(n,Te,t.memoizedState.cache)}return Ei(t,n,a)}function rg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!ih(t,a)&&(n.flags&128)===0)return De=!1,c0(t,n,a);De=(t.flags&131072)!==0}else De=!1,kt&&(n.flags&1048576)!==0&&Gd(n,Co,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")yh(l)?(t=ts(l,t),n.tag=1,n=eg(null,n,l,t,a)):(n.tag=0,n=Xc(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===J){n.tag=11,n=Xm(null,n,l,t,a);break t}else if(c===Rt){n.tag=14,n=Zm(null,n,l,t,a);break t}}throw n=b(l)||l,Error(r(306,n,""))}}return n;case 0:return Xc(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ts(l,n.pendingProps),eg(t,n,l,c,a);case 3:t:{if(Ui(n,n.stateNode.containerInfo),t===null)throw Error(r(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,oh(t,n),cl(n,f,null,a);var y=n.memoizedState;if(f=y.cache,na(n,Te,f),f!==c.cache&&rh(n,[Te],a,!0),ul(),f=y.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=ng(t,n,f,a);break t}else if(f!==l){l=En(Error(r(424)),n),Zr(l),n=ng(t,n,f,a);break t}else for(Me=Un(n.stateNode.containerInfo.firstChild),Ye=n,kt=!0,Mn=null,Kn=!0,a=Wd(n,null,f,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Xr(),f===l){n=Ei(t,n,a);break t}xe(t,n,f,a)}n=n.child}return n;case 26:return rl(t,n),t===null?(a=up(n.type,null,n.pendingProps,null))?n.memoizedState=a:kt||(a=n.type,t=n.pendingProps,l=ru(fn.current).createElement(a),l[Re]=n,l[ye]=t,Ue(l,a,t),Xt(l),n.stateNode=l):n.memoizedState=up(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Rr(n),t===null&&kt&&(l=n.stateNode=rp(n.type,n.pendingProps,fn.current),Ye=n,Kn=!0,Me=Un(l.firstChild)),l=n.pendingProps.children,t!==null||kt?xe(t,n,l,a):n.child=Xa(n,null,l,a),rl(t,n),n.child;case 5:return t===null&&kt&&((c=l=Me)&&(l=j0(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Ye=n,Me=Un(l.firstChild),Kn=!1,c=!0):c=!1),c||Ya(n)),Rr(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Hh(c,f)?l=null:y!==null&&Hh(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Oc(t,n,i0,null,null,a),Rl._currentValue=c),rl(t,n),xe(t,n,l,a),n.child;case 6:return t===null&&kt&&((t=a=Me)&&(a=q0(a,n.pendingProps,Kn),a!==null?(n.stateNode=a,Ye=n,Me=null,t=!0):t=!1),t||Ya(n)),null;case 13:return ig(t,n,a);case 4:return Ui(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Xa(n,null,l,a):xe(t,n,l,a),n.child;case 11:return Xm(t,n,n.type,n.pendingProps,a);case 7:return xe(t,n,n.pendingProps,a),n.child;case 8:return xe(t,n,n.pendingProps.children,a),n.child;case 12:return xe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,na(n,n.type,l.value),xe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ns(n),c=Be(c),l=l(c),n.flags|=1,xe(t,n,l,a),n.child;case 14:return Zm(t,n,n.type,n.pendingProps,a);case 15:return $m(t,n,n.type,n.pendingProps,a);case 19:return sg(t,n,a);case 22:return Jm(t,n,a);case 24:return ns(n),l=Be(Te),t===null?(c=Ic(),c===null&&(c=Kt,f=Cc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},lh(n),na(n,Te,c)):((t.lanes&a)!==0&&(oh(t,n),cl(n,null,null,a),ul()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),na(n,Te,l)):(l=f.cache,na(n,Te,l),l!==c.cache&&rh(n,[Te],a,!0))),xe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}var ah=zt(null),es=null,Ti=null;function na(t,n,a){Pt(ah,n._currentValue),n._currentValue=a}function Ai(t){t._currentValue=ah.current,Wt(ah)}function sh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function rh(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var S=0;S<n.length;S++)if(E.context===n[S]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),sh(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),sh(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ll(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=c.type;rn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===xi.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}c=c.return}t!==null&&rh(n,t,a,l),n.flags|=262144}function Go(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ns(t){es=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Be(t){return lg(es,t)}function Qo(t,n){return es===null&&ns(t),lg(t,n)}function lg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ti===null){if(t===null)throw Error(r(308));Ti=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ti=Ti.next=n;return a}var ia=!1;function lh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function aa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function sa(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($t&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ro(t),Pd(t,null,a),n}return bo(t,l,n,a),Ro(t)}function ol(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,qi(t,a)}}function uh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var ch=!1;function ul(){if(ch){var t=Gs;if(t!==null)throw t}}function cl(t,n,a,l){ch=!1;var c=t.updateQueue;ia=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var S=E,O=S.next;S.next=null,y===null?f=O:y.next=O,y=S;var P=t.alternate;P!==null&&(P=P.updateQueue,E=P.lastBaseUpdate,E!==y&&(E===null?P.firstBaseUpdate=O:E.next=O,P.lastBaseUpdate=S))}if(f!==null){var K=c.baseState;y=0,P=O=S=null,E=f;do{var k=E.lane&-536870913,q=k!==E.lane;if(q?(Vt&k)===k:(l&k)===k){k!==0&&k===Hs&&(ch=!0),P!==null&&(P=P.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=t,gt=E;k=n;var ie=a;switch(gt.tag){case 1:if(at=gt.payload,typeof at=="function"){K=at.call(ie,K,k);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=gt.payload,k=typeof at=="function"?at.call(ie,K,k):at,k==null)break t;K=C({},K,k);break t;case 2:ia=!0}}k=E.callback,k!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[k]:q.push(k))}else q={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},P===null?(O=P=q,S=K):P=P.next=q,y|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);P===null&&(S=K),c.baseState=S,c.firstBaseUpdate=O,c.lastBaseUpdate=P,f===null&&(c.shared.lanes=0),ca|=y,t.lanes=y,t.memoizedState=K}}function og(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function ug(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)og(a[t],n)}function hl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){Ft(n,n.return,E)}}function ra(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var S=a;try{E()}catch(O){Ft(c,S,O)}}}l=l.next}while(l!==f)}}catch(O){Ft(n,n.return,O)}}function cg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{ug(n,a)}catch(l){Ft(t,t.return,l)}}}function hg(t,n,a){a.props=ts(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ft(t,n,l)}}function is(t,n){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(f){Ft(t,n,f)}}function ln(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Ft(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ft(t,n,c)}else a.current=null}function fg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Ft(t,t.return,c)}}function dg(t,n,a){try{var l=t.stateNode;U0(l,t.type,a,n),l[ye]=n}catch(c){Ft(t,t.return,c)}}function mg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function hh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||mg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=su));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(fh(t,n,a),t=t.sibling;t!==null;)fh(t,n,a),t=t.sibling}function Fo(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Fo(t,n,a),t=t.sibling;t!==null;)Fo(t,n,a),t=t.sibling}var Si=!1,ee=!1,dh=!1,gg=typeof WeakSet=="function"?WeakSet:Set,Ie=null,pg=!1;function h0(t,n){if(t=t.containerInfo,qh=fu,t=Md(t),gc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,S=-1,O=0,P=0,K=t,k=null;e:for(;;){for(var q;K!==a||c!==0&&K.nodeType!==3||(E=y+c),K!==f||l!==0&&K.nodeType!==3||(S=y+l),K.nodeType===3&&(y+=K.nodeValue.length),(q=K.firstChild)!==null;)k=K,K=q;for(;;){if(K===t)break e;if(k===a&&++O===c&&(E=y),k===f&&++P===l&&(S=y),(q=K.nextSibling)!==null)break;K=k,k=K.parentNode}K=q}a=E===-1||S===-1?null:{start:E,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ph={focusedElem:t,selectionRange:a},fu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var at=ts(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(at,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Ft(a,a.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Fh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Fh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}return at=pg,pg=!1,at}function yg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ri(t,a),l&4&&hl(5,a);break;case 1:if(Ri(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(E){Ft(a,a.return,E)}else{var c=ts(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ft(a,a.return,E)}}l&64&&cg(a),l&512&&is(a,a.return);break;case 3:if(Ri(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ug(l,t)}catch(E){Ft(a,a.return,E)}}break;case 26:Ri(t,a),l&512&&is(a,a.return);break;case 27:case 5:Ri(t,a),n===null&&l&4&&fg(a),l&512&&is(a,a.return);break;case 12:Ri(t,a);break;case 13:Ri(t,a),l&4&&Eg(t,a);break;case 22:if(c=a.memoizedState!==null||Si,!c){n=n!==null&&n.memoizedState!==null||ee;var f=Si,y=ee;Si=c,(ee=n)&&!y?la(t,a,(a.subtreeFlags&8772)!==0):Ri(t,a),Si=f,ee=y}l&512&&(a.memoizedProps.mode==="manual"?is(a,a.return):ln(a,a.return));break;default:Ri(t,a)}}function _g(t){var n=t.alternate;n!==null&&(t.alternate=null,_g(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ma(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var de=null,on=!1;function bi(t,n,a){for(a=a.child;a!==null;)vg(t,n,a),a=a.sibling}function vg(t,n,a){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(zi,a)}catch{}switch(a.tag){case 26:ee||ln(a,n),bi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ee||ln(a,n);var l=de,c=on;for(de=a.stateNode,bi(t,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);Ma(a),de=l,on=c;break;case 5:ee||ln(a,n);case 6:c=de;var f=on;if(de=null,bi(t,n,a),de=c,on=f,de!==null)if(on)try{t=de,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Ft(a,n,y)}else try{de.removeChild(a.stateNode)}catch(y){Ft(a,n,y)}break;case 18:de!==null&&(on?(n=de,a=a.stateNode,n.nodeType===8?Qh(n.parentNode,a):n.nodeType===1&&Qh(n,a),Il(n)):Qh(de,a.stateNode));break;case 4:l=de,c=on,de=a.stateNode.containerInfo,on=!0,bi(t,n,a),de=l,on=c;break;case 0:case 11:case 14:case 15:ee||ra(2,a,n),ee||ra(4,a,n),bi(t,n,a);break;case 1:ee||(ln(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&hg(a,n,l)),bi(t,n,a);break;case 21:bi(t,n,a);break;case 22:ee||ln(a,n),ee=(l=ee)||a.memoizedState!==null,bi(t,n,a),ee=l;break;default:bi(t,n,a)}}function Eg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(a){Ft(n,n.return,a)}}function f0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new gg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new gg),n;default:throw Error(r(435,t.tag))}}function mh(t,n){var a=f0(t);n.forEach(function(l){var c=R0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function bn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:de=E.stateNode,on=!1;break t;case 3:de=E.stateNode.containerInfo,on=!0;break t;case 4:de=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(de===null)throw Error(r(160));vg(f,y,c),de=null,on=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Tg(n,t),n=n.sibling}var xn=null;function Tg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(n,t),Rn(t),l&4&&(ra(3,t,t.return),hl(3,t),ra(5,t,t.return));break;case 1:bn(n,t),Rn(t),l&512&&(ee||a===null||ln(a,a.return)),l&64&&Si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=xn;if(bn(n,t),Rn(t),l&512&&(ee||a===null||ln(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Hi]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ue(f,l,a),f[Re]=t,Xt(f),l=f;break t;case"link":var y=fp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Ue(f,l,a),c.head.appendChild(f);break;case"meta":if(y=fp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Ue(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[Re]=t,Xt(f),l=f}t.stateNode=l}else dp(c,t.type,t.stateNode);else t.stateNode=hp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?dp(c,t.type,t.stateNode):hp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&dg(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var S=c.firstChild;S;){var O=S.nextSibling,P=S.nodeName;S[Hi]||P==="HEAD"||P==="BODY"||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=O}for(var K=t.type,k=c.attributes;k.length;)c.removeAttributeNode(k[0]);Ue(c,K,f),c[Re]=t,c[ye]=f}catch(at){Ft(t,t.return,at)}}case 5:if(bn(n,t),Rn(t),l&512&&(ee||a===null||ln(a,a.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(at){Ft(t,t.return,at)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,dg(t,c,a!==null?a.memoizedProps:c)),l&1024&&(dh=!0);break;case 6:if(bn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(at){Ft(t,t.return,at)}}break;case 3:if(uu=null,c=xn,xn=lu(n.containerInfo),bn(n,t),xn=c,Rn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Il(n.containerInfo)}catch(at){Ft(t,t.return,at)}dh&&(dh=!1,Ag(t));break;case 4:l=xn,xn=lu(t.stateNode.containerInfo),bn(n,t),Rn(t),xn=l;break;case 12:bn(n,t),Rn(t);break;case 13:bn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sh=$e()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,mh(t,l)));break;case 22:if(l&512&&(ee||a===null||ln(a,a.return)),S=t.memoizedState!==null,O=a!==null&&a.memoizedState!==null,P=Si,K=ee,Si=P||S,ee=K||O,bn(n,t),ee=K,Si=P,Rn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=S?n._visibility&-2:n._visibility|1,S&&(n=Si||ee,a===null||O||n||Ys(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(a=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){O=a=n;try{if(c=O.stateNode,S)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=O.stateNode,E=O.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(at){Ft(O,O.return,at)}}}else if(n.tag===6){if(a===null){O=n;try{O.stateNode.nodeValue=S?"":O.memoizedProps}catch(at){Ft(O,O.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,mh(t,a))));break;case 19:bn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,mh(t,l)));break;case 21:break;default:bn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var a=t.return;a!==null;){if(mg(a)){var l=a;break t}a=a.return}throw Error(r(160))}switch(l.tag){case 27:var c=l.stateNode,f=hh(t);Fo(t,f,c);break;case 5:var y=l.stateNode;l.flags&32&&(gn(y,""),l.flags&=-33);var E=hh(t);Fo(t,E,y);break;case 3:case 4:var S=l.stateNode.containerInfo,O=hh(t);fh(t,O,S);break;default:throw Error(r(161))}}}catch(P){Ft(t,t.return,P)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ag(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ag(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ri(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yg(t,n.alternate,n),n=n.sibling}function Ys(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ra(4,n,n.return),Ys(n);break;case 1:ln(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&hg(n,n.return,a),Ys(n);break;case 26:case 27:case 5:ln(n,n.return),Ys(n);break;case 22:ln(n,n.return),n.memoizedState===null&&Ys(n);break;default:Ys(n)}t=t.sibling}}function la(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:la(c,f,a),hl(4,f);break;case 1:if(la(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(O){Ft(l,l.return,O)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)og(S[c],E)}catch(O){Ft(l,l.return,O)}}a&&y&64&&cg(f),is(f,f.return);break;case 26:case 27:case 5:la(c,f,a),a&&l===null&&y&4&&fg(f),is(f,f.return);break;case 12:la(c,f,a);break;case 13:la(c,f,a),a&&y&4&&Eg(c,f);break;case 22:f.memoizedState===null&&la(c,f,a),is(f,f.return);break;default:la(c,f,a)}n=n.sibling}}function gh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function ph(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t))}function oa(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sg(t,n,a,l),n=n.sibling}function Sg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:oa(t,n,a,l),c&2048&&hl(9,n);break;case 3:oa(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t)));break;case 12:if(c&2048){oa(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Ft(n,n.return,S)}}else oa(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?oa(t,n,a,l):fl(t,n):f._visibility&4?oa(t,n,a,l):(f._visibility|=4,Xs(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&gh(n.alternate,n);break;case 24:oa(t,n,a,l),c&2048&&ph(n.alternate,n);break;default:oa(t,n,a,l)}}function Xs(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,S=l,O=y.flags;switch(y.tag){case 0:case 11:case 15:Xs(f,y,E,S,c),hl(8,y);break;case 23:break;case 22:var P=y.stateNode;y.memoizedState!==null?P._visibility&4?Xs(f,y,E,S,c):fl(f,y):(P._visibility|=4,Xs(f,y,E,S,c)),c&&O&2048&&gh(y.alternate,y);break;case 24:Xs(f,y,E,S,c),c&&O&2048&&ph(y.alternate,y);break;default:Xs(f,y,E,S,c)}n=n.sibling}}function fl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:fl(a,l),c&2048&&gh(l.alternate,l);break;case 24:fl(a,l),c&2048&&ph(l.alternate,l);break;default:fl(a,l)}n=n.sibling}}var dl=8192;function Zs(t){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)bg(t),t=t.sibling}function bg(t){switch(t.tag){case 26:Zs(t),t.flags&dl&&t.memoizedState!==null&&tE(xn,t.memoizedState,t.memoizedProps);break;case 5:Zs(t);break;case 3:case 4:var n=xn;xn=lu(t.stateNode.containerInfo),Zs(t),xn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=dl,dl=16777216,Zs(t),dl=n):Zs(t));break;default:Zs(t)}}function Rg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ml(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,Cg(l,t)}Rg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wg(t),t=t.sibling}function wg(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&ra(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Ko(t)):ml(t);break;default:ml(t)}}function Ko(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,Cg(l,t)}Rg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ra(8,n,n.return),Ko(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,Ko(n));break;default:Ko(n)}t=t.sibling}}function Cg(t,n){for(;Ie!==null;){var a=Ie;switch(a.tag){case 0:case 11:case 15:ra(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ie=l;else t:for(a=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(_g(l),l===a){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}function d0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,n,a,l){return new d0(t,n,a,l)}function yh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ua(t,n){var a=t.alternate;return a===null?(a=wn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Dg(t,n){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Yo(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")yh(t)&&(y=1);else if(typeof t=="string")y=J0(t,a,Ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return as(a.children,c,f,n);case v:y=8,c|=24;break;case R:return t=wn(12,a,n,c|2),t.elementType=R,t.lanes=f,t;case rt:return t=wn(13,a,n,c),t.elementType=rt,t.lanes=f,t;case W:return t=wn(19,a,n,c),t.elementType=W,t.lanes=f,t;case ht:return Ig(a,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:case Q:y=10;break t;case j:y=9;break t;case J:y=11;break t;case Rt:y=14;break t;case mt:y=16,l=null;break t}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=wn(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function as(t,n,a,l){return t=wn(7,t,l,n),t.lanes=a,t}function Ig(t,n,a,l){t=wn(22,t,l,n),t.elementType=ht,t.lanes=a;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(r(456));if((c._pendingVisibility&2)===0){var y=$i(f,2);y!==null&&(c._pendingVisibility|=2,Xe(y,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(r(456));if((c._pendingVisibility&2)!==0){var y=$i(f,2);y!==null&&(c._pendingVisibility&=-3,Xe(y,f,2))}}};return t.stateNode=c,t}function _h(t,n,a){return t=wn(6,t,null,n),t.lanes=a,t}function vh(t,n,a){return n=wn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function wi(t){t.flags|=4}function Vg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!mp(n)){if(n=Sn.current,n!==null&&((Vt&4194176)===Vt?Yn!==null:(Vt&62914560)!==Vt&&(Vt&536870912)===0||n!==Yn))throw Jr=bc,Kd;t.flags|=8192}}function Xo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Bi():536870912,t.lanes|=n,Js|=n)}function gl(t,n){if(!kt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Zt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function m0(t,n,a){var l=n.pendingProps;switch(Ac(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(n),null;case 1:return Zt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ai(Te),si(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Yr(n)?wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Mn!==null&&(Ch(Mn),Mn=null))),Zt(n),null;case 26:return a=n.memoizedState,t===null?(wi(n),a!==null?(Zt(n),Vg(n,a)):(Zt(n),n.flags&=-16777217)):a?a!==t.memoizedState?(wi(n),Zt(n),Vg(n,a)):(Zt(n),n.flags&=-16777217):(t.memoizedProps!==l&&wi(n),Zt(n),n.flags&=-16777217),null;case 27:ys(n),a=fn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Zt(n),null}t=Ge.current,Yr(n)?Qd(n):(t=rp(c,l,a),n.stateNode=t,wi(n))}return Zt(n),null;case 5:if(ys(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Zt(n),null}if(t=Ge.current,Yr(n))Qd(n);else{switch(c=ru(fn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[Re]=n,t[ye]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Ue(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&wi(n)}}return Zt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=fn.current,Yr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Ye,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Re]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||tp(t.nodeValue,a)),t||Ya(n)}else t=ru(t).createTextNode(l),t[Re]=n,n.stateNode=t}return Zt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Yr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Re]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Zt(n),c=!1}else Mn!==null&&(Ch(Mn),Mn=null),c=!0;if(!c)return n.flags&256?(_i(n),n):(_i(n),null)}if(_i(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Xo(n,n.updateQueue),Zt(n),null;case 4:return si(),t===null&&kh(n.stateNode.containerInfo),Zt(n),null;case 10:return Ai(n.type),Zt(n),null;case 19:if(Wt(Ee),c=n.memoizedState,c===null)return Zt(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)gl(c,!1);else{if(ne!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=No(t),f!==null){for(n.flags|=128,gl(c,!1),t=f.updateQueue,n.updateQueue=t,Xo(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Dg(a,t),a=a.sibling;return Pt(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&$e()>Zo&&(n.flags|=128,l=!0,gl(c,!1),n.lanes=4194304)}else{if(!l)if(t=No(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Xo(n,t),gl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!kt)return Zt(n),null}else 2*$e()-c.renderingStartTime>Zo&&a!==536870912&&(n.flags|=128,l=!0,gl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=$e(),n.sibling=null,t=Ee.current,Pt(Ee,l?t&1|2:t&1),n):(Zt(n),null);case 22:case 23:return _i(n),wc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Zt(n),n.subtreeFlags&6&&(n.flags|=8192)):Zt(n),a=n.updateQueue,a!==null&&Xo(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Wt(Za),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ai(Te),Zt(n),null;case 25:return null}throw Error(r(156,n.tag))}function g0(t,n){switch(Ac(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ai(Te),si(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ys(n),null;case 13:if(_i(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Wt(Ee),null;case 4:return si(),null;case 10:return Ai(n.type),null;case 22:case 23:return _i(n),wc(),t!==null&&Wt(Za),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ai(Te),null;case 25:return null;default:return null}}function Og(t,n){switch(Ac(n),n.tag){case 3:Ai(Te),si();break;case 26:case 27:case 5:ys(n);break;case 4:si();break;case 13:_i(n);break;case 19:Wt(Ee);break;case 10:Ai(n.type);break;case 22:case 23:_i(n),wc(),t!==null&&Wt(Za);break;case 24:Ai(Te)}}var p0={getCacheForType:function(t){var n=Be(Te),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},y0=typeof WeakMap=="function"?WeakMap:Map,$t=0,Kt=null,bt=null,Vt=0,Yt=0,un=null,Ci=!1,$s=!1,Eh=!1,Di=0,ne=0,ca=0,ss=0,Th=0,Cn=0,Js=0,pl=null,Zn=null,Ah=!1,Sh=0,Zo=1/0,$o=null,ha=null,Jo=!1,rs=null,yl=0,bh=0,Rh=null,_l=0,wh=null;function cn(){if(($t&2)!==0&&Vt!==0)return Vt&-Vt;if(A.T!==null){var t=Hs;return t!==0?t:xh()}return io()}function Ng(){Cn===0&&(Cn=(Vt&536870912)===0||kt?Vr():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),Cn}function Xe(t,n,a){(t===Kt&&Yt===2||t.cancelPendingCommit!==null)&&(Ws(t,0),Ii(t,Vt,Cn,!1)),se(t,a),(($t&2)===0||t!==Kt)&&(t===Kt&&(($t&2)===0&&(ss|=a),ne===4&&Ii(t,Vt,Cn,!1)),$n(t))}function Mg(t,n,a){if(($t&6)!==0)throw Error(r(327));var l=!a&&(n&60)===0&&(n&t.expiredLanes)===0||ki(t,n),c=l?E0(t,n):Vh(t,n,!0),f=l;do{if(c===0){$s&&!l&&Ii(t,n,0,!1);break}else if(c===6)Ii(t,n,0,!Ci);else{if(a=t.current.alternate,f&&!_0(a)){c=Vh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=pl;var S=E.current.memoizedState.isDehydrated;if(S&&(Ws(E,y).flags|=256),y=Vh(E,y,!1),y!==2){if(Eh&&!S){E.errorRecoveryDisabledLanes|=f,ss|=f,c=4;break t}f=Zn,Zn=c,f!==null&&Ch(f)}c=y}if(f=!1,c!==2)continue}}if(c===1){Ws(t,0),Ii(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(r(345));case 4:if((n&4194176)===n){Ii(l,n,Cn,!Ci);break t}break;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(r(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(f=Sh+300-$e(),10<f)){if(Ii(l,n,Cn,!Ci),dn(l,0)!==0)break t;l.timeoutHandle=ip(xg.bind(null,l,a,Zn,$o,Ah,n,Cn,ss,Js,Ci,2,-0,0),f);break t}xg(l,a,Zn,$o,Ah,n,Cn,ss,Js,Ci,0,-0,0)}}break}while(!0);$n(t)}function Ch(t){Zn===null?Zn=t:Zn.push.apply(Zn,t)}function xg(t,n,a,l,c,f,y,E,S,O,P,K,k){var q=n.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:W0},bg(n),n=eE(),n!==null)){t.cancelPendingCommit=n(qg.bind(null,t,a,l,c,y,E,S,1,K,k)),Ii(t,f,y,!O);return}qg(t,a,l,c,y,E,S,P,K,k)}function _0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!rn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ii(t,n,a,l){n&=~Th,n&=~ss,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Qe(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&ji(t,a,n)}function Wo(){return($t&6)===0?(vl(0),!1):!0}function Dh(){if(bt!==null){if(Yt===0)var t=bt.return;else t=bt,Ti=es=null,xc(t),qs=null,Wr=0,t=bt;for(;t!==null;)Og(t.alternate,t),t=t.return;bt=null}}function Ws(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,L0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Dh(),Kt=t,bt=a=ua(t.current,null),Vt=n,Yt=0,un=null,Ci=!1,$s=ki(t,n),Eh=!1,Js=Cn=Th=ss=ca=ne=0,Zn=pl=null,Ah=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Qe(l),f=1<<c;n|=t[c],l&=~f}return Di=n,So(),a}function Ug(t,n){At=null,A.H=Xn,n===$r?(n=Zd(),Yt=3):n===Kd?(n=Zd(),Yt=4):Yt=n===Ym?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,bt===null&&(ne=1,Ho(t,En(n,t.current)))}function zg(){var t=A.H;return A.H=Xn,t===null?Xn:t}function Lg(){var t=A.A;return A.A=p0,t}function Ih(){ne=4,Ci||(Vt&4194176)!==Vt&&Sn.current!==null||($s=!0),(ca&134217727)===0&&(ss&134217727)===0||Kt===null||Ii(Kt,Vt,Cn,!1)}function Vh(t,n,a){var l=$t;$t|=2;var c=zg(),f=Lg();(Kt!==t||Vt!==n)&&($o=null,Ws(t,n)),n=!1;var y=ne;t:do try{if(Yt!==0&&bt!==null){var E=bt,S=un;switch(Yt){case 8:Dh(),y=6;break t;case 3:case 2:case 6:Sn.current===null&&(n=!0);var O=Yt;if(Yt=0,un=null,tr(t,E,S,O),a&&$s){y=0;break t}break;default:O=Yt,Yt=0,un=null,tr(t,E,S,O)}}v0(),y=ne;break}catch(P){Ug(t,P)}while(!0);return n&&t.shellSuspendCounter++,Ti=es=null,$t=l,A.H=c,A.A=f,bt===null&&(Kt=null,Vt=0,So()),y}function v0(){for(;bt!==null;)kg(bt)}function E0(t,n){var a=$t;$t|=2;var l=zg(),c=Lg();Kt!==t||Vt!==n?($o=null,Zo=$e()+500,Ws(t,n)):$s=ki(t,n);t:do try{if(Yt!==0&&bt!==null){n=bt;var f=un;e:switch(Yt){case 1:Yt=0,un=null,tr(t,n,f,1);break;case 2:if(Yd(f)){Yt=0,un=null,Bg(n);break}n=function(){Yt===2&&Kt===t&&(Yt=7),$n(t)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Yd(f)?(Yt=0,un=null,Bg(n)):(Yt=0,un=null,tr(t,n,f,7));break;case 5:var y=null;switch(bt.tag){case 26:y=bt.memoizedState;case 5:case 27:var E=bt;if(!y||mp(y)){Yt=0,un=null;var S=E.sibling;if(S!==null)bt=S;else{var O=E.return;O!==null?(bt=O,tu(O)):bt=null}break e}}Yt=0,un=null,tr(t,n,f,5);break;case 6:Yt=0,un=null,tr(t,n,f,6);break;case 8:Dh(),ne=6;break t;default:throw Error(r(462))}}T0();break}catch(P){Ug(t,P)}while(!0);return Ti=es=null,A.H=l,A.A=c,$t=a,bt!==null?0:(Kt=null,Vt=0,So(),ne)}function T0(){for(;bt!==null&&!ac();)kg(bt)}function kg(t){var n=rg(t.alternate,t,Di);t.memoizedProps=t.pendingProps,n===null?tu(t):bt=n}function Bg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=tg(a,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=tg(a,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:xc(n);default:Og(a,n),n=bt=Dg(n,Di),n=rg(a,n,Di)}t.memoizedProps=t.pendingProps,n===null?tu(t):bt=n}function tr(t,n,a,l){Ti=es=null,xc(n),qs=null,Wr=0;var c=n.return;try{if(u0(t,c,n,a,Vt)){ne=1,Ho(t,En(a,t.current)),bt=null;return}}catch(f){if(c!==null)throw bt=c,f;ne=1,Ho(t,En(a,t.current)),bt=null;return}n.flags&32768?(kt||l===1?t=!0:$s||(Vt&536870912)!==0?t=!1:(Ci=t=!0,(l===2||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),jg(n,t)):tu(n)}function tu(t){var n=t;do{if((n.flags&32768)!==0){jg(n,Ci);return}t=n.return;var a=m0(n.alternate,n,Di);if(a!==null){bt=a;return}if(n=n.sibling,n!==null){bt=n;return}bt=n=t}while(n!==null);ne===0&&(ne=5)}function jg(t,n){do{var a=g0(t.alternate,t);if(a!==null){a.flags&=32767,bt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){bt=t;return}bt=t=a}while(t!==null);ne=6,bt=null}function qg(t,n,a,l,c,f,y,E,S,O){var P=A.T,K=et.p;try{et.p=2,A.T=null,A0(t,n,a,l,K,c,f,y,E,S,O)}finally{A.T=P,et.p=K}}function A0(t,n,a,l,c,f,y,E){do er();while(rs!==null);if(($t&6)!==0)throw Error(r(327));var S=t.finishedWork;if(l=t.finishedLanes,S===null)return null;if(t.finishedWork=null,t.finishedLanes=0,S===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var O=S.lanes|S.childLanes;if(O|=vc,eo(t,l,O,f,y,E),t===Kt&&(bt=Kt=null,Vt=0),(S.subtreeFlags&10256)===0&&(S.flags&10256)===0||Jo||(Jo=!0,bh=O,Rh=a,w0(ri,function(){return er(),null})),a=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||a?(a=A.T,A.T=null,f=et.p,et.p=2,y=$t,$t|=4,h0(t,S),Tg(S,t),Fv(Ph,t.containerInfo),fu=!!qh,Ph=qh=null,t.current=S,yg(t,S.alternate,S),wr(),$t=y,et.p=f,A.T=a):t.current=S,Jo?(Jo=!1,rs=t,yl=l):Pg(t,O),O=t.pendingLanes,O===0&&(ha=null),Dr(S.stateNode),$n(t),n!==null)for(c=t.onRecoverableError,S=0;S<n.length;S++)O=n[S],c(O.value,{componentStack:O.stack});return(yl&3)!==0&&er(),O=t.pendingLanes,(l&4194218)!==0&&(O&42)!==0?t===wh?_l++:(_l=0,wh=t):_l=0,vl(0),null}function Pg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,el(n)))}function er(){if(rs!==null){var t=rs,n=bh;bh=0;var a=no(yl),l=A.T,c=et.p;try{if(et.p=32>a?32:a,A.T=null,rs===null)var f=!1;else{a=Rh,Rh=null;var y=rs,E=yl;if(rs=null,yl=0,($t&6)!==0)throw Error(r(331));var S=$t;if($t|=4,wg(y.current),Sg(y,y.current,E,a),$t=S,vl(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(zi,y)}catch{}f=!0}return f}finally{et.p=c,A.T=l,Pg(t,n)}}return!1}function Hg(t,n,a){n=En(a,n),n=Yc(t.stateNode,n,2),t=sa(t,n,2),t!==null&&(se(t,2),$n(t))}function Ft(t,n,a){if(t.tag===3)Hg(t,t,a);else for(;n!==null;){if(n.tag===3){Hg(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ha===null||!ha.has(l))){t=En(a,t),a=Fm(2),l=sa(n,a,2),l!==null&&(Km(a,l,n,t),se(l,2),$n(l));break}}n=n.return}}function Oh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new y0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Eh=!0,c.add(a),t=S0.bind(null,t,n,a),n.then(t,t))}function S0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Kt===t&&(Vt&a)===a&&(ne===4||ne===3&&(Vt&62914560)===Vt&&300>$e()-Sh?($t&2)===0&&Ws(t,0):Th|=a,Js===Vt&&(Js=0)),$n(t)}function Gg(t,n){n===0&&(n=Bi()),t=$i(t,n),t!==null&&(se(t,n),$n(t))}function b0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Gg(t,a)}function R0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Gg(t,a)}function w0(t,n){return Va(t,n)}var eu=null,nr=null,Nh=!1,nu=!1,Mh=!1,ls=0;function $n(t){t!==nr&&t.next===null&&(nr===null?eu=nr=t:nr=nr.next=t),nu=!0,Nh||(Nh=!0,D0(C0))}function vl(t,n){if(!Mh&&nu){Mh=!0;do for(var a=!1,l=eu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Qe(42|t)+1)-1,f&=c&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,Kg(l,f))}else f=Vt,f=dn(l,l===Kt?f:0),(f&3)===0||ki(l,f)||(a=!0,Kg(l,f));l=l.next}while(a);Mh=!1}}function C0(){nu=Nh=!1;var t=0;ls!==0&&(z0()&&(t=ls),ls=0);for(var n=$e(),a=null,l=eu;l!==null;){var c=l.next,f=Qg(l,n);f===0?(l.next=null,a===null?eu=c:a.next=c,c===null&&(nr=a)):(a=l,(t!==0||(f&3)!==0)&&(nu=!0)),l=c}vl(t)}function Qg(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Qe(f),E=1<<y,S=c[y];S===-1?((E&a)===0||(E&l)!==0)&&(c[y]=Es(E,n)):S<=n&&(t.expiredLanes|=E),f&=~E}if(n=Kt,a=Vt,a=dn(t,t===n?a:0),l=t.callbackNode,a===0||t===n&&Yt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ki(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&vs(l),no(a)){case 2:case 8:a=be;break;case 32:a=ri;break;case 268435456:a=Cr;break;default:a=ri}return l=Fg.bind(null,t),a=Va(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&vs(l),t.callbackPriority=2,t.callbackNode=null,2}function Fg(t,n){var a=t.callbackNode;if(er()&&t.callbackNode!==a)return null;var l=Vt;return l=dn(t,t===Kt?l:0),l===0?null:(Mg(t,l,n),Qg(t,$e()),t.callbackNode!=null&&t.callbackNode===a?Fg.bind(null,t):null)}function Kg(t,n){if(er())return null;Mg(t,n,!0)}function D0(t){k0(function(){($t&6)!==0?Va(pe,t):t()})}function xh(){return ls===0&&(ls=Vr()),ls}function Yg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:jn(""+t)}function Xg(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function I0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Yg((c[ye]||null).action),y=l.submitter;y&&(n=(n=y[ye]||null)?Yg(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Cs("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ls!==0){var S=y?Xg(c,y):new FormData(c);Hc(a,{pending:!0,data:S,method:c.method,action:f},null,S)}}else typeof f=="function"&&(E.preventDefault(),S=y?Xg(c,y):new FormData(c),Hc(a,{pending:!0,data:S,method:c.method,action:f},f,S))},currentTarget:c}]})}}for(var Uh=0;Uh<qd.length;Uh++){var zh=qd[Uh],V0=zh.toLowerCase(),O0=zh[0].toUpperCase()+zh.slice(1);Nn(V0,"on"+O0)}Nn(zd,"onAnimationEnd"),Nn(Ld,"onAnimationIteration"),Nn(kd,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(Yv,"onTransitionRun"),Nn(Xv,"onTransitionStart"),Nn(Zv,"onTransitionCancel"),Nn(Bd,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function Zg(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],S=E.instance,O=E.currentTarget;if(E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=O;try{f(c)}catch(P){Po(P)}c.currentTarget=null,f=S}else for(y=0;y<l.length;y++){if(E=l[y],S=E.instance,O=E.currentTarget,E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=O;try{f(c)}catch(P){Po(P)}c.currentTarget=null,f=S}}}}function wt(t,n){var a=n[Na];a===void 0&&(a=n[Na]=new Set);var l=t+"__bubble";a.has(l)||($g(n,t,2,!1),a.add(l))}function Lh(t,n,a){var l=0;n&&(l|=4),$g(a,t,l,n)}var iu="_reactListening"+Math.random().toString(36).slice(2);function kh(t){if(!t[iu]){t[iu]=!0,Nr.forEach(function(a){a!=="selectionchange"&&(N0.has(a)||Lh(a,!1,t),Lh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[iu]||(n[iu]=!0,Lh("selectionchange",!1,n))}}function $g(t,n,a,l){switch(Ep(n)){case 2:var c=aE;break;case 8:c=sE;break;default:c=$h}a=c.bind(null,n,a,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function Bh(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var S=y.tag;if((S===3||S===4)&&(S=y.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;y=y.return}for(;E!==null;){if(y=On(E),y===null)return;if(S=y.tag,S===5||S===6||S===26||S===27){l=f=y;continue t}E=E.parentNode}}l=l.return}lo(function(){var O=f,P=ws(a),K=[];t:{var k=jd.get(t);if(k!==void 0){var q=Cs,at=t;switch(t){case"keypress":if(Pn(a)===0)break t;case"keydown":case"keyup":q=Ms;break;case"focusin":at="focus",q=Vs;break;case"focusout":at="blur",q=Vs;break;case"beforeblur":case"afterblur":q=Vs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=po;break;case zd:case Ld:case kd:q=Os;break;case Bd:q=_o;break;case"scroll":case"scrollend":q=oo;break;case"wheel":q=xs;break;case"copy":case"cut":case"paste":q=Ns;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Gr;break;case"toggle":case"beforetoggle":q=Eo}var gt=(n&4)!==0,ie=!gt&&(t==="scroll"||t==="scrollend"),x=gt?k!==null?k+"Capture":null:k;gt=[];for(var I=O,L;I!==null;){var G=I;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||x===null||(G=La(I,x),G!=null&&gt.push(Tl(I,G,L))),ie)break;I=I.return}0<gt.length&&(k=new q(k,at,null,a,P),K.push({event:k,listeners:gt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",k&&a!==pn&&(at=a.relatedTarget||a.fromElement)&&(On(at)||at[li]))break t;if((q||k)&&(k=P.window===P?P:(k=P.ownerDocument)?k.defaultView||k.parentWindow:window,q?(at=a.relatedTarget||a.toElement,q=O,at=at?On(at):null,at!==null&&(ie=ot(at),gt=at.tag,at!==ie||gt!==5&&gt!==27&&gt!==6)&&(at=null)):(q=null,at=O),q!==at)){if(gt=_n,G="onMouseLeave",x="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Gr,G="onPointerLeave",x="onPointerEnter",I="pointer"),ie=q==null?k:Gi(q),L=at==null?k:Gi(at),k=new gt(G,I+"leave",q,a,P),k.target=ie,k.relatedTarget=L,G=null,On(P)===O&&(gt=new gt(x,I+"enter",at,a,P),gt.target=L,gt.relatedTarget=ie,G=gt),ie=G,q&&at)e:{for(gt=q,x=at,I=0,L=gt;L;L=ir(L))I++;for(L=0,G=x;G;G=ir(G))L++;for(;0<I-L;)gt=ir(gt),I--;for(;0<L-I;)x=ir(x),L--;for(;I--;){if(gt===x||x!==null&&gt===x.alternate)break e;gt=ir(gt),x=ir(x)}gt=null}else gt=null;q!==null&&Jg(K,k,q,gt,!1),at!==null&&ie!==null&&Jg(K,ie,at,gt,!0)}}t:{if(k=O?Gi(O):window,q=k.nodeName&&k.nodeName.toLowerCase(),q==="select"||q==="input"&&k.type==="file")var it=Rd;else if(ve(k))if(wd)it=Gv;else{it=Pv;var St=qv}else q=k.nodeName,!q||q.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?O&&Lr(O.elementType)&&(it=Rd):it=Hv;if(it&&(it=it(t,O))){gi(K,it,a,P);break t}St&&St(t,k,O),t==="focusout"&&O&&k.type==="number"&&O.memoizedProps.value!=null&&Rs(k,"number",k.value)}switch(St=O?Gi(O):window,t){case"focusin":(ve(St)||St.contentEditable==="true")&&(Us=St,pc=O,Kr=null);break;case"focusout":Kr=pc=Us=null;break;case"mousedown":yc=!0;break;case"contextmenu":case"mouseup":case"dragend":yc=!1,xd(K,a,P);break;case"selectionchange":if(Kv)break;case"keydown":case"keyup":xd(K,a,P)}var lt;if(Qn)t:{switch(t){case"compositionstart":var ct="onCompositionStart";break t;case"compositionend":ct="onCompositionEnd";break t;case"compositionupdate":ct="onCompositionUpdate";break t}ct=void 0}else Dt?B(t,a)&&(ct="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ct="onCompositionStart");ct&&(p&&a.locale!=="ko"&&(Dt||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Dt&&(lt=Br()):(qn=P,Zi="value"in qn?qn.value:qn.textContent,Dt=!0)),St=au(O,ct),0<St.length&&(ct=new Pr(ct,t,null,a,P),K.push({event:ct,listeners:St}),lt?ct.data=lt:(lt=X(a),lt!==null&&(ct.data=lt)))),(lt=m?_e(t,a):It(t,a))&&(ct=au(O,"onBeforeInput"),0<ct.length&&(St=new Pr("onBeforeInput","beforeinput",null,a,P),K.push({event:St,listeners:ct}),St.data=lt)),I0(K,t,O,a,P)}Zg(K,n)})}function Tl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function au(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=La(t,a),c!=null&&l.unshift(Tl(t,c,f)),c=La(t,n),c!=null&&l.push(Tl(t,c,f))),t=t.return}return l}function ir(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Jg(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,S=E.alternate,O=E.stateNode;if(E=E.tag,S!==null&&S===l)break;E!==5&&E!==26&&E!==27||O===null||(S=O,c?(O=La(a,f),O!=null&&y.unshift(Tl(a,O,S))):c||(O=La(a,f),O!=null&&y.push(Tl(a,O,S)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var M0=/\r\n?/g,x0=/\u0000|\uFFFD/g;function Wg(t){return(typeof t=="string"?t:""+t).replace(M0,`
`).replace(x0,"")}function tp(t,n){return n=Wg(n),Wg(t)===n}function su(){}function Qt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":Ki(t,"class",l);break;case"tabIndex":Ki(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(t,a,l);break;case"style":ro(t,l,f);break;case"data":if(n!=="object"){Ki(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=jn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Qt(t,n,"name",c.name,c,null),Qt(t,n,"formEncType",c.formEncType,c,null),Qt(t,n,"formMethod",c.formMethod,c,null),Qt(t,n,"formTarget",c.formTarget,c,null)):(Qt(t,n,"encType",c.encType,c,null),Qt(t,n,"method",c.method,c,null),Qt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=jn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=su);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=jn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":wt("beforetoggle",t),wt("toggle",t),Fi(t,"popover",l);break;case"xlinkActuate":mn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Fi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uc.get(a)||a,Fi(t,a,l))}}function jh(t,n,a,l,c,f){switch(a){case"style":ro(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=su);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ss.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[ye]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Fi(t,a,l)}}}function Ue(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",t),wt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Qt(t,n,f,y,a,null)}}c&&Qt(t,n,"srcSet",a.srcSet,a,null),l&&Qt(t,n,"src",a.src,a,null);return;case"input":wt("invalid",t);var E=f=y=c=null,S=null,O=null;for(l in a)if(a.hasOwnProperty(l)){var P=a[l];if(P!=null)switch(l){case"name":c=P;break;case"type":y=P;break;case"checked":S=P;break;case"defaultChecked":O=P;break;case"value":f=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:Qt(t,n,l,P,a,null)}}Ua(t,f,E,S,O,y,c,!1),xa(t);return;case"select":wt("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Qt(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?Lt(t,!!l,n,!1):a!=null&&Lt(t,!!l,a,!0);return;case"textarea":wt("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Qt(t,n,y,E,a,null)}Xi(t,l,c,f),xa(t);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(l=a[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(t,n,S,l,a,null)}return;case"dialog":wt("cancel",t),wt("close",t);break;case"iframe":case"object":wt("load",t);break;case"video":case"audio":for(l=0;l<El.length;l++)wt(El[l],t);break;case"image":wt("error",t),wt("load",t);break;case"details":wt("toggle",t);break;case"embed":case"source":case"link":wt("error",t),wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Qt(t,n,O,l,a,null)}return;default:if(Lr(n)){for(P in a)a.hasOwnProperty(P)&&(l=a[P],l!==void 0&&jh(t,n,P,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Qt(t,n,E,l,a,null))}function U0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,S=null,O=null,P=null;for(q in a){var K=a[q];if(a.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":S=K;default:l.hasOwnProperty(q)||Qt(t,n,q,null,l,K)}}for(var k in l){var q=l[k];if(K=a[k],l.hasOwnProperty(k)&&(q!=null||K!=null))switch(k){case"type":f=q;break;case"name":c=q;break;case"checked":O=q;break;case"defaultChecked":P=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==K&&Qt(t,n,k,q,l,K)}}Yi(t,y,E,S,O,P,f,c);return;case"select":q=y=E=k=null;for(f in a)if(S=a[f],a.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":q=S;default:l.hasOwnProperty(f)||Qt(t,n,f,null,l,S)}for(c in l)if(f=l[c],S=a[c],l.hasOwnProperty(c)&&(f!=null||S!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==S&&Qt(t,n,c,f,l,S)}n=E,a=y,l=q,k!=null?Lt(t,!!a,k,!1):!!l!=!!a&&(n!=null?Lt(t,!!a,n,!0):Lt(t,!!a,a?[]:"",!1));return;case"textarea":q=k=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":k=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Qt(t,n,y,c,l,f)}za(t,k,q);return;case"option":for(var at in a)if(k=a[at],a.hasOwnProperty(at)&&k!=null&&!l.hasOwnProperty(at))switch(at){case"selected":t.selected=!1;break;default:Qt(t,n,at,null,l,k)}for(S in l)if(k=l[S],q=a[S],l.hasOwnProperty(S)&&k!==q&&(k!=null||q!=null))switch(S){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Qt(t,n,S,k,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)k=a[gt],a.hasOwnProperty(gt)&&k!=null&&!l.hasOwnProperty(gt)&&Qt(t,n,gt,null,l,k);for(O in l)if(k=l[O],q=a[O],l.hasOwnProperty(O)&&k!==q&&(k!=null||q!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:Qt(t,n,O,k,l,q)}return;default:if(Lr(n)){for(var ie in a)k=a[ie],a.hasOwnProperty(ie)&&k!==void 0&&!l.hasOwnProperty(ie)&&jh(t,n,ie,void 0,l,k);for(P in l)k=l[P],q=a[P],!l.hasOwnProperty(P)||k===q||k===void 0&&q===void 0||jh(t,n,P,k,l,q);return}}for(var x in a)k=a[x],a.hasOwnProperty(x)&&k!=null&&!l.hasOwnProperty(x)&&Qt(t,n,x,null,l,k);for(K in l)k=l[K],q=a[K],!l.hasOwnProperty(K)||k===q||k==null&&q==null||Qt(t,n,K,k,l,q)}var qh=null,Ph=null;function ru(t){return t.nodeType===9?t:t.ownerDocument}function ep(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function np(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Hh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Gh=null;function z0(){var t=window.event;return t&&t.type==="popstate"?t===Gh?!1:(Gh=t,!0):(Gh=null,!1)}var ip=typeof setTimeout=="function"?setTimeout:void 0,L0=typeof clearTimeout=="function"?clearTimeout:void 0,ap=typeof Promise=="function"?Promise:void 0,k0=typeof queueMicrotask=="function"?queueMicrotask:typeof ap<"u"?function(t){return ap.resolve(null).then(t).catch(B0)}:ip;function B0(t){setTimeout(function(){throw t})}function Qh(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(l===0){t.removeChild(c),Il(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=c}while(a);Il(n)}function Fh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fh(a),Ma(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function j0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Hi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function q0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function sp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function rp(t,n,a){switch(n=ru(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}var Dn=new Map,lp=new Set;function lu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Vi=et.d;et.d={f:P0,r:H0,D:G0,C:Q0,L:F0,m:K0,X:X0,S:Y0,M:Z0};function P0(){var t=Vi.f(),n=Wo();return t||n}function H0(t){var n=oi(t);n!==null&&n.tag===5&&n.type==="form"?xm(n):Vi.r(t)}var ar=typeof document>"u"?null:document;function op(t,n,a){var l=ar;if(l&&typeof n=="string"&&n){var c=te(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),lp.has(c)||(lp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ue(n,"link",t),Xt(n),l.head.appendChild(n)))}}function G0(t){Vi.D(t),op("dns-prefetch",t,null)}function Q0(t,n){Vi.C(t,n),op("preconnect",t,n)}function F0(t,n,a){Vi.L(t,n,a);var l=ar;if(l&&t&&n){var c='link[rel="preload"][as="'+te(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+te(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+te(a.imageSizes)+'"]')):c+='[href="'+te(t)+'"]';var f=c;switch(n){case"style":f=sr(t);break;case"script":f=rr(t)}Dn.has(f)||(t=C({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Dn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Al(f))||n==="script"&&l.querySelector(Sl(f))||(n=l.createElement("link"),Ue(n,"link",t),Xt(n),l.head.appendChild(n)))}}function K0(t,n){Vi.m(t,n);var a=ar;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+te(l)+'"][href="'+te(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=rr(t)}if(!Dn.has(f)&&(t=C({rel:"modulepreload",href:t},n),Dn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(f)))return}l=a.createElement("link"),Ue(l,"link",t),Xt(l),a.head.appendChild(l)}}}function Y0(t,n,a){Vi.S(t,n,a);var l=ar;if(l&&t){var c=Qi(l).hoistableStyles,f=sr(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Al(f)))E.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Dn.get(f))&&Kh(t,a);var S=y=l.createElement("link");Xt(S),Ue(S,"link",t),S._p=new Promise(function(O,P){S.onload=O,S.onerror=P}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ou(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function X0(t,n){Vi.X(t,n);var a=ar;if(a&&t){var l=Qi(a).hoistableScripts,c=rr(t),f=l.get(c);f||(f=a.querySelector(Sl(c)),f||(t=C({src:t,async:!0},n),(n=Dn.get(c))&&Yh(t,n),f=a.createElement("script"),Xt(f),Ue(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Z0(t,n){Vi.M(t,n);var a=ar;if(a&&t){var l=Qi(a).hoistableScripts,c=rr(t),f=l.get(c);f||(f=a.querySelector(Sl(c)),f||(t=C({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&Yh(t,n),f=a.createElement("script"),Xt(f),Ue(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function up(t,n,a,l){var c=(c=fn.current)?lu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=sr(a.href),a=Qi(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=sr(a.href);var f=Qi(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Al(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),f||$0(c,t,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=rr(a),a=Qi(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function sr(t){return'href="'+te(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function cp(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function $0(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ue(n,"link",a),Xt(n),t.head.appendChild(n))}function rr(t){return'[src="'+te(t)+'"]'}function Sl(t){return"script[async]"+t}function hp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+te(a.href)+'"]');if(l)return n.instance=l,Xt(l),l;var c=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Xt(l),Ue(l,"style",c),ou(l,a.precedence,t),n.instance=l;case"stylesheet":c=sr(a.href);var f=t.querySelector(Al(c));if(f)return n.state.loading|=4,n.instance=f,Xt(f),f;l=cp(a),(c=Dn.get(c))&&Kh(l,c),f=(t.ownerDocument||t).createElement("link"),Xt(f);var y=f;return y._p=new Promise(function(E,S){y.onload=E,y.onerror=S}),Ue(f,"link",l),n.state.loading|=4,ou(f,a.precedence,t),n.instance=f;case"script":return f=rr(a.src),(c=t.querySelector(Sl(f)))?(n.instance=c,Xt(c),c):(l=a,(c=Dn.get(f))&&(l=C({},a),Yh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Xt(c),Ue(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ou(l,a.precedence,t));return n.instance}function ou(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Kh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Yh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var uu=null;function fp(t,n,a){if(uu===null){var l=new Map,c=uu=new Map;c.set(a,l)}else c=uu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Hi]||f[Re]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function dp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function J0(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function mp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var bl=null;function W0(){}function tE(t,n,a){if(bl===null)throw Error(r(475));var l=bl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=sr(a.href),f=t.querySelector(Al(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=cu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Xt(f);return}f=t.ownerDocument||t,a=cp(a),(c=Dn.get(c))&&Kh(a,c),f=f.createElement("link"),Xt(f);var y=f;y._p=new Promise(function(E,S){y.onload=E,y.onerror=S}),Ue(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=cu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function eE(){if(bl===null)throw Error(r(475));var t=bl;return t.stylesheets&&t.count===0&&Xh(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Xh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function cu(){if(this.count--,this.count===0){if(this.stylesheets)Xh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hu=null;function Xh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hu=new Map,n.forEach(nE,t),hu=null,cu.call(t))}function nE(t,n){if(!(n.state.loading&4)){var a=hu.get(t);if(a)var l=a.get(null);else{a=new Map,hu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=cu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Rl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:Tt,_currentValue2:Tt,_threadCount:0};function iE(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.hiddenUpdates=Ts(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function gp(t,n,a,l,c,f,y,E,S,O,P,K){return t=new iE(t,n,a,y,E,S,O,K),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),t.current=f,f.stateNode=t,n=Cc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},lh(f),t}function pp(t){return t?(t=ks,t):ks}function yp(t,n,a,l,c,f){c=pp(c),l.context===null?l.context=c:l.pendingContext=c,l=aa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=sa(t,l,n),a!==null&&(Xe(a,t,n),ol(a,t,n))}function _p(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Zh(t,n){_p(t,n),(t=t.alternate)&&_p(t,n)}function vp(t){if(t.tag===13){var n=$i(t,67108864);n!==null&&Xe(n,t,67108864),Zh(t,67108864)}}var fu=!0;function aE(t,n,a,l){var c=A.T;A.T=null;var f=et.p;try{et.p=2,$h(t,n,a,l)}finally{et.p=f,A.T=c}}function sE(t,n,a,l){var c=A.T;A.T=null;var f=et.p;try{et.p=8,$h(t,n,a,l)}finally{et.p=f,A.T=c}}function $h(t,n,a,l){if(fu){var c=Jh(l);if(c===null)Bh(t,n,l,du,a),Tp(t,l);else if(lE(c,t,n,a,l))l.stopPropagation();else if(Tp(t,l),n&4&&-1<rE.indexOf(t)){for(;c!==null;){var f=oi(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Vn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var S=1<<31-Qe(y);E.entanglements[1]|=S,y&=~S}$n(f),($t&6)===0&&(Zo=$e()+500,vl(0))}}break;case 13:E=$i(f,2),E!==null&&Xe(E,f,2),Wo(),Zh(f,2)}if(f=Jh(l),f===null&&Bh(t,n,l,du,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else Bh(t,n,l,null,a)}}function Jh(t){return t=ws(t),Wh(t)}var du=null;function Wh(t){if(du=null,t=On(t),t!==null){var n=ot(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=jt(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return du=t,null}function Ep(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($l()){case pe:return 2;case be:return 8;case ri:case Jl:return 32;case Cr:return 268435456;default:return 32}default:return 32}}var tf=!1,fa=null,da=null,ma=null,wl=new Map,Cl=new Map,ga=[],rE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tp(t,n){switch(t){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(n.pointerId)}}function Dl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=oi(n),n!==null&&vp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function lE(t,n,a,l,c){switch(n){case"focusin":return fa=Dl(fa,t,n,a,l,c),!0;case"dragenter":return da=Dl(da,t,n,a,l,c),!0;case"mouseover":return ma=Dl(ma,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return wl.set(f,Dl(wl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Cl.set(f,Dl(Cl.get(f)||null,t,n,a,l,c)),!0}return!1}function Ap(t){var n=On(t.target);if(n!==null){var a=ot(n);if(a!==null){if(n=a.tag,n===13){if(n=jt(a),n!==null){t.blockedOn=n,Pi(t.priority,function(){if(a.tag===13){var l=cn(),c=$i(a,l);c!==null&&Xe(c,a,l),Zh(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Jh(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);pn=l,a.target.dispatchEvent(l),pn=null}else return n=oi(a),n!==null&&vp(n),t.blockedOn=a,!1;n.shift()}return!0}function Sp(t,n,a){mu(t)&&a.delete(n)}function oE(){tf=!1,fa!==null&&mu(fa)&&(fa=null),da!==null&&mu(da)&&(da=null),ma!==null&&mu(ma)&&(ma=null),wl.forEach(Sp),Cl.forEach(Sp)}function gu(t,n){t.blockedOn===n&&(t.blockedOn=null,tf||(tf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,oE)))}var pu=null;function bp(t){pu!==t&&(pu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){pu===t&&(pu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Wh(l||a)===null)continue;break}var f=oi(a);f!==null&&(t.splice(n,3),n-=3,Hc(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Il(t){function n(S){return gu(S,t)}fa!==null&&gu(fa,t),da!==null&&gu(da,t),ma!==null&&gu(ma,t),wl.forEach(n),Cl.forEach(n);for(var a=0;a<ga.length;a++){var l=ga[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ga.length&&(a=ga[0],a.blockedOn===null);)Ap(a),a.blockedOn===null&&ga.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[ye]||null;if(typeof f=="function")y||bp(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ye]||null)E=y.formAction;else if(Wh(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),bp(a)}}}function ef(t){this._internalRoot=t}yu.prototype.render=ef.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=cn();yp(a,l,t,n,null,null)},yu.prototype.unmount=ef.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&er(),yp(t.current,2,null,t,null,null),Wo(),n[li]=null}};function yu(t){this._internalRoot=t}yu.prototype.unstable_scheduleHydration=function(t){if(t){var n=io();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ga.length&&n!==0&&n<ga[a].priority;a++);ga.splice(a,0,t),a===0&&Ap(t)}};var Rp=e.version;if(Rp!=="19.0.0")throw Error(r(527,Rp,"19.0.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=Y(n),t=t!==null?st(t):null,t=t===null?null:t.stateNode,t};var uE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:On,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{zi=_u.inject(uE),ke=_u}catch{}}return Ol.createRoot=function(t,n){if(!u(t))throw Error(r(299));var a=!1,l="",c=Pm,f=Hm,y=Gm,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=gp(t,1,!1,null,null,a,l,c,f,y,E,null),t[li]=n.current,kh(t.nodeType===8?t.parentNode:t),new ef(n)},Ol.hydrateRoot=function(t,n,a){if(!u(t))throw Error(r(299));var l=!1,c="",f=Pm,y=Hm,E=Gm,S=null,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(O=a.formState)),n=gp(t,1,!0,n,a??null,l,c,f,y,E,S,O),n.context=pp(null),a=n.current,l=cn(),c=aa(l),c.callback=null,sa(a,c,l),n.current.lanes=l,se(n,l),$n(n),t[li]=n.current,kh(t),new yu(n)},Ol.version="19.0.0",Ol}var Up;function vE(){if(Up)return sf.exports;Up=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),sf.exports=_E(),sf.exports}var EE=vE();const TE="/Ruslana_Cakes/assets/Cake2-vvsJnBCt.jpg",zp=({cake:s})=>{const{Image:e,Description:i,Price:r}=s||{};return H.jsxs("div",{className:"cake-card-container",children:[H.jsx("img",{src:e||TE,alt:"Sweets"}),H.jsxs("div",{className:"cake-card-info",children:[H.jsx("p",{className:"cake-card-description",children:i}),H.jsx("p",{className:"cake-card-price",children:H.jsx("strong",{children:`От ${r} руб.`})})]})]})},AE=()=>{};var Lp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let u=s.charCodeAt(r);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},SE=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const u=s[i++];if(u<128)e[r++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[r++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],g=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Wy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,g=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,R=h>>2,U=(h&3)<<4|g>>4;let j=(g&15)<<2|v>>6,Q=v&63;_||(Q=64,d||(j=64)),r.push(i[R],i[U],i[j],i[Q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Jy(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):SE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const U=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||g==null||v==null||U==null)throw new bE;const j=h<<2|g>>4;if(r.push(j),v!==64){const Q=g<<4&240|v>>2;if(r.push(Q),U!==64){const J=v<<6&192|U;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class bE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RE=function(s){const e=Jy(s);return Wy.encodeByteArray(e,!0)},Vu=function(s){return RE(s).replace(/\./g,"")},wE=function(s){try{return Wy.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=()=>CE().__FIREBASE_DEFAULTS__,IE=()=>{if(typeof process>"u"||typeof Lp>"u")return;const s=Lp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},VE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&wE(s[1]);return e&&JSON.parse(e)},Xf=()=>{try{return AE()||DE()||IE()||VE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},OE=s=>{var e,i;return(i=(e=Xf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},NE=s=>{const e=OE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},t_=()=>{var s;return(s=Xf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Vu(JSON.stringify(i)),Vu(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zE(){var s;const e=(s=Xf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LE(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function kE(){return!zE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function e_(){try{return typeof indexedDB=="object"}catch{return!1}}function n_(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}function BE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="FirebaseError";class Ia extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=jE,Object.setPrototypeOf(this,Ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hu.prototype.create)}}class Hu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?qE(h,r):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Ia(u,g,r)}}function qE(s,e){return s.replace(PE,(i,r)=>{const u=e[r];return u!=null?String(u):`<${r}?>`})}const PE=/\{\$([^}]+)}/g;function jl(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const u of i){if(!r.includes(u))return!1;const h=s[u],d=e[u];if(kp(h)&&kp(d)){if(!jl(h,d))return!1}else if(h!==d)return!1}for(const u of r)if(!i.includes(u))return!1;return!0}function kp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=1e3,GE=2,QE=4*60*60*1e3,FE=.5;function Bp(s,e=HE,i=GE){const r=e*Math.pow(i,s),u=Math.round(FE*r*(Math.random()-.5)*2);return Math.min(QE,r+u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(s){return s&&s._delegate?s._delegate:s}class Oi{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new ME;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XE(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});r.resolve(h)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);r===g&&d.resolve(u)}return u}onInit(e,i){var r;const u=this.normalizeInstanceIdentifier(i),h=(r=this.onInitCallbacks.get(u))!==null&&r!==void 0?r:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const u of r)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YE(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YE(s){return s===os?void 0:s}function XE(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new KE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Nt||(Nt={}));const $E={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},JE=Nt.INFO,WE={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},tT=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),u=WE[e];if(u)console[u](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $f{constructor(e){this.name=e,this._logLevel=JE,this._logHandler=tT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$E[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}const eT=(s,e)=>e.some(i=>s instanceof i);let jp,qp;function nT(){return jp||(jp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iT(){return qp||(qp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i_=new WeakMap,bf=new WeakMap,a_=new WeakMap,uf=new WeakMap,Jf=new WeakMap;function aT(s){const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(va(s.result)),u()},d=()=>{r(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&i_.set(i,s)}).catch(()=>{}),Jf.set(e,s),e}function sT(s){if(bf.has(s))return;const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});bf.set(s,e)}let Rf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return bf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||a_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return va(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function rT(s){Rf=s(Rf)}function lT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(cf(this),e,...i);return a_.set(r,e.sort?e.sort():[e]),va(r)}:iT().includes(s)?function(...e){return s.apply(cf(this),e),va(i_.get(this))}:function(...e){return va(s.apply(cf(this),e))}}function oT(s){return typeof s=="function"?lT(s):(s instanceof IDBTransaction&&sT(s),eT(s,nT())?new Proxy(s,Rf):s)}function va(s){if(s instanceof IDBRequest)return aT(s);if(uf.has(s))return uf.get(s);const e=oT(s);return e!==s&&(uf.set(s,e),Jf.set(e,s)),e}const cf=s=>Jf.get(s);function s_(s,e,{blocked:i,upgrade:r,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),g=va(d);return r&&d.addEventListener("upgradeneeded",_=>{r(va(d.result),_.oldVersion,_.newVersion,va(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const uT=["get","getKey","getAll","getAllKeys","count"],cT=["put","add","delete","clear"],hf=new Map;function Pp(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(hf.get(e))return hf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,u=cT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(u||uT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return hf.set(e,h),h}rT(s=>({...s,get:(e,i,r)=>Pp(e,i)||s.get(e,i,r),has:(e,i)=>!!Pp(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(fT(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function fT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wf="@firebase/app",Hp="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new $f("@firebase/app"),dT="@firebase/app-compat",mT="@firebase/analytics-compat",gT="@firebase/analytics",pT="@firebase/app-check-compat",yT="@firebase/app-check",_T="@firebase/auth",vT="@firebase/auth-compat",ET="@firebase/database",TT="@firebase/data-connect",AT="@firebase/database-compat",ST="@firebase/functions",bT="@firebase/functions-compat",RT="@firebase/installations",wT="@firebase/installations-compat",CT="@firebase/messaging",DT="@firebase/messaging-compat",IT="@firebase/performance",VT="@firebase/performance-compat",OT="@firebase/remote-config",NT="@firebase/remote-config-compat",MT="@firebase/storage",xT="@firebase/storage-compat",UT="@firebase/firestore",zT="@firebase/vertexai",LT="@firebase/firestore-compat",kT="firebase",BT="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf="[DEFAULT]",jT={[wf]:"fire-core",[dT]:"fire-core-compat",[gT]:"fire-analytics",[mT]:"fire-analytics-compat",[yT]:"fire-app-check",[pT]:"fire-app-check-compat",[_T]:"fire-auth",[vT]:"fire-auth-compat",[ET]:"fire-rtdb",[TT]:"fire-data-connect",[AT]:"fire-rtdb-compat",[ST]:"fire-fn",[bT]:"fire-fn-compat",[RT]:"fire-iid",[wT]:"fire-iid-compat",[CT]:"fire-fcm",[DT]:"fire-fcm-compat",[IT]:"fire-perf",[VT]:"fire-perf-compat",[OT]:"fire-rc",[NT]:"fire-rc-compat",[MT]:"fire-gcs",[xT]:"fire-gcs-compat",[UT]:"fire-fst",[LT]:"fire-fst-compat",[zT]:"fire-vertex","fire-js":"fire-js",[kT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new Map,qT=new Map,Df=new Map;function Gp(s,e){try{s.container.addComponent(e)}catch(i){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Aa(s){const e=s.name;if(Df.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;Df.set(e,s);for(const i of Ou.values())Gp(i,s);for(const i of qT.values())Gp(i,s);return!0}function Fl(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function PT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ea=new Hu("app","Firebase",HT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=BT;function r_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cf,automaticDataCollectionEnabled:!1},e),u=r.name;if(typeof u!="string"||!u)throw Ea.create("bad-app-name",{appName:String(u)});if(i||(i=t_()),!i)throw Ea.create("no-options");const h=Ou.get(u);if(h){if(jl(i,h.options)&&jl(r,h.config))return h;throw Ea.create("duplicate-app",{appName:u})}const d=new ZE(u);for(const _ of Df.values())d.addComponent(_);const g=new GT(i,r,d);return Ou.set(u,g),g}function l_(s=Cf){const e=Ou.get(s);if(!e&&s===Cf&&t_())return r_();if(!e)throw Ea.create("no-app",{appName:s});return e}function ti(s,e,i){var r;let u=(r=jT[s])!==null&&r!==void 0?r:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(g.join(" "));return}Aa(new Oi(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="firebase-heartbeat-database",KT=1,ql="firebase-heartbeat-store";let ff=null;function o_(){return ff||(ff=s_(FT,KT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ql)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ea.create("idb-open",{originalErrorMessage:s.message})})),ff}async function YT(s){try{const i=(await o_()).transaction(ql),r=await i.objectStore(ql).get(u_(s));return await i.done,r}catch(e){if(e instanceof Ia)Ni.warn(e.message);else{const i=Ea.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(i.message)}}}async function Qp(s,e){try{const r=(await o_()).transaction(ql,"readwrite");await r.objectStore(ql).put(e,u_(s)),await r.done}catch(i){if(i instanceof Ia)Ni.warn(i.message);else{const r=Ea.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ni.warn(r.message)}}}function u_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=1024,ZT=30;class $T{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new WT(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Fp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>ZT){const d=tA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Fp(),{heartbeatsToSend:r,unsentEntries:u}=JT(this._heartbeatsCache.heartbeats),h=Vu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ni.warn(i),""}}}function Fp(){return new Date().toISOString().substring(0,10)}function JT(s,e=XT){const i=[];let r=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Kp(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Kp(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class WT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return e_()?n_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await YT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Qp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Qp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function Kp(s){return Vu(JSON.stringify({version:2,heartbeats:s})).length}function tA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(s){Aa(new Oi("platform-logger",e=>new hT(e),"PRIVATE")),Aa(new Oi("heartbeat",e=>new $T(e),"PRIVATE")),ti(wf,Hp,s),ti(wf,Hp,"esm2017"),ti("fire-js","")}eA("");var Yp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ta,c_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,b){function A(){}A.prototype=b.prototype,M.D=b.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(C,V,N){for(var w=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)w[ge-2]=arguments[ge];return b.prototype[V].apply(C,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(M,b,A){A||(A=0);var C=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)C[V]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(V=0;16>V;++V)C[V]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=M.g[0],A=M.g[1],V=M.g[2];var N=M.g[3],w=b+(N^A&(V^N))+C[0]+3614090360&4294967295;b=A+(w<<7&4294967295|w>>>25),w=N+(V^b&(A^V))+C[1]+3905402710&4294967295,N=b+(w<<12&4294967295|w>>>20),w=V+(A^N&(b^A))+C[2]+606105819&4294967295,V=N+(w<<17&4294967295|w>>>15),w=A+(b^V&(N^b))+C[3]+3250441966&4294967295,A=V+(w<<22&4294967295|w>>>10),w=b+(N^A&(V^N))+C[4]+4118548399&4294967295,b=A+(w<<7&4294967295|w>>>25),w=N+(V^b&(A^V))+C[5]+1200080426&4294967295,N=b+(w<<12&4294967295|w>>>20),w=V+(A^N&(b^A))+C[6]+2821735955&4294967295,V=N+(w<<17&4294967295|w>>>15),w=A+(b^V&(N^b))+C[7]+4249261313&4294967295,A=V+(w<<22&4294967295|w>>>10),w=b+(N^A&(V^N))+C[8]+1770035416&4294967295,b=A+(w<<7&4294967295|w>>>25),w=N+(V^b&(A^V))+C[9]+2336552879&4294967295,N=b+(w<<12&4294967295|w>>>20),w=V+(A^N&(b^A))+C[10]+4294925233&4294967295,V=N+(w<<17&4294967295|w>>>15),w=A+(b^V&(N^b))+C[11]+2304563134&4294967295,A=V+(w<<22&4294967295|w>>>10),w=b+(N^A&(V^N))+C[12]+1804603682&4294967295,b=A+(w<<7&4294967295|w>>>25),w=N+(V^b&(A^V))+C[13]+4254626195&4294967295,N=b+(w<<12&4294967295|w>>>20),w=V+(A^N&(b^A))+C[14]+2792965006&4294967295,V=N+(w<<17&4294967295|w>>>15),w=A+(b^V&(N^b))+C[15]+1236535329&4294967295,A=V+(w<<22&4294967295|w>>>10),w=b+(V^N&(A^V))+C[1]+4129170786&4294967295,b=A+(w<<5&4294967295|w>>>27),w=N+(A^V&(b^A))+C[6]+3225465664&4294967295,N=b+(w<<9&4294967295|w>>>23),w=V+(b^A&(N^b))+C[11]+643717713&4294967295,V=N+(w<<14&4294967295|w>>>18),w=A+(N^b&(V^N))+C[0]+3921069994&4294967295,A=V+(w<<20&4294967295|w>>>12),w=b+(V^N&(A^V))+C[5]+3593408605&4294967295,b=A+(w<<5&4294967295|w>>>27),w=N+(A^V&(b^A))+C[10]+38016083&4294967295,N=b+(w<<9&4294967295|w>>>23),w=V+(b^A&(N^b))+C[15]+3634488961&4294967295,V=N+(w<<14&4294967295|w>>>18),w=A+(N^b&(V^N))+C[4]+3889429448&4294967295,A=V+(w<<20&4294967295|w>>>12),w=b+(V^N&(A^V))+C[9]+568446438&4294967295,b=A+(w<<5&4294967295|w>>>27),w=N+(A^V&(b^A))+C[14]+3275163606&4294967295,N=b+(w<<9&4294967295|w>>>23),w=V+(b^A&(N^b))+C[3]+4107603335&4294967295,V=N+(w<<14&4294967295|w>>>18),w=A+(N^b&(V^N))+C[8]+1163531501&4294967295,A=V+(w<<20&4294967295|w>>>12),w=b+(V^N&(A^V))+C[13]+2850285829&4294967295,b=A+(w<<5&4294967295|w>>>27),w=N+(A^V&(b^A))+C[2]+4243563512&4294967295,N=b+(w<<9&4294967295|w>>>23),w=V+(b^A&(N^b))+C[7]+1735328473&4294967295,V=N+(w<<14&4294967295|w>>>18),w=A+(N^b&(V^N))+C[12]+2368359562&4294967295,A=V+(w<<20&4294967295|w>>>12),w=b+(A^V^N)+C[5]+4294588738&4294967295,b=A+(w<<4&4294967295|w>>>28),w=N+(b^A^V)+C[8]+2272392833&4294967295,N=b+(w<<11&4294967295|w>>>21),w=V+(N^b^A)+C[11]+1839030562&4294967295,V=N+(w<<16&4294967295|w>>>16),w=A+(V^N^b)+C[14]+4259657740&4294967295,A=V+(w<<23&4294967295|w>>>9),w=b+(A^V^N)+C[1]+2763975236&4294967295,b=A+(w<<4&4294967295|w>>>28),w=N+(b^A^V)+C[4]+1272893353&4294967295,N=b+(w<<11&4294967295|w>>>21),w=V+(N^b^A)+C[7]+4139469664&4294967295,V=N+(w<<16&4294967295|w>>>16),w=A+(V^N^b)+C[10]+3200236656&4294967295,A=V+(w<<23&4294967295|w>>>9),w=b+(A^V^N)+C[13]+681279174&4294967295,b=A+(w<<4&4294967295|w>>>28),w=N+(b^A^V)+C[0]+3936430074&4294967295,N=b+(w<<11&4294967295|w>>>21),w=V+(N^b^A)+C[3]+3572445317&4294967295,V=N+(w<<16&4294967295|w>>>16),w=A+(V^N^b)+C[6]+76029189&4294967295,A=V+(w<<23&4294967295|w>>>9),w=b+(A^V^N)+C[9]+3654602809&4294967295,b=A+(w<<4&4294967295|w>>>28),w=N+(b^A^V)+C[12]+3873151461&4294967295,N=b+(w<<11&4294967295|w>>>21),w=V+(N^b^A)+C[15]+530742520&4294967295,V=N+(w<<16&4294967295|w>>>16),w=A+(V^N^b)+C[2]+3299628645&4294967295,A=V+(w<<23&4294967295|w>>>9),w=b+(V^(A|~N))+C[0]+4096336452&4294967295,b=A+(w<<6&4294967295|w>>>26),w=N+(A^(b|~V))+C[7]+1126891415&4294967295,N=b+(w<<10&4294967295|w>>>22),w=V+(b^(N|~A))+C[14]+2878612391&4294967295,V=N+(w<<15&4294967295|w>>>17),w=A+(N^(V|~b))+C[5]+4237533241&4294967295,A=V+(w<<21&4294967295|w>>>11),w=b+(V^(A|~N))+C[12]+1700485571&4294967295,b=A+(w<<6&4294967295|w>>>26),w=N+(A^(b|~V))+C[3]+2399980690&4294967295,N=b+(w<<10&4294967295|w>>>22),w=V+(b^(N|~A))+C[10]+4293915773&4294967295,V=N+(w<<15&4294967295|w>>>17),w=A+(N^(V|~b))+C[1]+2240044497&4294967295,A=V+(w<<21&4294967295|w>>>11),w=b+(V^(A|~N))+C[8]+1873313359&4294967295,b=A+(w<<6&4294967295|w>>>26),w=N+(A^(b|~V))+C[15]+4264355552&4294967295,N=b+(w<<10&4294967295|w>>>22),w=V+(b^(N|~A))+C[6]+2734768916&4294967295,V=N+(w<<15&4294967295|w>>>17),w=A+(N^(V|~b))+C[13]+1309151649&4294967295,A=V+(w<<21&4294967295|w>>>11),w=b+(V^(A|~N))+C[4]+4149444226&4294967295,b=A+(w<<6&4294967295|w>>>26),w=N+(A^(b|~V))+C[11]+3174756917&4294967295,N=b+(w<<10&4294967295|w>>>22),w=V+(b^(N|~A))+C[2]+718787259&4294967295,V=N+(w<<15&4294967295|w>>>17),w=A+(N^(V|~b))+C[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+N&4294967295}r.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var A=b-this.blockSize,C=this.B,V=this.h,N=0;N<b;){if(V==0)for(;N<=A;)u(this,M,N),N+=this.blockSize;if(typeof M=="string"){for(;N<b;)if(C[V++]=M.charCodeAt(N++),V==this.blockSize){u(this,C),V=0;break}}else for(;N<b;)if(C[V++]=M[N++],V==this.blockSize){u(this,C),V=0;break}}this.h=V,this.o+=b},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var A=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=A&255,A/=256;for(this.u(M),M=Array(16),b=A=0;4>b;++b)for(var C=0;32>C;C+=8)M[A++]=this.g[b]>>>C&255;return M};function h(M,b){var A=g;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=b(M)}function d(M,b){this.h=b;for(var A=[],C=!0,V=M.length-1;0<=V;V--){var N=M[V]|0;C&&N==b||(A[V]=N,C=!1)}this.g=A}var g={};function _(M){return-128<=M&&128>M?h(M,function(b){return new d([b|0],0>b?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return U;if(0>M)return W(v(-M));for(var b=[],A=1,C=0;M>=A;C++)b[C]=M/A|0,A*=4294967296;return new d(b,0)}function R(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return W(R(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(b,8)),C=U,V=0;V<M.length;V+=8){var N=Math.min(8,M.length-V),w=parseInt(M.substring(V,V+N),b);8>N?(N=v(Math.pow(b,N)),C=C.j(N).add(v(w))):(C=C.j(A),C=C.add(v(w)))}return C}var U=_(0),j=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if(rt(this))return-W(this).m();for(var M=0,b=1,A=0;A<this.g.length;A++){var C=this.i(A);M+=(0<=C?C:4294967296+C)*b,b*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(J(this))return"0";if(rt(this))return"-"+W(this).toString(M);for(var b=v(Math.pow(M,6)),A=this,C="";;){var V=Ht(A,b).g;A=Rt(A,V.j(b));var N=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=V,J(A))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function J(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function rt(M){return M.h==-1}s.l=function(M){return M=Rt(this,M),rt(M)?-1:J(M)?0:1};function W(M){for(var b=M.g.length,A=[],C=0;C<b;C++)A[C]=~M.g[C];return new d(A,~M.h).add(j)}s.abs=function(){return rt(this)?W(this):this},s.add=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],C=0,V=0;V<=b;V++){var N=C+(this.i(V)&65535)+(M.i(V)&65535),w=(N>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);C=w>>>16,N&=65535,w&=65535,A[V]=w<<16|N}return new d(A,A[A.length-1]&-2147483648?-1:0)};function Rt(M,b){return M.add(W(b))}s.j=function(M){if(J(this)||J(M))return U;if(rt(this))return rt(M)?W(this).j(W(M)):W(W(this).j(M));if(rt(M))return W(this.j(W(M)));if(0>this.l(Q)&&0>M.l(Q))return v(this.m()*M.m());for(var b=this.g.length+M.g.length,A=[],C=0;C<2*b;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(var V=0;V<M.g.length;V++){var N=this.i(C)>>>16,w=this.i(C)&65535,ge=M.i(V)>>>16,ue=M.i(V)&65535;A[2*C+2*V]+=w*ue,mt(A,2*C+2*V),A[2*C+2*V+1]+=N*ue,mt(A,2*C+2*V+1),A[2*C+2*V+1]+=w*ge,mt(A,2*C+2*V+1),A[2*C+2*V+2]+=N*ge,mt(A,2*C+2*V+2)}for(C=0;C<b;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=b;C<2*b;C++)A[C]=0;return new d(A,0)};function mt(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function ht(M,b){this.g=M,this.h=b}function Ht(M,b){if(J(b))throw Error("division by zero");if(J(M))return new ht(U,U);if(rt(M))return b=Ht(W(M),b),new ht(W(b.g),W(b.h));if(rt(b))return b=Ht(M,W(b)),new ht(W(b.g),b.h);if(30<M.g.length){if(rt(M)||rt(b))throw Error("slowDivide_ only works with positive integers.");for(var A=j,C=b;0>=C.l(M);)A=yt(A),C=yt(C);var V=Ct(A,1),N=Ct(C,1);for(C=Ct(C,2),A=Ct(A,2);!J(C);){var w=N.add(C);0>=w.l(M)&&(V=V.add(A),N=w),C=Ct(C,1),A=Ct(A,1)}return b=Rt(M,V.j(b)),new ht(V,b)}for(V=U;0<=M.l(b);){for(A=Math.max(1,Math.floor(M.m()/b.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=v(A),w=N.j(b);rt(w)||0<w.l(M);)A-=C,N=v(A),w=N.j(b);J(N)&&(N=j),V=V.add(N),M=Rt(M,w)}return new ht(V,M)}s.A=function(M){return Ht(this,M).h},s.and=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],C=0;C<b;C++)A[C]=this.i(C)&M.i(C);return new d(A,this.h&M.h)},s.or=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],C=0;C<b;C++)A[C]=this.i(C)|M.i(C);return new d(A,this.h|M.h)},s.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],C=0;C<b;C++)A[C]=this.i(C)^M.i(C);return new d(A,this.h^M.h)};function yt(M){for(var b=M.g.length+1,A=[],C=0;C<b;C++)A[C]=M.i(C)<<1|M.i(C-1)>>>31;return new d(A,M.h)}function Ct(M,b){var A=b>>5;b%=32;for(var C=M.g.length-A,V=[],N=0;N<C;N++)V[N]=0<b?M.i(N+A)>>>b|M.i(N+A+1)<<32-b:M.i(N+A);return new d(V,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,c_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=R,Ta=d}).apply(typeof Yp<"u"?Yp:typeof self<"u"?self:typeof window<"u"?window:{});var vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h_,Nl,f_,Ru,If,d_,m_,g_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof vu=="object"&&vu];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function u(o,m){if(m)t:{var p=r;o=o.split(".");for(var T=0;T<o.length-1;T++){var z=o[T];if(!(z in p))break t;p=p[z]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,z={next:function(){if(!T&&p<o.length){var B=p++;return{value:m(B,o[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function R(o,m,p){return o.call.apply(o.bind,arguments)}function U(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),o.apply(m,z)}}return function(){return o.apply(m,arguments)}}function j(o,m,p){return j=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?R:U,j.apply(null,arguments)}function Q(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function J(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,z,B){for(var X=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)X[Dt-2]=arguments[Dt];return m.prototype[z].apply(T,X)}}function rt(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function W(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const z=o.length||0,B=T.length||0;o.length=z+B;for(let X=0;X<B;X++)o[z+X]=T[X]}else o.push(T)}}class Rt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function mt(o){return/^[\s\xa0]*$/.test(o)}function ht(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function Ht(o){return Ht[" "](o),o}Ht[" "]=function(){};var yt=ht().indexOf("Gecko")!=-1&&!(ht().toLowerCase().indexOf("webkit")!=-1&&ht().indexOf("Edge")==-1)&&!(ht().indexOf("Trident")!=-1||ht().indexOf("MSIE")!=-1)&&ht().indexOf("Edge")==-1;function Ct(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function M(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function b(o){const m={};for(const p in o)m[p]=o[p];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(o,m){let p,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(p in T)o[p]=T[p];for(let B=0;B<A.length;B++)p=A[B],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function V(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function N(o){g.setTimeout(()=>{throw o},0)}function w(){var o=jt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,p){const T=ue.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ue=new Rt(()=>new $,o=>o.reset());class ${constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,ot=!1,jt=new ge,D=()=>{const o=g.Promise.resolve(void 0);ft=()=>{o.then(Y)}};var Y=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(p){N(p)}var m=ue;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ot=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function Tt(o,m){if(tt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(yt){t:{try{Ht(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:vt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Tt.aa.h.call(this)}}J(Tt,tt);var vt={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),zt=0;function Wt(o,m,p,T,z){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=z,this.key=++zt,this.da=this.fa=!1}function Pt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Ge(o){this.src=o,this.g={},this.h=0}Ge.prototype.add=function(o,m,p,T,z){var B=o.toString();o=this.g[B],o||(o=this.g[B]=[],this.h++);var X=fn(o,m,T,z);return-1<X?(m=o[X],p||(m.fa=!1)):(m=new Wt(m,this.src,B,!!T,z),m.fa=p,o.push(m)),m};function ai(o,m){var p=m.type;if(p in o.g){var T=o.g[p],z=Array.prototype.indexOf.call(T,m,void 0),B;(B=0<=z)&&Array.prototype.splice.call(T,z,1),B&&(Pt(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function fn(o,m,p,T){for(var z=0;z<o.length;++z){var B=o[z];if(!B.da&&B.listener==m&&B.capture==!!p&&B.ha==T)return z}return-1}var xi="closure_lm_"+(1e6*Math.random()|0),Ui={};function si(o,m,p,T,z){if(Array.isArray(m)){for(var B=0;B<m.length;B++)si(o,m[B],p,T,z);return null}return p=$l(p),o&&o[ce]?o.K(m,p,v(T)?!!T.capture:!1,z):Rr(o,m,p,!1,T,z)}function Rr(o,m,p,T,z,B){if(!m)throw Error("Invalid event type");var X=v(z)?!!z.capture:!!z,Dt=wr(o);if(Dt||(o[xi]=Dt=new Ge(o)),p=Dt.add(m,p,T,X,B),p.proxy)return p;if(T=ys(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)et||(z=X),z===void 0&&(z=!1),o.addEventListener(m.toString(),T,z);else if(o.attachEvent)o.attachEvent(vs(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ys(){function o(p){return m.call(o.src,o.listener,p)}const m=ac;return o}function _s(o,m,p,T,z){if(Array.isArray(m))for(var B=0;B<m.length;B++)_s(o,m[B],p,T,z);else T=v(T)?!!T.capture:!!T,p=$l(p),o&&o[ce]?(o=o.i,m=String(m).toString(),m in o.g&&(B=o.g[m],p=fn(B,p,T,z),-1<p&&(Pt(B[p]),Array.prototype.splice.call(B,p,1),B.length==0&&(delete o.g[m],o.h--)))):o&&(o=wr(o))&&(m=o.g[m.toString()],o=-1,m&&(o=fn(m,p,T,z)),(p=-1<o?m[o]:null)&&Va(p))}function Va(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[ce])ai(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(vs(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=wr(m))?(ai(p,o),p.h==0&&(p.src=null,m[xi]=null)):Pt(o)}}}function vs(o){return o in Ui?Ui[o]:Ui[o]="on"+o}function ac(o,m){if(o.da)o=!0;else{m=new Tt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&Va(o),o=p.call(T,m)}return o}function wr(o){return o=o[xi],o instanceof Ge?o:null}var $e="__closure_events_fn_"+(1e9*Math.random()>>>0);function $l(o){return typeof o=="function"?o:(o[$e]||(o[$e]=function(m){return o.handleEvent(m)}),o[$e])}function pe(){st.call(this),this.i=new Ge(this),this.M=this,this.F=null}J(pe,st),pe.prototype[ce]=!0,pe.prototype.removeEventListener=function(o,m,p,T){_s(this,o,m,p,T)};function be(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new tt(m,o);else if(m instanceof tt)m.target=m.target||o;else{var z=m;m=new tt(T,o),C(m,z)}if(z=!0,p)for(var B=p.length-1;0<=B;B--){var X=m.g=p[B];z=ri(X,T,!0,m)&&z}if(X=m.g=o,z=ri(X,T,!0,m)&&z,z=ri(X,T,!1,m)&&z,p)for(B=0;B<p.length;B++)X=m.g=p[B],z=ri(X,T,!1,m)&&z}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Pt(p[T]);delete o.g[m],o.h--}}this.F=null},pe.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},pe.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function ri(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,B=0;B<m.length;++B){var X=m[B];if(X&&!X.da&&X.capture==p){var Dt=X.listener,_e=X.ha||X.src;X.fa&&ai(o.i,X),z=Dt.call(_e,T)!==!1&&z}}return z&&!T.defaultPrevented}function Jl(o,m,p){if(typeof o=="function")p&&(o=j(o,p));else if(o&&typeof o.handleEvent=="function")o=j(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function Cr(o){o.g=Jl(()=>{o.g=null,o.i&&(o.i=!1,Cr(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class sc extends st{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Cr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oa(o){st.call(this),this.h=o,this.g={}}J(Oa,st);var zi=[];function ke(o){Ct(o.g,function(m,p){this.g.hasOwnProperty(p)&&Va(m)},o),o.g={}}Oa.prototype.N=function(){Oa.aa.N.call(this),ke(this)},Oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dr=g.JSON.stringify,zn=g.JSON.parse,Qe=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Ir(){}Ir.prototype.h=null;function Wl(o){return o.h||(o.h=o.i())}function to(){}var Ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){tt.call(this,"d")}J(Li,tt);function Vn(){tt.call(this,"c")}J(Vn,tt);var dn={},ki=null;function Es(){return ki=ki||new pe}dn.La="serverreachability";function Vr(o){tt.call(this,dn.La,o)}J(Vr,tt);function Bi(o){const m=Es();be(m,new Vr(m))}dn.STAT_EVENT="statevent";function Ts(o,m){tt.call(this,dn.STAT_EVENT,o),this.stat=m}J(Ts,tt);function se(o){const m=Es();be(m,new Ts(m,o))}dn.Ma="timingevent";function eo(o,m){tt.call(this,dn.Ma,o),this.size=m}J(eo,tt);function ji(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function qi(){this.g=!0}qi.prototype.xa=function(){this.g=!1};function no(o,m,p,T,z,B){o.info(function(){if(o.g)if(B)for(var X="",Dt=B.split("&"),_e=0;_e<Dt.length;_e++){var It=Dt[_e].split("=");if(1<It.length){var Ce=It[0];It=It[1];var ve=Ce.split("_");X=2<=ve.length&&ve[1]=="type"?X+(Ce+"="+It+"&"):X+(Ce+"=redacted&")}}else X=null;else X=B;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+p+`
`+X})}function io(o,m,p,T,z,B,X){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+p+`
`+B+" "+X})}function Pi(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Re(o,p)+(T?" "+T:"")})}function kn(o,m){o.info(function(){return"TIMEOUT: "+m})}qi.prototype.info=function(){};function Re(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var B=z[0];if(B!="noop"&&B!="stop"&&B!="close")for(var X=1;X<z.length;X++)z[X]=""}}}}return Dr(p)}catch{return m}}var ye={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Na;function As(){}J(As,Ir),As.prototype.g=function(){return new XMLHttpRequest},As.prototype.i=function(){return{}},Na=new As;function Bn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Oa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Or}function Or(){this.i=null,this.g="",this.h=!1}var Hi={},Ma={};function On(o,m,p){o.L=1,o.v=za(te(m)),o.m=p,o.P=!0,oi(o,null)}function oi(o,m){o.F=Date.now(),Xt(o),o.A=te(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),hi(p.i,"t",T),o.C=0,p=o.j.J,o.h=new Or,o.g=_o(o.j,p?m:null,!o.m),0<o.O&&(o.M=new sc(j(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var z="readystatechange";Array.isArray(z)||(z&&(zi[0]=z.toString()),z=zi);for(var B=0;B<z.length;B++){var X=si(p,z[B],T||m.handleEvent,!1,m.h||m);if(!X)break;m.g[X.key]=X}m=o.H?b(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Bi(),no(o.i,o.u,o.A,o.l,o.R,o.m)}Bn.prototype.ca=function(o){o=o.target;const m=this.M;m&&_n(o)==3?m.j():this.Y(o)},Bn.prototype.Y=function(o){try{if(o==this.g)t:{const ve=_n(this.g);var m=this.g.Ba();const gi=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||uo(this.g)))){this.J||ve!=4||m==7||(m==8||0>=gi?Bi(3):Bi(2)),Ss(this);var p=this.g.Z();this.X=p;e:if(Gi(this)){var T=uo(this.g);o="";var z=T.length,B=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Je(this),an(this);var X="";break e}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(B&&m==z-1)});T.length=0,this.h.g+=o,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=p==200,io(this.i,this.u,this.A,this.l,this.R,ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Dt,_e=this.g;if((Dt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mt(Dt)){var It=Dt;break e}}It=null}if(p=It)Pi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sn(this,p);else{this.o=!1,this.s=3,se(12),Je(this),an(this);break t}}if(this.P){p=!0;let Ne;for(;!this.J&&this.C<X.length;)if(Ne=Qi(this,X),Ne==Ma){ve==4&&(this.s=4,se(14),p=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ne==Hi){this.s=4,se(15),Pi(this.i,this.l,X,"[Invalid Chunk]"),p=!1;break}else Pi(this.i,this.l,Ne,null),sn(this,Ne);if(Gi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||X.length!=0||this.h.h||(this.s=1,se(16),p=!1),this.o=this.o&&p,!p)Pi(this.i,this.l,X,"[Invalid Chunked Response]"),Je(this),an(this);else if(0<X.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Ha(Ce),Ce.M=!0,se(11))}}else Pi(this.i,this.l,X,null),sn(this,X);ve==4&&Je(this),this.o&&!this.J&&(ve==4?go(this.j,this):(this.o=!1,Xt(this)))}else hc(this.g),p==400&&0<X.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),Je(this),an(this)}}}catch{}finally{}};function Gi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Qi(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Ma:(p=Number(m.substring(p,T)),isNaN(p)?Hi:(T+=1,T+p>m.length?Ma:(m=m.slice(T,T+p),o.C=T+p,m)))}Bn.prototype.cancel=function(){this.J=!0,Je(this)};function Xt(o){o.S=Date.now()+o.I,Nr(o,o.I)}function Nr(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ji(j(o.ba,o),m)}function Ss(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Bn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(kn(this.i,this.A),this.L!=2&&(Bi(),se(17)),Je(this),this.s=2,an(this)):Nr(this,this.S-o)};function an(o){o.j.G==0||o.J||go(o.j,o)}function Je(o){Ss(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,ke(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function sn(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Fi(p.h,o))){if(!o.K&&Fi(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Ms(p),Os(p);else break t;Hr(p),se(18)}}else p.za=z[1],0<p.za-p.T&&37500>z[2]&&p.F&&p.v==0&&!p.C&&(p.C=ji(j(p.Za,p),6e3));if(1>=ao(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else mi(p,11)}else if((o.K||p.g==o)&&Ms(p),!mt(m))for(z=p.Da.g.parse(m),m=0;m<z.length;m++){let It=z[m];if(p.T=It[0],It=It[1],p.G==2)if(It[0]=="c"){p.K=It[1],p.ia=It[2];const Ce=It[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const ve=It[4];ve!=null&&(p.Aa=ve,p.j.info("SVER="+p.Aa));const gi=It[5];gi!=null&&typeof gi=="number"&&0<gi&&(T=1.5*gi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Ne=o.g;if(Ne){const Fn=Ne.g?Ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fn){var B=T.h;B.g||Fn.indexOf("spdy")==-1&&Fn.indexOf("quic")==-1&&Fn.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ki(B,B.h),B.h=null))}if(T.D){const Qr=Ne.g?Ne.g.getResponseHeader("X-HTTP-Session-Id"):null;Qr&&(T.ya=Qr,Lt(T.I,T.D,Qr))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var X=o;if(T.qa=yo(T,T.J?T.ia:null,T.W),X.K){mn(T.h,X);var Dt=X,_e=T.L;_e&&(Dt.I=_e),Dt.B&&(Ss(Dt),Xt(Dt)),T.g=X}else fo(T);0<p.i.length&&Ns(p)}else It[0]!="stop"&&It[0]!="close"||mi(p,7);else p.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?mi(p,7):qr(p):It[0]!="noop"&&p.l&&p.l.ta(It),p.v=0)}}Bi(4)}catch{}}var rc=class{constructor(o,m){this.g=o,this.map=m}};function Mr(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xr(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ao(o){return o.h?1:o.g?o.g.size:0}function Fi(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Ki(o,m){o.g?o.g.add(m):o.h=m}function mn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Mr.prototype.cancel=function(){if(this.i=Fe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Fe(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return rt(o.i)}function so(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function lc(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function xa(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=lc(o),T=so(o),z=T.length,B=0;B<z;B++)m.call(void 0,T[B],p&&p[B],o)}var Ur=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bs(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),z=null;if(0<=T){var B=o[p].substring(0,T);z=o[p].substring(T+1)}else B=o[p];m(B,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ui(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof ui){this.h=o.h,Yi(this,o.j),this.o=o.o,this.g=o.g,Ua(this,o.s),this.l=o.l;var m=o.i,p=new jn;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Rs(this,p),this.m=o.m}else o&&(m=String(o).match(Ur))?(this.h=!1,Yi(this,m[1]||"",!0),this.o=Xi(m[2]||""),this.g=Xi(m[3]||"",!0),Ua(this,m[4]),this.l=Xi(m[5]||"",!0),Rs(this,m[6]||"",!0),this.m=Xi(m[7]||"")):(this.h=!1,this.i=new jn(null,this.h))}ui.prototype.toString=function(){var o=[],m=this.j;m&&o.push(gn(m,zr,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(gn(m,zr,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(gn(p,p.charAt(0)=="/"?Lr:ro,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",gn(p,cc)),o.join("")};function te(o){return new ui(o)}function Yi(o,m,p){o.j=p?Xi(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Ua(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Rs(o,m,p){m instanceof jn?(o.i=m,kr(o.i,o.h)):(p||(m=gn(m,uc)),o.i=new jn(m,o.h))}function Lt(o,m,p){o.i.set(m,p)}function za(o){return Lt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Xi(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function gn(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,oc),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function oc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var zr=/[#\/\?@]/g,ro=/[#\?:]/g,Lr=/[#\?]/g,uc=/[#\?@]/g,cc=/#/g;function jn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function pn(o){o.g||(o.g=new Map,o.h=0,o.i&&bs(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=jn.prototype,s.add=function(o,m){pn(this),this.i=null,o=fi(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function ws(o,m){pn(o),m=fi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function ci(o,m){return pn(o),m=fi(o,m),o.g.has(m)}s.forEach=function(o,m){pn(this),this.g.forEach(function(p,T){p.forEach(function(z){o.call(m,z,T,this)},this)},this)},s.na=function(){pn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const z=o[T];for(let B=0;B<z.length;B++)p.push(m[T])}return p},s.V=function(o){pn(this);let m=[];if(typeof o=="string")ci(this,o)&&(m=m.concat(this.g.get(fi(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return pn(this),this.i=null,o=fi(this,o),ci(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function hi(o,m,p){ws(o,m),0<p.length&&(o.i=null,o.g.set(fi(o,m),rt(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const B=encodeURIComponent(String(T)),X=this.V(T);for(T=0;T<X.length;T++){var z=B;X[T]!==""&&(z+="="+encodeURIComponent(String(X[T]))),o.push(z)}}return this.i=o.join("&")};function fi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function kr(o,m){m&&!o.j&&(pn(o),o.i=null,o.g.forEach(function(p,T){var z=T.toLowerCase();T!=z&&(ws(this,T),hi(this,z,p))},o)),o.j=m}function lo(o,m){const p=new qi;if(g.Image){const T=new Image;T.onload=Q(yn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=Q(yn,p,"TestLoadImage: error",!1,m,T),T.onabort=Q(yn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=Q(yn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function La(o,m){const p=new qi,T=new AbortController,z=setTimeout(()=>{T.abort(),yn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(B=>{clearTimeout(z),B.ok?yn(p,"TestPingServer: ok",!0,m):yn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),yn(p,"TestPingServer: error",!1,m)})}function yn(o,m,p,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(p)}catch{}}function ka(){this.g=new Qe}function qn(o,m,p){const T=p||"";try{xa(o,function(z,B){let X=z;v(z)&&(X=Dr(z)),m.push(T+B+"="+encodeURIComponent(X))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function Zi(o){this.l=o.Ub||null,this.j=o.eb||!1}J(Zi,Ir),Zi.prototype.g=function(){return new di(this.l,this.j)},Zi.prototype.i=function(o){return function(){return o}}({});function di(o,m){pe.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(di,pe),s=di.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Hn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Br(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Br(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Pn(this):Hn(this),this.readyState==3&&Br(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,Pn(this))},s.Qa=function(o){this.g&&(this.response=o,Pn(this))},s.ga=function(){this.g&&Pn(this)};function Pn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Hn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Hn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function jr(o){let m="";return Ct(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function we(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=jr(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Lt(o,m,p))}function qt(o){pe.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(qt,pe);var Cs=/^https?$/i,Ba=["POST","PUT"];s=qt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Na.g(),this.v=this.o?Wl(this.o):Wl(Na),this.g.onreadystatechange=j(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(B){oo(this,B);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)p.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())p.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(B=>B.toLowerCase()=="content-type"),z=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ba,m,void 0))||T||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,X]of p)this.g.setRequestHeader(B,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ja(this),this.u=!0,this.g.send(o),this.u=!1}catch(B){oo(this,B)}};function oo(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ds(o),Gn(o)}function Ds(o){o.A||(o.A=!0,be(o,"complete"),be(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,be(this,"complete"),be(this,"abort"),Gn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Is(this):this.bb())},s.bb=function(){Is(this)};function Is(o){if(o.h&&typeof d<"u"&&(!o.v[1]||_n(o)!=4||o.Z()!=2)){if(o.u&&_n(o)==4)Jl(o.Ea,0,o);else if(be(o,"readystatechange"),_n(o)==4){o.h=!1;try{const X=o.Z();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=X===0){var z=String(o.D).match(Ur)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),T=!Cs.test(z?z.toLowerCase():"")}p=T}if(p)be(o,"complete"),be(o,"success");else{o.m=6;try{var B=2<_n(o)?o.g.statusText:""}catch{B=""}o.l=B+" ["+o.Z()+"]",Ds(o)}}finally{Gn(o)}}}}function Gn(o,m){if(o.g){ja(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||be(o,"ready");try{p.onreadystatechange=T}catch{}}}function ja(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function _n(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),zn(m)}};function uo(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function hc(o){const m={};o=(o.g&&2<=_n(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(mt(o[T]))continue;var p=V(o[T]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const B=m[z]||[];m[z]=B,B.push(p)}M(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qa(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Vs(o){this.Aa=0,this.i=[],this.j=new qi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qa("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qa("baseRetryDelayMs",5e3,o),this.cb=qa("retryDelaySeedMs",1e4,o),this.Wa=qa("forwardChannelMaxRetries",2,o),this.wa=qa("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Mr(o&&o.concurrentRequestLimit),this.Da=new ka,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Vs.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){se(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=yo(this,null,this.W),Ns(this)};function qr(o){if(co(o),o.G==3){var m=o.U++,p=te(o.I);if(Lt(p,"SID",o.K),Lt(p,"RID",m),Lt(p,"TYPE","terminate"),Pa(o,p),m=new Bn(o,o.j,m),m.L=2,m.v=za(te(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=_o(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Xt(m)}po(o)}function Os(o){o.g&&(Ha(o),o.g.cancel(),o.g=null)}function co(o){Os(o),o.u&&(g.clearTimeout(o.u),o.u=null),Ms(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Ns(o){if(!xr(o.h)&&!o.s){o.s=!0;var m=o.Ga;ft||D(),ot||(ft(),ot=!0),jt.add(m,o),o.B=0}}function fc(o,m){return ao(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ji(j(o.Ga,o,m),Gr(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const z=new Bn(this,this.j,o);let B=this.o;if(this.S&&(B?(B=b(B),C(B,this.S)):B=this.S),this.m!==null||this.O||(z.H=B,B=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=ho(this,z,m),p=te(this.I),Lt(p,"RID",o),Lt(p,"CVER",22),this.D&&Lt(p,"X-HTTP-Session-Id",this.D),Pa(this,p),B&&(this.O?m="headers="+encodeURIComponent(String(jr(B)))+"&"+m:this.m&&we(p,this.m,B)),Ki(this.h,z),this.Ua&&Lt(p,"TYPE","init"),this.P?(Lt(p,"$req",m),Lt(p,"SID","null"),z.T=!0,On(z,p,null)):On(z,p,m),this.G=2}}else this.G==3&&(o?Pr(this,o):this.i.length==0||xr(this.h)||Pr(this))};function Pr(o,m){var p;m?p=m.l:p=o.U++;const T=te(o.I);Lt(T,"SID",o.K),Lt(T,"RID",p),Lt(T,"AID",o.T),Pa(o,T),o.m&&o.o&&we(T,o.m,o.o),p=new Bn(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=ho(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ki(o.h,p),On(p,T,m)}function Pa(o,m){o.H&&Ct(o.H,function(p,T){Lt(m,T,p)}),o.l&&xa({},function(p,T){Lt(m,T,p)})}function ho(o,m,p){p=Math.min(o.i.length,p);var T=o.l?j(o.l.Na,o.l,o):null;t:{var z=o.i;let B=-1;for(;;){const X=["count="+p];B==-1?0<p?(B=z[0].g,X.push("ofs="+B)):B=0:X.push("ofs="+B);let Dt=!0;for(let _e=0;_e<p;_e++){let It=z[_e].g;const Ce=z[_e].map;if(It-=B,0>It)B=Math.max(0,z[_e].g-100),Dt=!1;else try{qn(Ce,X,"req"+It+"_")}catch{T&&T(Ce)}}if(Dt){T=X.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function fo(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;ft||D(),ot||(ft(),ot=!0),jt.add(m,o),o.v=0}}function Hr(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ji(j(o.Fa,o),Gr(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,mo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ji(j(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Os(this),mo(this))};function Ha(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function mo(o){o.g=new Bn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=te(o.qa);Lt(m,"RID","rpc"),Lt(m,"SID",o.K),Lt(m,"AID",o.T),Lt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Lt(m,"TO",o.ja),Lt(m,"TYPE","xmlhttp"),Pa(o,m),o.m&&o.o&&we(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=za(te(m)),p.m=null,p.P=!0,oi(p,o)}s.Za=function(){this.C!=null&&(this.C=null,Os(this),Hr(this),se(19))};function Ms(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function go(o,m){var p=null;if(o.g==m){Ms(o),Ha(o),o.g=null;var T=2}else if(Fi(o.h,m))p=m.D,mn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var z=o.B;T=Es(),be(T,new eo(T,p)),Ns(o)}else fo(o);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&fc(o,m)||T==2&&Hr(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),z){case 1:mi(o,5);break;case 4:mi(o,10);break;case 3:mi(o,6);break;default:mi(o,2)}}}function Gr(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function mi(o,m){if(o.j.info("Error code "+m),m==2){var p=j(o.fb,o),T=o.Xa;const z=!T;T=new ui(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Yi(T,"https"),za(T),z?lo(T.toString(),p):La(T.toString(),p)}else se(2);o.G=0,o.l&&o.l.sa(m),po(o),co(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function po(o){if(o.G=0,o.ka=[],o.l){const m=Fe(o.h);(m.length!=0||o.i.length!=0)&&(W(o.ka,m),W(o.ka,o.i),o.h.i.length=0,rt(o.i),o.i.length=0),o.l.ra()}}function yo(o,m,p){var T=p instanceof ui?te(p):new ui(p);if(T.g!="")m&&(T.g=m+"."+T.g),Ua(T,T.s);else{var z=g.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var B=new ui(null);T&&Yi(B,T),m&&(B.g=m),z&&Ua(B,z),p&&(B.l=p),T=B}return p=o.D,m=o.ya,p&&m&&Lt(T,p,m),Lt(T,"VER",o.la),Pa(o,T),T}function _o(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new qt(new Zi({eb:p})):new qt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function vo(){}s=vo.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function xs(){}xs.prototype.g=function(o,m){return new Ke(o,m)};function Ke(o,m){pe.call(this),this.g=new Vs(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!mt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!mt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Qn(this)}J(Ke,pe),Ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){qr(this.g)},Ke.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Dr(o),o=p);m.i.push(new rc(m.Ya++,o)),m.G==3&&Ns(m)},Ke.prototype.N=function(){this.g.l=null,delete this.j,qr(this.g),delete this.g,Ke.aa.N.call(this)};function Eo(o){Li.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}J(Eo,Li);function To(){Vn.call(this),this.status=1}J(To,Vn);function Qn(o){this.g=o}J(Qn,vo),Qn.prototype.ua=function(){be(this.g,"a")},Qn.prototype.ta=function(o){be(this.g,new Eo(o))},Qn.prototype.sa=function(o){be(this.g,new To)},Qn.prototype.ra=function(){be(this.g,"b")},xs.prototype.createWebChannel=xs.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,g_=function(){return new xs},m_=function(){return Es()},d_=dn,If={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ye.NO_ERROR=0,ye.TIMEOUT=8,ye.HTTP_ERROR=6,Ru=ye,li.COMPLETE="complete",f_=li,to.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Nl=to,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,h_=qt}).apply(typeof vu<"u"?vu:typeof self<"u"?self:typeof window<"u"?window:{});const Xp="@firebase/firestore",Zp="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pe.UNAUTHENTICATED=new Pe(null),Pe.GOOGLE_CREDENTIALS=new Pe("google-credentials-uid"),Pe.FIRST_PARTY=new Pe("first-party-uid"),Pe.MOCK_USER=new Pe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tr="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new $f("@firebase/firestore");function lr(){return ds.logLevel}function nt(s,...e){if(ds.logLevel<=Nt.DEBUG){const i=e.map(Wf);ds.debug(`Firestore (${Tr}): ${s}`,...i)}}function Mi(s,...e){if(ds.logLevel<=Nt.ERROR){const i=e.map(Wf);ds.error(`Firestore (${Tr}): ${s}`,...i)}}function mr(s,...e){if(ds.logLevel<=Nt.WARN){const i=e.map(Wf);ds.warn(`Firestore (${Tr}): ${s}`,...i)}}function Wf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(s="Unexpected state"){const e=`FIRESTORE (${Tr}) INTERNAL ASSERTION FAILED: `+s;throw Mi(e),new Error(e)}function Jt(s,e){s||_t()}function xt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Ia{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Pe.UNAUTHENTICATED))}shutdown(){}}class iA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class aA{constructor(e){this.t=e,this.currentUser=Pe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Jt(this.o===void 0);let r=this.i;const u=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let h=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new hs,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},g=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new hs)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Jt(typeof r.accessToken=="string"),new p_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jt(e===null||typeof e=="string"),new Pe(e)}}class sA{constructor(e,i,r){this.l=e,this.h=i,this.P=r,this.type="FirstParty",this.user=Pe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class rA{constructor(e,i,r){this.l=e,this.h=i,this.P=r}getToken(){return Promise.resolve(new sA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Pe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $p{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,PT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Jt(this.o===void 0);const r=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>r(h))};const u=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new $p(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Jt(typeof i.token=="string"),this.R=i.token,new $p(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const u=oA(40);for(let h=0;h<u.length;++h)r.length<20&&u[h]<i&&(r+=e.charAt(u[h]%62))}return r}}function Mt(s,e){return s<e?-1:s>e?1:0}function gr(s,e,i){return s.length===e.length&&s.every((r,u)=>i(r,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=-62135596800,Wp=1e6;class en{static now(){return en.fromMillis(Date.now())}static fromDate(e){return en.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Wp);return new en(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Jp)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wp}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Jp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new en(0,0))}static max(){return new pt(new en(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="__name__";class Jn{constructor(e,i,r){i===void 0?i=0:i>e.length&&_t(),r===void 0?r=e.length-i:r>e.length-i&&_t(),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(r=>{i.push(r)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let u=0;u<r;u++){const h=Jn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Math.sign(e.length-i.length)}static compareSegments(e,i){const r=Jn.isNumericId(e),u=Jn.isNumericId(i);return r&&!u?-1:!r&&u?1:r&&u?Jn.extractNumericId(e).compare(Jn.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ta.fromString(e.substring(4,e.length-2))}}class ae extends Jn{construct(e,i,r){return new ae(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(u=>u.length>0))}return new ae(i)}static emptyPath(){return new ae([])}}const cA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Jn{construct(e,i,r){return new Ze(e,i,r)}static isValidIdentifier(e){return cA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ty}static keyField(){return new Ze([ty])}static fromServerFormat(e){const i=[];let r="",u=0;const h=()=>{if(r.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(r+=g,u++):(h(),u++)}if(h(),d)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(i)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(ae.fromString(e))}static fromName(e){return new dt(ae.fromString(e).popFirst(5))}static empty(){return new dt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ae.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new ae(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function hA(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,u=pt.fromTimestamp(r===1e9?new en(i+1,0):new en(i,r));return new Sa(u,dt.empty(),e)}function fA(s){return new Sa(s.readTime,s.key,Pl)}class Sa{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Sa(pt.min(),dt.empty(),Pl)}static max(){return new Sa(pt.max(),dt.empty(),Pl)}}function dA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,e.documentKey),i!==0?i:Mt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==mA)throw s;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((r,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,r)=>{i(e)})}static reject(e){return new F((i,r)=>{r(e)})}static waitFor(e){return new F((i,r)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},_=>r(_))}),d=!0,h===u&&i()})}static or(e){let i=F.resolve(!1);for(const r of e)i=i.next(u=>u?F.resolve(u):r());return i}static forEach(e,i){const r=[];return e.forEach((u,h)=>{r.push(i.call(this,u,h))}),this.waitFor(r)}static mapArray(e,i){return new F((r,u)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(R=>{d[v]=R,++g,g===h&&r(d)},R=>u(R))}})}static doWhile(e,i){return new F((r,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):r()};h()})}}function pA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ar(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.oe(r),this._e=r=>i.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Qu.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=-1;function Fu(s){return s==null}function Vf(s){return s===0&&1/s==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="";function _A(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=ey(e)),e=vA(s.get(i),e);return ey(e)}function vA(s,e){let i=e;const r=s.length;for(let u=0;u<r;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case y_:i+="";break;default:i+=h}}return i}function ey(s){return s+y_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Kl(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function EA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const u=this.comparator(e,r.key);if(u===0)return i+r.left.size;u<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,r)=>(e(i,r),!1))}toString(){const e=[];return this.inorderTraversal((i,r)=>(e.push(`${i}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eu(this.root,e,this.comparator,!0)}}class Eu{constructor(e,i,r,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,r,u,h){this.key=e,this.value=i,this.color=r??ze.RED,this.left=u??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,u,h){return new ze(e??this.key,i??this.value,r??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let u=this;const h=r(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,r),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,r)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;r=u.right.min(),u=u.copy(r.key,r.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(e,i,r,u,h){return this}insert(e,i,r){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,r)=>(e(i),!1))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const u=r.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new iy(this.data.getIterator())}getIteratorFrom(e){return new iy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(r=>{i=i.add(r)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class iy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new ya([])}unionWith(e){let i=new Se(Ze.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new ya(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return gr(this.fields,e.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new __("Invalid base64 string: "+h):h}}(e);return new Le(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Le(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let u=0;u<i.length;u++)r[u]=i.charCodeAt(u);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Le.EMPTY_BYTE_STRING=new Le("");const TA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ba(s){if(Jt(!!s),typeof s=="string"){let e=0;const i=TA.exec(s);if(Jt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:le(s.seconds),nanos:le(s.nanos)}}function le(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ra(s){return typeof s=="string"?Le.fromBase64String(s):Le.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="server_timestamp",E_="__type__",T_="__previous_value__",A_="__local_write_time__";function td(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[E_])===null||i===void 0?void 0:i.stringValue)===v_}function Ku(s){const e=s.mapValue.fields[T_];return td(e)?Ku(e):e}function Hl(s){const e=ba(s.mapValue.fields[A_].timestampValue);return new en(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,i,r,u,h,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const Nu="(default)";class Gl{constructor(e,i){this.projectId=e,this.database=i||Nu}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===Nu}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="__type__",bA="__max__",Tu={mapValue:{}},RA="__vector__",Of="value";function wa(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?td(s)?4:CA(s)?9007199254740991:wA(s)?10:11:_t()}function ni(s,e){if(s===e)return!0;const i=wa(s);if(i!==wa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Hl(s).isEqual(Hl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=ba(u.timestampValue),g=ba(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return Ra(u.bytesValue).isEqual(Ra(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return le(u.geoPointValue.latitude)===le(h.geoPointValue.latitude)&&le(u.geoPointValue.longitude)===le(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return le(u.integerValue)===le(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=le(u.doubleValue),g=le(h.doubleValue);return d===g?Vf(d)===Vf(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return gr(s.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(ny(d)!==ny(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ni(d[_],g[_])))return!1;return!0}(s,e);default:return _t()}}function Ql(s,e){return(s.values||[]).find(i=>ni(i,e))!==void 0}function pr(s,e){if(s===e)return 0;const i=wa(s),r=wa(e);if(i!==r)return Mt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=le(h.integerValue||h.doubleValue),_=le(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return ay(s.timestampValue,e.timestampValue);case 4:return ay(Hl(s),Hl(e));case 5:return Mt(s.stringValue,e.stringValue);case 6:return function(h,d){const g=Ra(h),_=Ra(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const R=Mt(g[v],_[v]);if(R!==0)return R}return Mt(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Mt(le(h.latitude),le(d.latitude));return g!==0?g:Mt(le(h.longitude),le(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return sy(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,R;const U=h.fields||{},j=d.fields||{},Q=(g=U[Of])===null||g===void 0?void 0:g.arrayValue,J=(_=j[Of])===null||_===void 0?void 0:_.arrayValue,rt=Mt(((v=Q==null?void 0:Q.values)===null||v===void 0?void 0:v.length)||0,((R=J==null?void 0:J.values)===null||R===void 0?void 0:R.length)||0);return rt!==0?rt:sy(Q,J)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Tu.mapValue&&d===Tu.mapValue)return 0;if(h===Tu.mapValue)return 1;if(d===Tu.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},R=Object.keys(v);_.sort(),R.sort();for(let U=0;U<_.length&&U<R.length;++U){const j=Mt(_[U],R[U]);if(j!==0)return j;const Q=pr(g[_[U]],v[R[U]]);if(Q!==0)return Q}return Mt(_.length,R.length)}(s.mapValue,e.mapValue);default:throw _t()}}function ay(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Mt(s,e);const i=ba(s),r=ba(e),u=Mt(i.seconds,r.seconds);return u!==0?u:Mt(i.nanos,r.nanos)}function sy(s,e){const i=s.values||[],r=e.values||[];for(let u=0;u<i.length&&u<r.length;++u){const h=pr(i[u],r[u]);if(h)return h}return Mt(i.length,r.length)}function yr(s){return Nf(s)}function Nf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const r=ba(i);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Ra(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return dt.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let r="[",u=!0;for(const h of i.values||[])u?u=!1:r+=",",r+=Nf(h);return r+"]"}(s.arrayValue):"mapValue"in s?function(i){const r=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of r)h?h=!1:u+=",",u+=`${d}:${Nf(i.fields[d])}`;return u+"}"}(s.mapValue):_t()}function wu(s){switch(wa(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ku(s);return e?16+wu(e):16;case 5:return 2*s.stringValue.length;case 6:return Ra(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((u,h)=>u+wu(h),0)}(s.arrayValue);case 10:case 11:return function(r){let u=0;return Kl(r.fields,(h,d)=>{u+=h.length+wu(d)}),u}(s.mapValue);default:throw _t()}}function Mf(s){return!!s&&"integerValue"in s}function ed(s){return!!s&&"arrayValue"in s}function ry(s){return!!s&&"nullValue"in s}function ly(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function df(s){return!!s&&"mapValue"in s}function wA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[SA])===null||i===void 0?void 0:i.stringValue)===RA}function Ul(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Kl(s.mapValue.fields,(i,r)=>e.mapValue.fields[i]=Ul(r)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ul(s.arrayValue.values[i]);return e}return Object.assign({},s)}function CA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===bA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!df(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(i)}setAll(e){let i=Ze.emptyPath(),r={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,u),r={},u=[],i=g.popLast()}d?r[g.lastSegment()]=Ul(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,r,u)}delete(e){const i=this.field(e.popLast());df(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let u=i.mapValue.fields[e.get(r)];df(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,r){Kl(i,(u,h)=>e[u]=h);for(const u of r)delete e[u]}clone(){return new Wn(Ul(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,i,r,u,h,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new He(e,0,pt.min(),pt.min(),pt.min(),Wn.empty(),0)}static newFoundDocument(e,i,r,u){return new He(e,1,i,pt.min(),r,u,0)}static newNoDocument(e,i){return new He(e,2,i,pt.min(),pt.min(),Wn.empty(),0)}static newUnknownDocument(e,i){return new He(e,3,i,pt.min(),pt.min(),Wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof He&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new He(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,i){this.position=e,this.inclusive=i}}function oy(s,e,i){let r=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?r=dt.comparator(dt.fromName(d.referenceValue),i.key):r=pr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function uy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ni(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,i="asc"){this.field=e,this.dir=i}}function DA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{}class Ae extends S_{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new VA(e,i,r):i==="array-contains"?new MA(e,r):i==="in"?new xA(e,r):i==="not-in"?new UA(e,r):i==="array-contains-any"?new zA(e,r):new Ae(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new OA(e,r):new NA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(pr(i,this.value)):i!==null&&wa(this.value)===wa(i)&&this.matchesComparison(pr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends S_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ii(e,i)}matches(e){return b_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function b_(s){return s.op==="and"}function R_(s){return IA(s)&&b_(s)}function IA(s){for(const e of s.filters)if(e instanceof ii)return!1;return!0}function xf(s){if(s instanceof Ae)return s.field.canonicalString()+s.op.toString()+yr(s.value);if(R_(s))return s.filters.map(e=>xf(e)).join(",");{const e=s.filters.map(i=>xf(i)).join(",");return`${s.op}(${e})`}}function w_(s,e){return s instanceof Ae?function(r,u){return u instanceof Ae&&r.op===u.op&&r.field.isEqual(u.field)&&ni(r.value,u.value)}(s,e):s instanceof ii?function(r,u){return u instanceof ii&&r.op===u.op&&r.filters.length===u.filters.length?r.filters.reduce((h,d,g)=>h&&w_(d,u.filters[g]),!0):!1}(s,e):void _t()}function C_(s){return s instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${yr(i.value)}`}(s):s instanceof ii?function(i){return i.op.toString()+" {"+i.getFilters().map(C_).join(" ,")+"}"}(s):"Filter"}class VA extends Ae{constructor(e,i,r){super(e,i,r),this.key=dt.fromName(r.referenceValue)}matches(e){const i=dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class OA extends Ae{constructor(e,i){super(e,"in",i),this.keys=D_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class NA extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=D_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function D_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>dt.fromName(r.referenceValue))}class MA extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ed(i)&&Ql(i.arrayValue,this.value)}}class xA extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ql(this.value.arrayValue,i)}}class UA extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Ql(this.value.arrayValue,i)}}class zA extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ed(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>Ql(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,i=null,r=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function cy(s,e=null,i=[],r=[],u=null,h=null,d=null){return new LA(s,e,i,r,u,h,d)}function nd(s){const e=xt(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(r=>xf(r)).join(","),i+="|ob:",i+=e.orderBy.map(r=>function(h){return h.field.canonicalString()+h.dir}(r)).join(","),Fu(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>yr(r)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>yr(r)).join(",")),e.le=i}return e.le}function id(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!DA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!w_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!uy(s.startAt,e.startAt)&&uy(s.endAt,e.endAt)}function Uf(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,i=null,r=[],u=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function kA(s,e,i,r,u,h,d,g){return new Yu(s,e,i,r,u,h,d,g)}function I_(s){return new Yu(s)}function hy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function BA(s){return s.collectionGroup!==null}function zl(s){const e=xt(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Se(Ze.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new xu(h,r))}),i.has(Ze.keyField().canonicalString())||e.he.push(new xu(Ze.keyField(),r))}return e.he}function ei(s){const e=xt(s);return e.Pe||(e.Pe=jA(e,zl(s))),e.Pe}function jA(s,e){if(s.limitType==="F")return cy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new xu(u.field,h)});const i=s.endAt?new Mu(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Mu(s.startAt.position,s.startAt.inclusive):null;return cy(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function zf(s,e,i){return new Yu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Xu(s,e){return id(ei(s),ei(e))&&s.limitType===e.limitType}function V_(s){return`${nd(ei(s))}|lt:${s.limitType}`}function or(s){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(u=>C_(u)).join(", ")}]`),Fu(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(u=>yr(u)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(u=>yr(u)).join(",")),`Target(${r})`}(ei(s))}; limitType=${s.limitType})`}function Zu(s,e){return e.isFoundDocument()&&function(r,u){const h=u.key.path;return r.collectionGroup!==null?u.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):dt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)}(s,e)&&function(r,u){for(const h of zl(r))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(r,u){for(const h of r.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(r,u){return!(r.startAt&&!function(d,g,_){const v=oy(d,g,_);return d.inclusive?v<=0:v<0}(r.startAt,zl(r),u)||r.endAt&&!function(d,g,_){const v=oy(d,g,_);return d.inclusive?v>=0:v>0}(r.endAt,zl(r),u))}(s,e)}function qA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function O_(s){return(e,i)=>{let r=!1;for(const u of zl(s)){const h=PA(u,e,i);if(h!==0)return h;r=r||u.field.isKeyField()}return 0}}function PA(s,e,i){const r=s.field.isKeyField()?dt.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?pr(_,v):_t()}(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[u,h]of r)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),u=this.inner[r];if(u===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],e))return r.length===1?delete this.inner[i]:r.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Kl(this.inner,(i,r)=>{for(const[u,h]of r)e(u,h)})}isEmpty(){return EA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=new oe(dt.comparator);function Ca(){return HA}const N_=new oe(dt.comparator);function Ml(...s){let e=N_;for(const i of s)e=e.insert(i.key,i);return e}function GA(s){let e=N_;return s.forEach((i,r)=>e=e.insert(i,r.overlayedDocument)),e}function us(){return Ll()}function M_(){return Ll()}function Ll(){return new ps(s=>s.toString(),(s,e)=>s.isEqual(e))}const QA=new Se(dt.comparator);function Ut(...s){let e=QA;for(const i of s)e=e.add(i);return e}const FA=new Se(Mt);function KA(){return FA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vf(e)?"-0":e}}function XA(s){return{integerValue:""+s}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){this._=void 0}}function ZA(s,e,i){return s instanceof Lf?function(u,h){const d={fields:{[E_]:{stringValue:v_},[A_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&td(h)&&(h=Ku(h)),h&&(d.fields[T_]=h),{mapValue:d}}(i,e):s instanceof Uu?x_(s,e):s instanceof zu?U_(s,e):function(u,h){const d=JA(u,h),g=fy(d)+fy(u.Ie);return Mf(d)&&Mf(u.Ie)?XA(g):YA(u.serializer,g)}(s,e)}function $A(s,e,i){return s instanceof Uu?x_(s,e):s instanceof zu?U_(s,e):i}function JA(s,e){return s instanceof kf?function(r){return Mf(r)||function(h){return!!h&&"doubleValue"in h}(r)}(e)?e:{integerValue:0}:null}class Lf extends $u{}class Uu extends $u{constructor(e){super(),this.elements=e}}function x_(s,e){const i=z_(e);for(const r of s.elements)i.some(u=>ni(u,r))||i.push(r);return{arrayValue:{values:i}}}class zu extends $u{constructor(e){super(),this.elements=e}}function U_(s,e){let i=z_(e);for(const r of s.elements)i=i.filter(u=>!ni(u,r));return{arrayValue:{values:i}}}class kf extends $u{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function fy(s){return le(s.integerValue||s.doubleValue)}function z_(s){return ed(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function WA(s,e){return s.field.isEqual(e.field)&&function(r,u){return r instanceof Uu&&u instanceof Uu||r instanceof zu&&u instanceof zu?gr(r.elements,u.elements,ni):r instanceof kf&&u instanceof kf?ni(r.Ie,u.Ie):r instanceof Lf&&u instanceof Lf}(s.transform,e.transform)}class fs{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new fs}static exists(e){return new fs(void 0,e)}static updateTime(e){return new fs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ad{}function L_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new eS(s.key,fs.none()):new sd(s.key,s.data,fs.none());{const i=s.data,r=Wn.empty();let u=new Se(Ze.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),u=u.add(h)}return new Ju(s.key,r,new ya(u.toArray()),fs.none())}}function tS(s,e,i){s instanceof sd?function(u,h,d){const g=u.value.clone(),_=my(u.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof Ju?function(u,h,d){if(!Cu(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=my(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(k_(u)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function kl(s,e,i,r){return s instanceof sd?function(h,d,g,_){if(!Cu(h.precondition,d))return g;const v=h.value.clone(),R=gy(h.fieldTransforms,_,d);return v.setAll(R),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,r):s instanceof Ju?function(h,d,g,_){if(!Cu(h.precondition,d))return g;const v=gy(h.fieldTransforms,_,d),R=d.data;return R.setAll(k_(h)),R.setAll(v),d.convertToFoundDocument(d.version,R).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(U=>U.field))}(s,e,i,r):function(h,d,g){return Cu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function dy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(r,u){return r===void 0&&u===void 0||!(!r||!u)&&gr(r,u,(h,d)=>WA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class sd extends ad{constructor(e,i,r,u=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ju extends ad{constructor(e,i,r,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function k_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}}),e}function my(s,e,i){const r=new Map;Jt(s.length===i.length);for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,g=e.data.field(h.field);r.set(h.field,$A(d,g,i[u]))}return r}function gy(s,e,i){const r=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);r.set(u.field,ZA(h,d,e))}return r}class eS extends ad{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,i,r,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=u}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&tS(h,e,r[u])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=kl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=kl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=M_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const _=L_(d,g);_!==null&&r.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(pt.min())}),r}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ut())}isEqual(e){return this.batchId===e.batchId&&gr(this.mutations,e.mutations,(i,r)=>dy(i,r))&&gr(this.baseMutations,e.baseMutations,(i,r)=>dy(i,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me,Ot;function B_(s){if(s===void 0)return Mi("GRPC error has no .code"),Z.UNKNOWN;switch(s){case me.OK:return Z.OK;case me.CANCELLED:return Z.CANCELLED;case me.UNKNOWN:return Z.UNKNOWN;case me.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case me.INTERNAL:return Z.INTERNAL;case me.UNAVAILABLE:return Z.UNAVAILABLE;case me.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case me.NOT_FOUND:return Z.NOT_FOUND;case me.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case me.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case me.ABORTED:return Z.ABORTED;case me.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case me.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case me.DATA_LOSS:return Z.DATA_LOSS;default:return _t()}}(Ot=me||(me={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=new Ta([4294967295,4294967295],0);function py(s){const e=sS().encode(s),i=new c_;return i.update(e),new Uint8Array(i.digest())}function yy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ta([i,r],0),new Ta([u,h],0)]}class rd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(r<0)throw new xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Ta.fromNumber(this.Ee)}Ae(e,i,r){let u=e.add(i.multiply(Ta.fromNumber(r)));return u.compare(rS)===1&&(u=new Ta([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=py(e),[r,u]=yy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(r,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,r){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new rd(h,u,i);return r.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=py(e),[r,u]=yy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(r,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,i,r,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const u=new Map;return u.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Wu(pt.min(),u,new oe(Mt),Ca(),Ut())}}class Yl{constructor(e,i,r,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Yl(r,i,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,i,r,u){this.me=e,this.removedTargetIds=i,this.key=r,this.fe=u}}class j_{constructor(e,i){this.targetId=e,this.ge=i}}class q_{constructor(e,i,r=Le.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=u}}class _y{constructor(){this.pe=0,this.ye=vy(),this.we=Le.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ut(),i=Ut(),r=Ut();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:r=r.add(u);break;default:_t()}}),new Yl(this.we,this.be,e,i,r)}Me(){this.Se=!1,this.ye=vy()}xe(e,i){this.Se=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Jt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class lS{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ca(),this.$e=Au(),this.Ke=Au(),this.Ue=new oe(Mt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const r=this.He(i);switch(e.state){case 0:this.Je(i)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(i);break;case 3:this.Je(i)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),r.Ce(e.resumeToken));break;default:_t()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((r,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,r=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(Uf(h))if(r===0){const d=new dt(h.path);this.ze(i,d,He.newNoDocument(d,pt.min()))}else Jt(r===1);else{const d=this.et(i);if(d!==r){const g=this.tt(e),_=g?this.nt(g,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=Ra(r).toUint8Array()}catch(_){if(_ instanceof __)return mr("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new rd(d,u,h)}catch(_){return mr(_ instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ee===0?null:g}nt(e,i,r){return i.ge.count===r-this.st(e,i.targetId)?0:2}st(e,i){const r=this.ke.getRemoteKeysForTarget(i);let u=0;return r.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&Uf(g.target)){const _=new dt(g.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,He.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let r=Ut();this.Ke.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(r=r.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new Wu(e,i,this.Ue,this.Qe,r);return this.Qe=Ca(),this.$e=Au(),this.Ke=Au(),this.Ue=new oe(Mt),u}Ge(e,i){if(!this.Je(e))return;const r=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,r),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,r){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),r&&(this.Qe=this.Qe.insert(i,r))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new _y,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new Se(Mt),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Se(Mt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new _y),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Au(){return new oe(dt.comparator)}function vy(){return new oe(dt.comparator)}const oS={asc:"ASCENDING",desc:"DESCENDING"},uS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cS={and:"AND",or:"OR"};class hS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Bf(s,e){return s.useProto3Json||Fu(e)?e:{value:e}}function fS(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dS(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function hr(s){return Jt(!!s),pt.fromTimestamp(function(i){const r=ba(i);return new en(r.seconds,r.nanos)}(s))}function mS(s,e){return jf(s,e).canonicalString()}function jf(s,e){const i=function(u){return new ae(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function P_(s){const e=ae.fromString(s);return Jt(K_(e)),e}function mf(s,e){const i=P_(e);if(i.get(1)!==s.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(G_(i))}function H_(s,e){return mS(s.databaseId,e)}function gS(s){const e=P_(s);return e.length===4?ae.emptyPath():G_(e)}function Ey(s){return new ae(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function G_(s){return Jt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function pS(s,e){let i;if("targetChange"in e){e.targetChange;const r=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:_t()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,R){return v.useProto3Json?(Jt(R===void 0||typeof R=="string"),Le.fromBase64String(R||"")):(Jt(R===void 0||R instanceof Buffer||R instanceof Uint8Array),Le.fromUint8Array(R||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const R=v.code===void 0?Z.UNKNOWN:B_(v.code);return new ut(R,v.message||"")}(d);i=new q_(r,u,h,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const u=mf(s,r.document.name),h=hr(r.document.updateTime),d=r.document.createTime?hr(r.document.createTime):pt.min(),g=new Wn({mapValue:{fields:r.document.fields}}),_=He.newFoundDocument(u,h,d,g),v=r.targetIds||[],R=r.removedTargetIds||[];i=new Du(v,R,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const u=mf(s,r.document),h=r.readTime?hr(r.readTime):pt.min(),d=He.newNoDocument(u,h),g=r.removedTargetIds||[];i=new Du([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const u=mf(s,r.document),h=r.removedTargetIds||[];i=new Du([],h,u,null)}else{if(!("filter"in e))return _t();{e.filter;const r=e.filter;r.targetId;const{count:u=0,unchangedNames:h}=r,d=new aS(u,h),g=r.targetId;i=new j_(g,d)}}return i}function yS(s,e){return{documents:[H_(s,e.path)]}}function _S(s,e){const i={structuredQuery:{}},r=e.path;let u;e.collectionGroup!==null?(u=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=H_(s,u);const h=function(v){if(v.length!==0)return F_(ii.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(R=>function(j){return{field:ur(j.field),direction:TS(j.dir)}}(R))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Bf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:u}}function vS(s){let e=gS(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let u=null;if(r>0){Jt(r===1);const R=i.from[0];R.allDescendants?u=R.collectionId:e=e.child(R.collectionId)}let h=[];i.where&&(h=function(U){const j=Q_(U);return j instanceof ii&&R_(j)?j.getFilters():[j]}(i.where));let d=[];i.orderBy&&(d=function(U){return U.map(j=>function(J){return new xu(cr(J.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(j))}(i.orderBy));let g=null;i.limit&&(g=function(U){let j;return j=typeof U=="object"?U.value:U,Fu(j)?null:j}(i.limit));let _=null;i.startAt&&(_=function(U){const j=!!U.before,Q=U.values||[];return new Mu(Q,j)}(i.startAt));let v=null;return i.endAt&&(v=function(U){const j=!U.before,Q=U.values||[];return new Mu(Q,j)}(i.endAt)),kA(e,u,d,h,g,"F",_,v)}function ES(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Q_(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=cr(i.unaryFilter.field);return Ae.create(r,"==",{doubleValue:NaN});case"IS_NULL":const u=cr(i.unaryFilter.field);return Ae.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=cr(i.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=cr(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(s):s.fieldFilter!==void 0?function(i){return Ae.create(cr(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ii.create(i.compositeFilter.filters.map(r=>Q_(r)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return _t()}}(i.compositeFilter.op))}(s):_t()}function TS(s){return oS[s]}function AS(s){return uS[s]}function SS(s){return cS[s]}function ur(s){return{fieldPath:s.canonicalString()}}function cr(s){return Ze.fromServerFormat(s.fieldPath)}function F_(s){return s instanceof Ae?function(i){if(i.op==="=="){if(ly(i.value))return{unaryFilter:{field:ur(i.field),op:"IS_NAN"}};if(ry(i.value))return{unaryFilter:{field:ur(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ly(i.value))return{unaryFilter:{field:ur(i.field),op:"IS_NOT_NAN"}};if(ry(i.value))return{unaryFilter:{field:ur(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ur(i.field),op:AS(i.op),value:i.value}}}(s):s instanceof ii?function(i){const r=i.getFilters().map(u=>F_(u));return r.length===1?r[0]:{compositeFilter:{op:SS(i.op),filters:r}}}(s):_t()}function K_(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,i,r,u,h=pt.min(),d=pt.min(),g=Le.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new _a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.Tt=e}}function RS(s){const e=vS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.Tn=new CS}addToCollectionParentIndex(e,i){return this.Tn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(Sa.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(Sa.min())}updateCollectionGroup(e,i,r){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class CS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i]||new Se(ae.comparator),h=!u.has(r);return this.index[i]=u.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i];return u&&u.has(r)}getEntries(e){return(this.index[e]||new Se(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Y_=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(Y_,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new _r(0)}static Un(){return new _r(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="LruGarbageCollector",DS=1048576;function Sy([s,e],[i,r]){const u=Mt(s,i);return u===0?Mt(e,r):u}class IS{constructor(e){this.Hn=e,this.buffer=new Se(Sy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Sy(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class VS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){nt(Ay,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ar(i)?nt(Ay,"Ignoring IndexedDB error during garbage collection: ",i):await Gu(i)}await this.er(3e5)})}}class OS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(r=>Math.floor(i/100*r))}nthSequenceNumber(e,i){if(i===0)return F.resolve(Qu.ae);const r=new IS(i);return this.tr.forEachTarget(e,u=>r.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>r.Zn(u))).next(()=>r.maxValue)}removeTargets(e,i,r){return this.tr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Ty)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ty):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let r,u,h,d,g,_,v;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(U=>(U>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${U}`),u=this.params.maximumSequenceNumbersToCollect):u=U,d=Date.now(),this.nthSequenceNumber(e,u))).next(U=>(r=U,g=Date.now(),this.removeTargets(e,r,i))).next(U=>(h=U,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(U=>(v=Date.now(),lr()<=Nt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-R}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${U} documents in `+(v-_)+`ms
Total Duration: ${v-R}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:U})))}}function NS(s,e){return new OS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.changes=new ps(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,He.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?F.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,i,r,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=u}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(r=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(r!==null&&kl(r.mutation,u,ya.empty(),en.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.getLocalViewOfDocuments(e,r,Ut()).next(()=>r))}getLocalViewOfDocuments(e,i,r=Ut()){const u=us();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,r).next(h=>{let d=Ml();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const r=us();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,Ut()))}populateOverlays(e,i,r){const u=[];return r.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,r,u){let h=Ca();const d=Ll(),g=function(){return Ll()}();return i.forEach((_,v)=>{const R=r.get(v.key);u.has(v.key)&&(R===void 0||R.mutation instanceof Ju)?h=h.insert(v.key,v):R!==void 0?(d.set(v.key,R.mutation.getFieldMask()),kl(R.mutation,v,R.mutation.getFieldMask(),en.now())):d.set(v.key,ya.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,R)=>d.set(v,R)),i.forEach((v,R)=>{var U;return g.set(v,new xS(R,(U=d.get(v))!==null&&U!==void 0?U:null))}),g))}recalculateAndSaveOverlays(e,i){const r=Ll();let u=new oe((d,g)=>d-g),h=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let R=r.get(_)||ya.empty();R=g.applyToLocalView(v,R),r.set(_,R);const U=(u.get(g.batchId)||Ut()).add(_);u=u.insert(g.batchId,U)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,R=_.value,U=M_();R.forEach(j=>{if(!h.has(j)){const Q=L_(i.get(j),r.get(j));Q!==null&&U.set(j,Q),h=h.add(j)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,U))}return F.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,i,r,u){return function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):BA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,u):this.getDocumentsMatchingCollectionQuery(e,i,r,u)}getNextDocuments(e,i,r,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,u-h.size):F.resolve(us());let g=Pl,_=h;return d.next(v=>F.forEach(v,(R,U)=>(g<U.largestBatchId&&(g=U.largestBatchId),h.get(R)?F.resolve():this.remoteDocumentCache.getEntry(e,R).next(j=>{_=_.insert(R,j)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Ut())).next(R=>({batchId:g,changes:GA(R)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new dt(i)).next(r=>{let u=Ml();return r.isFoundDocument()&&(u=u.insert(r.key,r)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,r,u){const h=i.collectionGroup;let d=Ml();return this.indexManager.getCollectionParents(e,h).next(g=>F.forEach(g,_=>{const v=function(U,j){return new Yu(j,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,r,u).next(R=>{R.forEach((U,j)=>{d=d.insert(U,j)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,r,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,u))).next(d=>{h.forEach((_,v)=>{const R=v.getKey();d.get(R)===null&&(d=d.insert(R,He.newInvalidDocument(R)))});let g=Ml();return d.forEach((_,v)=>{const R=h.get(_);R!==void 0&&kl(R.mutation,v,ya.empty(),en.now()),Zu(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return F.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:hr(u.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:RS(u.bundledQuery),readTime:hr(u.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.overlays=new oe(dt.comparator),this.Rr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const r=us();return F.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&r.set(u,h)})).next(()=>r)}saveOverlays(e,i,r){return r.forEach((u,h)=>{this.Et(e,i,h)}),F.resolve()}removeOverlaysForBatchId(e,i,r){const u=this.Rr.get(r);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(r)),F.resolve()}getOverlaysForCollection(e,i,r){const u=us(),h=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>r&&u.set(_.getKey(),_)}return F.resolve(u)}getOverlaysForCollectionGroup(e,i,r,u){let h=new oe((v,R)=>v-R);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let R=h.get(v.largestBatchId);R===null&&(R=us(),h=h.insert(v.largestBatchId,R)),R.set(v.getKey(),v)}}const g=us(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,R)=>g.set(v,R)),!(g.size()>=u)););return F.resolve(g)}Et(e,i,r){const u=this.overlays.get(r.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(r.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new iS(i,r));let h=this.Rr.get(i);h===void 0&&(h=Ut(),this.Rr.set(i,h)),this.Rr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.sessionToken=Le.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this.Vr=new Se(Oe.mr),this.gr=new Se(Oe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const r=new Oe(e,i);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,i){e.forEach(r=>this.addReference(r,i))}removeReference(e,i){this.wr(new Oe(e,i))}br(e,i){e.forEach(r=>this.removeReference(r,i))}Sr(e){const i=new dt(new ae([])),r=new Oe(i,e),u=new Oe(i,e+1),h=[];return this.gr.forEachInRange([r,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new dt(new ae([])),r=new Oe(i,e),u=new Oe(i,e+1);let h=Ut();return this.gr.forEachInRange([r,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),r=this.Vr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Oe{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return dt.comparator(e.key,i.key)||Mt(e.Cr,i.Cr)}static pr(e,i){return Mt(e.Cr,i.Cr)||dt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Se(Oe.mr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new nS(h,i,r,u);this.mutationQueue.push(d);for(const g of u)this.Mr=this.Mr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return F.resolve(d)}lookupMutationBatch(e,i){return F.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,u=this.Nr(r),h=u<0?0:u;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?yA:this.Fr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Oe(i,0),u=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([r,u],d=>{const g=this.Or(d.Cr);h.push(g)}),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Se(Mt);return i.forEach(u=>{const h=new Oe(u,0),d=new Oe(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{r=r.add(g.Cr)})}),F.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,u=r.length+1;let h=r;dt.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new dt(h),0);let g=new Se(Mt);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.Cr)),!0)},d),F.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(r=>{const u=this.Or(r);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){Jt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return F.forEach(i.mutations,u=>{const h=new Oe(u.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,i){const r=new Oe(i,0),u=this.Mr.firstAfterOrEqual(r);return F.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.kr=e,this.docs=function(){return new oe(dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,u=this.docs.get(r),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return F.resolve(r?r.document.mutableCopy():He.newInvalidDocument(i))}getEntries(e,i){let r=Ca();return i.forEach(u=>{const h=this.docs.get(u);r=r.insert(u,h?h.document.mutableCopy():He.newInvalidDocument(u))}),F.resolve(r)}getDocumentsMatchingQuery(e,i,r,u){let h=Ca();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:R}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||dA(fA(R),r)<=0||(u.has(R.key)||Zu(i,R))&&(h=h.insert(R.key,R.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,r,u){_t()}qr(e,i){return F.forEach(this.docs,r=>i(r))}newChangeBuffer(e){return new qS(this)}getSize(e){return F.resolve(this.size)}}class qS extends MS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((r,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(r)}),F.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.persistence=e,this.Qr=new ps(i=>nd(i),id),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ld,this.targetCount=0,this.Ur=_r.Kn()}forEachTarget(e,i){return this.Qr.forEach((r,u)=>i(u)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.$r&&(this.$r=i),F.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new _r(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.zn(i),F.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.Sr(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,r){let u=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),F.waitFor(h).next(()=>u)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const r=this.Qr.get(i)||null;return F.resolve(r)}addMatchingKeys(e,i,r){return this.Kr.yr(i,r),F.resolve()}removeMatchingKeys(e,i,r){this.Kr.br(i,r);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Kr.Sr(i),F.resolve()}getMatchingKeysForTargetId(e,i){const r=this.Kr.vr(i);return F.resolve(r)}containsKey(e,i){return F.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Qu(0),this.zr=!1,this.zr=!0,this.jr=new kS,this.referenceDelegate=e(this),this.Hr=new PS(this),this.indexManager=new wS,this.remoteDocumentCache=function(u){return new jS(u)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new bS(i),this.Yr=new zS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new LS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.Wr[e.toKey()];return r||(r=new BS(i,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,r){nt("MemoryPersistence","Starting transaction:",e);const u=new HS(this.Gr.next());return this.referenceDelegate.Zr(),r(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return F.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,i)))}}class HS extends gA{constructor(e){super(),this.currentSequenceNumber=e}}class od{constructor(e){this.persistence=e,this.ti=new ld,this.ni=null}static ri(e){return new od(e)}get ii(){if(this.ni)return this.ni;throw _t()}addReference(e,i,r){return this.ti.addReference(r,i),this.ii.delete(r.toString()),F.resolve()}removeReference(e,i,r){return this.ti.removeReference(r,i),this.ii.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),F.resolve()}removeTarget(e,i){this.ti.Sr(i.targetId).forEach(u=>this.ii.add(u.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>r.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ii,r=>{const u=dt.fromPath(r);return this.si(e,u).next(h=>{h||i.removeEntry(u,pt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(r=>{r?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return F.or([()=>F.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Lu{constructor(e,i){this.persistence=e,this.oi=new ps(r=>_A(r.path),(r,u)=>r.isEqual(u)),this.garbageCollector=NS(this,i)}static ri(e,i){return new Lu(e,i)}Zr(){}Xr(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>i.next(u=>r+u))}sr(e){let i=0;return this.rr(e,r=>{i++}).next(()=>i)}rr(e,i){return F.forEach(this.oi,(r,u)=>this.ar(e,r,u).next(h=>h?F.resolve():i(u)))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(g=>{g||(r++,h.removeEntry(d,pt.min()))})).next(()=>h.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.oi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,i,r){return this.oi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),F.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=wu(e.data.value)),i}ar(e,i,r){return F.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return F.resolve(u!==void 0&&u>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,i,r,u){this.targetId=e,this.fromCache=i,this.Hi=r,this.Ji=u}static Yi(e,i){let r=Ut(),u=Ut();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new ud(e,i.fromCache,r,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return kE()?8:pA(UE())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,r,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,r).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new GS;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,r,u){return r.documentReadCount<this.es?(lr()<=Nt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",or(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),F.resolve()):(lr()<=Nt.DEBUG&&nt("QueryEngine","Query:",or(i),"scans",r.documentReadCount,"local documents and returns",u,"documents as results."),r.documentReadCount>this.ts*u?(lr()<=Nt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",or(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):F.resolve())}rs(e,i){if(hy(i))return F.resolve(null);let r=ei(i);return this.indexManager.getIndexType(e,r).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=zf(i,null,"F"),r=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next(h=>{const d=Ut(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,r).next(_=>{const v=this.cs(i,g);return this.ls(i,v,d,_.readTime)?this.rs(e,zf(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,r,u){return hy(i)||u.isEqual(pt.min())?F.resolve(null):this.ns.getDocuments(e,r).next(h=>{const d=this.cs(i,h);return this.ls(i,d,r,u)?F.resolve(null):(lr()<=Nt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),or(i)),this.hs(e,d,i,hA(u,Pl)).next(g=>g))})}cs(e,i){let r=new Se(O_(e));return i.forEach((u,h)=>{Zu(e,h)&&(r=r.add(h))}),r}ls(e,i,r,u){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,r){return lr()<=Nt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",or(i)),this.ns.getDocumentsMatchingQuery(e,i,Sa.min(),r)}hs(e,i,r,u){return this.ns.getDocumentsMatchingQuery(e,r,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="LocalStore",FS=3e8;class KS{constructor(e,i,r,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new oe(Mt),this.Is=new ps(h=>nd(h),id),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new US(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function YS(s,e,i,r){return new KS(s,e,i,r)}async function Z_(s,e){const i=xt(s);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let u;return i.mutationQueue.getAllMutationBatches(r).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(r))).next(h=>{const d=[],g=[];let _=Ut();for(const v of u){d.push(v.batchId);for(const R of v.mutations)_=_.add(R.key)}for(const v of h){g.push(v.batchId);for(const R of v.mutations)_=_.add(R.key)}return i.localDocuments.getDocuments(r,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function $_(s){const e=xt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function XS(s,e){const i=xt(s),r=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const g=[];e.targetChanges.forEach((R,U)=>{const j=u.get(U);if(!j)return;g.push(i.Hr.removeMatchingKeys(h,R.removedDocuments,U).next(()=>i.Hr.addMatchingKeys(h,R.addedDocuments,U)));let Q=j.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(U)!==null?Q=Q.withResumeToken(Le.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):R.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(R.resumeToken,r)),u=u.insert(U,Q),function(rt,W,Rt){return rt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=FS?!0:Rt.addedDocuments.size+Rt.modifiedDocuments.size+Rt.removedDocuments.size>0}(j,Q,R)&&g.push(i.Hr.updateTargetData(h,Q))});let _=Ca(),v=Ut();if(e.documentUpdates.forEach(R=>{e.resolvedLimboDocuments.has(R)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,R))}),g.push(ZS(h,d,e.documentUpdates).next(R=>{_=R.Vs,v=R.fs})),!r.isEqual(pt.min())){const R=i.Hr.getLastRemoteSnapshotVersion(h).next(U=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,r));g.push(R)}return F.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=u,h))}function ZS(s,e,i){let r=Ut(),u=Ut();return i.forEach(h=>r=r.add(h)),e.getEntries(s,r).next(h=>{let d=Ca();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(g)),_.isNoDocument()&&_.version.isEqual(pt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):nt(cd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:u}})}function $S(s,e){const i=xt(s);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let u;return i.Hr.getTargetData(r,e).next(h=>h?(u=h,F.resolve(u)):i.Hr.allocateTargetId(r).next(d=>(u=new _a(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Hr.addTargetData(r,u).next(()=>u))))}).then(r=>{const u=i.Ts.get(r.targetId);return(u===null||r.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(r.targetId,r),i.Is.set(e,r.targetId)),r})}async function qf(s,e,i){const r=xt(s),u=r.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,d=>r.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Ar(d))throw d;nt(cd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ts=r.Ts.remove(e),r.Is.delete(u.target)}function by(s,e,i){const r=xt(s);let u=pt.min(),h=Ut();return r.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,R){const U=xt(_),j=U.Is.get(R);return j!==void 0?F.resolve(U.Ts.get(j)):U.Hr.getTargetData(v,R)}(r,d,ei(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>r.Ps.getDocumentsMatchingQuery(d,e,i?u:pt.min(),i?h:Ut())).next(g=>(JS(r,qA(e),g),{documents:g,gs:h})))}function JS(s,e,i){let r=s.Es.get(e)||pt.min();i.forEach((u,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)}),s.Es.set(e,r)}class Ry{constructor(){this.activeTargetIds=KA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WS{constructor(){this.ho=new Ry,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,r){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ry,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="ConnectivityMonitor";class Cy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(wy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){nt(wy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su=null;function Pf(){return Su===null?Su=function(){return 268435456+Math.round(2147483648*Math.random())}():Su++,"0x"+Su.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="RestConnection",e1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n1{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${r}/databases/${u}`,this.wo=this.databaseId.database===Nu?`project_id=${r}`:`project_id=${r}&database_id=${u}`}bo(e,i,r,u,h){const d=Pf(),g=this.So(e,i.toUriEncodedString());nt(gf,`Sending RPC '${e}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,u,h),this.vo(e,g,_,r).then(v=>(nt(gf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw mr(gf,`RPC '${e}' ${d} failed with error: `,v,"url: ",g,"request:",r),v})}Co(e,i,r,u,h,d){return this.bo(e,i,r,u,h)}Do(e,i,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),r&&r.headers.forEach((u,h)=>e[h]=u)}So(e,i){const r=e1[e];return`${this.po}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qe="WebChannelConnection";class a1 extends n1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,r,u){const h=Pf();return new Promise((d,g)=>{const _=new h_;_.setWithCredentials(!0),_.listenOnce(f_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Ru.NO_ERROR:const R=_.getResponseJson();nt(qe,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(R)),d(R);break;case Ru.TIMEOUT:nt(qe,`RPC '${e}' ${h} timed out`),g(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Ru.HTTP_ERROR:const U=_.getStatus();if(nt(qe,`RPC '${e}' ${h} failed with status:`,U,"response text:",_.getResponseText()),U>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const Q=j==null?void 0:j.error;if(Q&&Q.status&&Q.message){const J=function(W){const Rt=W.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Rt)>=0?Rt:Z.UNKNOWN}(Q.status);g(new ut(J,Q.message))}else g(new ut(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{nt(qe,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(u);nt(qe,`RPC '${e}' ${h} sending request:`,u),_.send(i,"POST",v,r,15)})}Wo(e,i,r){const u=Pf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=g_(),g=m_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const R=h.join("");nt(qe,`Creating RPC '${e}' stream ${u}: ${R}`,_);const U=d.createWebChannel(R,_);let j=!1,Q=!1;const J=new i1({Fo:W=>{Q?nt(qe,`Not sending because RPC '${e}' stream ${u} is closed:`,W):(j||(nt(qe,`Opening RPC '${e}' stream ${u} transport.`),U.open(),j=!0),nt(qe,`RPC '${e}' stream ${u} sending:`,W),U.send(W))},Mo:()=>U.close()}),rt=(W,Rt,mt)=>{W.listen(Rt,ht=>{try{mt(ht)}catch(Ht){setTimeout(()=>{throw Ht},0)}})};return rt(U,Nl.EventType.OPEN,()=>{Q||(nt(qe,`RPC '${e}' stream ${u} transport opened.`),J.Qo())}),rt(U,Nl.EventType.CLOSE,()=>{Q||(Q=!0,nt(qe,`RPC '${e}' stream ${u} transport closed`),J.Ko())}),rt(U,Nl.EventType.ERROR,W=>{Q||(Q=!0,mr(qe,`RPC '${e}' stream ${u} transport errored:`,W),J.Ko(new ut(Z.UNAVAILABLE,"The operation could not be completed")))}),rt(U,Nl.EventType.MESSAGE,W=>{var Rt;if(!Q){const mt=W.data[0];Jt(!!mt);const ht=mt,Ht=(ht==null?void 0:ht.error)||((Rt=ht[0])===null||Rt===void 0?void 0:Rt.error);if(Ht){nt(qe,`RPC '${e}' stream ${u} received error:`,Ht);const yt=Ht.status;let Ct=function(A){const C=me[A];if(C!==void 0)return B_(C)}(yt),M=Ht.message;Ct===void 0&&(Ct=Z.INTERNAL,M="Unknown error status: "+yt+" with message "+Ht.message),Q=!0,J.Ko(new ut(Ct,M)),U.close()}else nt(qe,`RPC '${e}' stream ${u} received:`,mt),J.Uo(mt)}}),rt(g,d_.STAT_EVENT,W=>{W.stat===If.PROXY?nt(qe,`RPC '${e}' stream ${u} detected buffering proxy`):W.stat===If.NOPROXY&&nt(qe,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{J.$o()},0),J}}function pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(s){return new hS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,i,r=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=r,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-r);u>0&&nt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="PersistentStream";class s1{constructor(e,i,r,u,h,d,g,_){this.Ti=e,this.n_=r,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new W_(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,u])=>{this.i_===i&&this.V_(r,u)},r=>{e(()=>{const u=new ut(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(u)})})}V_(e,i){const r=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{r(()=>this.m_(u))}),this.stream.onMessage(u=>{r(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return nt(Dy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(nt(Dy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r1 extends s1{constructor(e,i,r,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=pS(this.serializer,e),r=function(h){if(!("targetChange"in h))return pt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?hr(d.readTime):pt.min()}(e);return this.listener.p_(i,r)}y_(e){const i={};i.database=Ey(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Uf(_)?{documents:yS(h,_)}:{query:_S(h,_).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=dS(h,d.resumeToken);const v=Bf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(pt.min())>0){g.readTime=fS(h,d.snapshotVersion.toTimestamp());const v=Bf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const r=ES(this.serializer,e);r&&(i.labels=r),this.I_(i)}w_(e){const i={};i.database=Ey(this.serializer),i.removeTarget=e,this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{}class o1 extends l1{constructor(e,i,r,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,i,r,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.bo(e,jf(i,r),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(Z.UNKNOWN,h.toString())})}Co(e,i,r,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,jf(i,r),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(Z.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class u1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Mi(i),this.N_=!1):nt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="RemoteStore";class c1{constructor(e,i,r,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{r.enqueueAndForget(async()=>{Zl(this)&&(nt(vr,"Restarting streams for network reachability change."),await async function(_){const v=xt(_);v.W_.add(4),await Xl(v),v.j_.set("Unknown"),v.W_.delete(4),await tc(v)}(this))})}),this.j_=new u1(r,u)}}async function tc(s){if(Zl(s))for(const e of s.G_)await e(!0)}async function Xl(s){for(const e of s.G_)await e(!1)}function tv(s,e){const i=xt(s);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),md(i)?dd(i):Sr(i).c_()&&fd(i,e))}function hd(s,e){const i=xt(s),r=Sr(i);i.U_.delete(e),r.c_()&&ev(i,e),i.U_.size===0&&(r.c_()?r.P_():Zl(i)&&i.j_.set("Unknown"))}function fd(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Sr(s).y_(e)}function ev(s,e){s.H_.Ne(e),Sr(s).w_(e)}function dd(s){s.H_=new lS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Sr(s).start(),s.j_.B_()}function md(s){return Zl(s)&&!Sr(s).u_()&&s.U_.size>0}function Zl(s){return xt(s).W_.size===0}function nv(s){s.H_=void 0}async function h1(s){s.j_.set("Online")}async function f1(s){s.U_.forEach((e,i)=>{fd(s,e)})}async function d1(s,e){nv(s),md(s)?(s.j_.q_(e),dd(s)):s.j_.set("Unknown")}async function m1(s,e,i){if(s.j_.set("Online"),e instanceof q_&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.U_.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.U_.delete(g),u.H_.removeTarget(g))}(s,e)}catch(r){nt(vr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Iy(s,r)}else if(e instanceof Du?s.H_.We(e):e instanceof j_?s.H_.Ze(e):s.H_.je(e),!i.isEqual(pt.min()))try{const r=await $_(s.localStore);i.compareTo(r)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const R=h.U_.get(v);R&&h.U_.set(v,R.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const R=h.U_.get(_);if(!R)return;h.U_.set(_,R.withResumeToken(Le.EMPTY_BYTE_STRING,R.snapshotVersion)),ev(h,_);const U=new _a(R.target,_,v,R.sequenceNumber);fd(h,U)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(r){nt(vr,"Failed to raise snapshot:",r),await Iy(s,r)}}async function Iy(s,e,i){if(!Ar(e))throw e;s.W_.add(1),await Xl(s),s.j_.set("Offline"),i||(i=()=>$_(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{nt(vr,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await tc(s)})}async function Vy(s,e){const i=xt(s);i.asyncQueue.verifyOperationInProgress(),nt(vr,"RemoteStore received new credentials");const r=Zl(i);i.W_.add(3),await Xl(i),r&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await tc(i)}async function g1(s,e){const i=xt(s);e?(i.W_.delete(2),await tc(i)):e||(i.W_.add(2),await Xl(i),i.j_.set("Unknown"))}function Sr(s){return s.J_||(s.J_=function(i,r,u){const h=xt(i);return h.M_(),new r1(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:h1.bind(null,s),No:f1.bind(null,s),Lo:d1.bind(null,s),p_:m1.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),md(s)?dd(s):s.j_.set("Unknown")):(await s.J_.stop(),nv(s))})),s.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,i,r,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=u,this.removalCallback=h,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,u,h){const d=Date.now()+r,g=new gd(e,i,d,u,h);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iv(s,e){if(Mi("AsyncQueue",`${e}: ${s}`),Ar(s))return new ut(Z.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{static emptySet(e){return new fr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||dt.comparator(i.key,r.key):(i,r)=>dt.comparator(i.key,r.key),this.keyedMap=Ml(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,r)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof fr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new fr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this.Z_=new oe(dt.comparator)}track(e){const i=e.doc.key,r=this.Z_.get(i);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(i):e.type===1&&r.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):_t():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,r)=>{e.push(r)}),e}}class Er{constructor(e,i,r,u,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Er(e,i,fr.emptySet(i),d,r,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==r[u].type||!i[u].doc.isEqual(r[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class y1{constructor(){this.queries=Ny(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,r){const u=xt(i),h=u.queries;u.queries=Ny(),h.forEach((d,g)=>{for(const _ of g.ta)_.onError(r)})})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function Ny(){return new ps(s=>V_(s),Xu)}async function _1(s,e){const i=xt(s);let r=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(r=2):(h=new p1,r=e.ra()?0:1);try{switch(r){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=iv(d,`Initialization of query '${or(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&pd(i)}async function v1(s,e){const i=xt(s),r=e.query;let u=3;const h=i.queries.get(r);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function E1(s,e){const i=xt(s);let r=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(u)&&(r=!0);d.ea=u}}r&&pd(i)}function T1(s,e,i){const r=xt(s),u=r.queries.get(e);if(u)for(const h of u.ta)h.onError(i);r.queries.delete(e)}function pd(s){s.ia.forEach(e=>{e.next()})}var Hf,My;(My=Hf||(Hf={}))._a="default",My.Cache="cache";class A1{constructor(e,i,r){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const u of e.docChanges)u.type!==3&&r.push(u);e=new Er(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const r=i!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Er.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Hf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this.key=e}}class sv{constructor(e){this.key=e}}class S1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ut(),this.mutatedKeys=Ut(),this.ya=O_(e),this.wa=new fr(this.ya)}get ba(){return this.fa}Sa(e,i){const r=i?i.Da:new Oy,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((R,U)=>{const j=u.get(R),Q=Zu(this.query,U)?U:null,J=!!j&&this.mutatedKeys.has(j.key),rt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let W=!1;j&&Q?j.data.isEqual(Q.data)?J!==rt&&(r.track({type:3,doc:Q}),W=!0):this.va(j,Q)||(r.track({type:2,doc:Q}),W=!0,(_&&this.ya(Q,_)>0||v&&this.ya(Q,v)<0)&&(g=!0)):!j&&Q?(r.track({type:0,doc:Q}),W=!0):j&&!Q&&(r.track({type:1,doc:j}),W=!0,(_||v)&&(g=!0)),W&&(Q?(d=d.add(Q),h=rt?h.add(R):h.delete(R)):(d=d.delete(R),h=h.delete(R)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const R=this.query.limitType==="F"?d.last():d.first();d=d.delete(R.key),h=h.delete(R.key),r.track({type:1,doc:R})}return{wa:d,Da:r,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((R,U)=>function(Q,J){const rt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return rt(Q)-rt(J)}(R.type,U.type)||this.ya(R.doc,U.doc)),this.Ca(r),u=u!=null&&u;const g=i&&!u?this.Fa():[],_=this.pa.size===0&&this.current&&!u?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new Er(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Oy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ut(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const i=[];return e.forEach(r=>{this.pa.has(r)||i.push(new sv(r))}),this.pa.forEach(r=>{e.has(r)||i.push(new av(r))}),i}Oa(e){this.fa=e.gs,this.pa=Ut();const i=this.Sa(e.documents);return this.applyChanges(i,!0)}Na(){return Er.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const yd="SyncEngine";class b1{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class R1{constructor(e){this.key=e,this.Ba=!1}}class w1{constructor(e,i,r,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new ps(g=>V_(g),Xu),this.qa=new Map,this.Qa=new Set,this.$a=new oe(dt.comparator),this.Ka=new Map,this.Ua=new ld,this.Wa={},this.Ga=new Map,this.za=_r.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function C1(s,e,i=!0){const r=cv(s);let u;const h=r.ka.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await rv(r,e,i,!0),u}async function D1(s,e){const i=cv(s);await rv(i,e,!0,!1)}async function rv(s,e,i,r){const u=await $S(s.localStore,ei(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return r&&(g=await I1(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&tv(s.remoteStore,u),g}async function I1(s,e,i,r,u){s.Ha=(U,j,Q)=>async function(rt,W,Rt,mt){let ht=W.view.Sa(Rt);ht.ls&&(ht=await by(rt.localStore,W.query,!1).then(({documents:M})=>W.view.Sa(M,ht)));const Ht=mt&&mt.targetChanges.get(W.targetId),yt=mt&&mt.targetMismatches.get(W.targetId)!=null,Ct=W.view.applyChanges(ht,rt.isPrimaryClient,Ht,yt);return Uy(rt,W.targetId,Ct.Ma),Ct.snapshot}(s,U,j,Q);const h=await by(s.localStore,e,!0),d=new S1(e,h.gs),g=d.Sa(h.documents),_=Yl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",u),v=d.applyChanges(g,s.isPrimaryClient,_);Uy(s,i,v.Ma);const R=new b1(e,i,d);return s.ka.set(e,R),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),v.snapshot}async function V1(s,e,i){const r=xt(s),u=r.ka.get(e),h=r.qa.get(u.targetId);if(h.length>1)return r.qa.set(u.targetId,h.filter(d=>!Xu(d,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(u.targetId),r.sharedClientState.isActiveQueryTarget(u.targetId)||await qf(r.localStore,u.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(u.targetId),i&&hd(r.remoteStore,u.targetId),Gf(r,u.targetId)}).catch(Gu)):(Gf(r,u.targetId),await qf(r.localStore,u.targetId,!0))}async function O1(s,e){const i=xt(s),r=i.ka.get(e),u=i.qa.get(r.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),hd(i.remoteStore,r.targetId))}async function lv(s,e){const i=xt(s);try{const r=await XS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ka.get(h);d&&(Jt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?Jt(d.Ba):u.removedDocuments.size>0&&(Jt(d.Ba),d.Ba=!1))}),await uv(i,r,e)}catch(r){await Gu(r)}}function xy(s,e,i){const r=xt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const u=[];r.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const _=xt(d);_.onlineState=g;let v=!1;_.queries.forEach((R,U)=>{for(const j of U.ta)j.sa(g)&&(v=!0)}),v&&pd(_)}(r.eventManager,e),u.length&&r.La.p_(u),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function N1(s,e,i){const r=xt(s);r.sharedClientState.updateQueryState(e,"rejected",i);const u=r.Ka.get(e),h=u&&u.key;if(h){let d=new oe(dt.comparator);d=d.insert(h,He.newNoDocument(h,pt.min()));const g=Ut().add(h),_=new Wu(pt.min(),new Map,new oe(Mt),d,g);await lv(r,_),r.$a=r.$a.remove(h),r.Ka.delete(e),_d(r)}else await qf(r.localStore,e,!1).then(()=>Gf(r,e,i)).catch(Gu)}function Gf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.qa.get(e))s.ka.delete(r),i&&s.La.Ja(r,i);s.qa.delete(e),s.isPrimaryClient&&s.Ua.Sr(e).forEach(r=>{s.Ua.containsKey(r)||ov(s,r)})}function ov(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(hd(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ka.delete(i),_d(s))}function Uy(s,e,i){for(const r of i)r instanceof av?(s.Ua.addReference(r.key,e),M1(s,r)):r instanceof sv?(nt(yd,"Document no longer in limbo: "+r.key),s.Ua.removeReference(r.key,e),s.Ua.containsKey(r.key)||ov(s,r.key)):_t()}function M1(s,e){const i=e.key,r=i.path.canonicalString();s.$a.get(i)||s.Qa.has(r)||(nt(yd,"New document in limbo: "+i),s.Qa.add(r),_d(s))}function _d(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new dt(ae.fromString(e)),r=s.za.next();s.Ka.set(r,new R1(i)),s.$a=s.$a.insert(i,r),tv(s.remoteStore,new _a(ei(I_(i.path)),r,"TargetPurposeLimboResolution",Qu.ae))}}async function uv(s,e,i){const r=xt(s),u=[],h=[],d=[];r.ka.isEmpty()||(r.ka.forEach((g,_)=>{d.push(r.Ha(_,e,i).then(v=>{var R;if((v||i)&&r.isPrimaryClient){const U=v?!v.fromCache:(R=i==null?void 0:i.targetChanges.get(_.targetId))===null||R===void 0?void 0:R.current;r.sharedClientState.updateQueryState(_.targetId,U?"current":"not-current")}if(v){u.push(v);const U=ud.Yi(_.targetId,v);h.push(U)}}))}),await Promise.all(d),r.La.p_(u),await async function(_,v){const R=xt(_);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",U=>F.forEach(v,j=>F.forEach(j.Hi,Q=>R.persistence.referenceDelegate.addReference(U,j.targetId,Q)).next(()=>F.forEach(j.Ji,Q=>R.persistence.referenceDelegate.removeReference(U,j.targetId,Q)))))}catch(U){if(!Ar(U))throw U;nt(cd,"Failed to update sequence numbers: "+U)}for(const U of v){const j=U.targetId;if(!U.fromCache){const Q=R.Ts.get(j),J=Q.snapshotVersion,rt=Q.withLastLimboFreeSnapshotVersion(J);R.Ts=R.Ts.insert(j,rt)}}}(r.localStore,h))}async function x1(s,e){const i=xt(s);if(!i.currentUser.isEqual(e)){nt(yd,"User change. New user:",e.toKey());const r=await Z_(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(_=>{_.reject(new ut(Z.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uv(i,r.Rs)}}function U1(s,e){const i=xt(s),r=i.Ka.get(e);if(r&&r.Ba)return Ut().add(r.key);{let u=Ut();const h=i.qa.get(e);if(!h)return u;for(const d of h){const g=i.ka.get(d);u=u.unionWith(g.view.ba)}return u}}function cv(s){const e=xt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=lv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N1.bind(null,e),e.La.p_=E1.bind(null,e.eventManager),e.La.Ja=T1.bind(null,e.eventManager),e}class ku{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=J_(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return YS(this.persistence,new QS,e.initialUser,this.serializer)}Xa(e){return new X_(od.ri,this.serializer)}Za(e){return new WS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ku.provider={build:()=>new ku};class z1 extends ku{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Jt(this.persistence.referenceDelegate instanceof Lu);const r=this.persistence.referenceDelegate.garbageCollector;return new VS(r,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new X_(r=>Lu.ri(r,i),this.serializer)}}class Qf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=x1.bind(null,this.syncEngine),await g1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new y1}()}createDatastore(e){const i=J_(e.databaseInfo.databaseId),r=function(h){return new a1(h)}(e.databaseInfo);return function(h,d,g,_){return new o1(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return function(r,u,h,d,g){return new c1(r,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>xy(this.syncEngine,i,0),function(){return Cy.D()?new Cy:new t1}())}createSyncEngine(e,i){return function(u,h,d,g,_,v,R){const U=new w1(u,h,d,g,_,v);return R&&(U.ja=!0),U}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=xt(u);nt(vr,"RemoteStore shutting down."),h.W_.add(5),await Xl(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Qf.provider={build:()=>new Qf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="FirestoreClient";class k1{constructor(e,i,r,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=u,this.user=Pe.UNAUTHENTICATED,this.clientId=uA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,async d=>{nt(Da,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(nt(Da,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=iv(i,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yf(s,e){s.asyncQueue.verifyOperationInProgress(),nt(Da,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener(async u=>{r.isEqual(u)||(await Z_(e.localStore,u),r=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function zy(s,e){s.asyncQueue.verifyOperationInProgress();const i=await B1(s);nt(Da,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(r=>Vy(e.remoteStore,r)),s.setAppCheckTokenChangeListener((r,u)=>Vy(e.remoteStore,u)),s._onlineComponents=e}async function B1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt(Da,"Using user provided OfflineComponentProvider");try{await yf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===Z.FAILED_PRECONDITION||u.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;mr("Error using user provided cache. Falling back to memory cache: "+i),await yf(s,new ku)}}else nt(Da,"Using default OfflineComponentProvider"),await yf(s,new z1(void 0));return s._offlineComponents}async function j1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt(Da,"Using user provided OnlineComponentProvider"),await zy(s,s._uninitializedComponentsProvider._online)):(nt(Da,"Using default OnlineComponentProvider"),await zy(s,new Qf))),s._onlineComponents}async function q1(s){const e=await j1(s),i=e.eventManager;return i.onListen=C1.bind(null,e.syncEngine),i.onUnlisten=V1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=D1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=O1.bind(null,e.syncEngine),i}function P1(s,e,i={}){const r=new hs;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const R=new L1({next:j=>{R.su(),d.enqueueAndForget(()=>v1(h,U)),j.fromCache&&_.source==="server"?v.reject(new ut(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(j)},error:j=>v.reject(j)}),U=new A1(g,R,{includeMetadataChanges:!0,Ta:!0});return _1(h,U)}(await q1(s),s.asyncQueue,e,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(s,e,i){if(!i)throw new ut(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function G1(s,e,i,r){if(e===!0&&r===!0)throw new ut(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function ky(s){if(dt.isDocumentKey(s))throw new ut(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Q1(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_t()}function Ff(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Q1(s);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="firestore.googleapis.com",By=!0;class jy{constructor(e){var i,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fv,this.ssl=By}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:By;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Y_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DS)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hv((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,u){return r.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vd{constructor(e,i,r,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nA;switch(r.type){case"firstParty":return new rA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=Ly.get(i);r&&(nt("ComponentProvider","Removing Datastore"),Ly.delete(i),r.terminate())}(this),Promise.resolve()}}function F1(s,e,i,r={}){var u;const h=(s=Ff(s,vd))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==fv&&h.host!==g&&mr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:r});if(!jl(_,d)&&(s._setSettings(_),r.mockUserToken)){let v,R;if(typeof r.mockUserToken=="string")v=r.mockUserToken,R=Pe.MOCK_USER;else{v=xE(r.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const U=r.mockUserToken.sub||r.mockUserToken.user_id;if(!U)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Pe(U)}s._authCredentials=new iA(new p_(v,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ec(this.firestore,e,this._query)}}class br{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new br(this.firestore,e,this._key)}}class dr extends ec{constructor(e,i,r){super(e,i,I_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new br(this.firestore,null,new dt(e))}withConverter(e){return new dr(this.firestore,e,this._path)}}function _f(s,e,...i){if(s=Zf(s),H1("collection","path",e),s instanceof vd){const r=ae.fromString(e,...i);return ky(r),new dr(s,null,r)}{if(!(s instanceof br||s instanceof dr))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ae.fromString(e,...i));return ky(r),new dr(s.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="AsyncQueue";class Py{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new W_(this,"async_queue_retry"),this.bu=()=>{const r=pf();r&&nt(qy,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const i=pf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=pf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new hs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ar(e))throw e;nt(qy,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const u=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(r);throw Mi("INTERNAL UNHANDLED ERROR: ",u),r}).then(r=>(this.pu=!1,r))));return this.Su=i,i}enqueueAfterDelay(e,i,r){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=gd.createAndSchedule(this,e,i,r,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&_t()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class dv extends vd{constructor(e,i,r,u){super(e,i,r,u),this.type="firestore",this._queue=new Py,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Py(e),this._firestoreClient=void 0,await e}}}function K1(s,e){const i=typeof s=="object"?s:l_(),r=typeof s=="string"?s:Nu,u=Fl(i,"firestore").getImmediate({identifier:r});if(!u._initialized){const h=NE("firestore");h&&F1(u,...h)}return u}function Y1(s){if(s._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||X1(s),s._firestoreClient}function X1(s){var e,i,r;const u=s._freezeSettings(),h=function(g,_,v,R){return new AA(g,_,v,R.host,R.ssl,R.experimentalForceLongPolling,R.experimentalAutoDetectLongPolling,hv(R.experimentalLongPollingOptions),R.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=u.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new k1(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bu(Le.fromBase64String(e))}catch(i){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Bu(Le.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,u){if(r.length!==u.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==u[h])return!1;return!0}(this._values,e._values)}}const J1=new RegExp("[~\\*/\\[\\]]");function W1(s,e,i){if(e.search(J1)>=0)throw Hy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new mv(...e.split("."))._internalPath}catch{throw Hy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function Hy(s,e,i,r,u){let h=`Function ${e}() called with invalid data`;h+=". ";let d="";return new ut(Z.INVALID_ARGUMENT,h+s+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,i,r,u,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new br(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(pv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tb extends gv{data(){return super.data()}}function pv(s,e){return typeof e=="string"?W1(s,e):e instanceof mv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nb{convertValue(e,i="none"){switch(wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Kl(e,(u,h)=>{r[u]=this.convertValue(h,i)}),r}convertVectorValue(e){var i,r,u;const h=(u=(r=(i=e.fields)===null||i===void 0?void 0:i[Of].arrayValue)===null||r===void 0?void 0:r.values)===null||u===void 0?void 0:u.map(d=>le(d.doubleValue));return new $1(h)}convertGeoPoint(e){return new Z1(le(e.latitude),le(e.longitude))}convertArray(e,i){return(e.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Ku(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const i=ba(e);return new en(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ae.fromString(e);Jt(K_(r));const u=new Gl(r.get(1),r.get(3)),h=new dt(r.popFirst(5));return u.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ib extends gv{constructor(e,i,r,u,h,d){super(e,i,r,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Iu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(pv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class Iu extends ib{data(e={}){return super.data(e)}}class ab{constructor(e,i,r,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new bu(u.hasPendingWrites,u.fromCache),this.query=r}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(r=>{e.call(i,new Iu(this._firestore,this._userDataWriter,r.key,r,new bu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const _=new Iu(u._firestore,u._userDataWriter,g.doc.key,g.doc,new bu(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Iu(u._firestore,u._userDataWriter,g.doc.key,g.doc,new bu(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,R=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),R=d.indexOf(g.doc.key)),{type:sb(g.type),doc:_,oldIndex:v,newIndex:R}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function sb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}class rb extends nb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bu(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new br(this.firestore,null,i)}}function vf(s){s=Ff(s,ec);const e=Ff(s.firestore,dv),i=Y1(e),r=new rb(e);return eb(s._query),P1(i,s._query).then(u=>new ab(e,r,s,u))}(function(e,i=!0){(function(u){Tr=u})(QT),Aa(new Oi("firestore",(r,{instanceIdentifier:u,options:h})=>{const d=r.getProvider("app").getImmediate(),g=new dv(new aA(r.getProvider("auth-internal")),new lA(d,r.getProvider("app-check-internal")),function(v,R){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(v.options.projectId,R)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ti(Xp,Zp,e),ti(Xp,Zp,"esm2017")})();var lb="firebase",ob="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(lb,ob,"app");const yv="@firebase/installations",Ed="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=1e4,vv=`w:${Ed}`,Ev="FIS_v2",ub="https://firebaseinstallations.googleapis.com/v1",cb=60*60*1e3,hb="installations",fb="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ms=new Hu(hb,fb,db);function Tv(s){return s instanceof Ia&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av({projectId:s}){return`${ub}/projects/${s}/installations`}function Sv(s){return{token:s.token,requestStatus:2,expiresIn:gb(s.expiresIn),creationTime:Date.now()}}async function bv(s,e){const r=(await e.json()).error;return ms.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Rv({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function mb(s,{refreshToken:e}){const i=Rv(s);return i.append("Authorization",pb(e)),i}async function wv(s){const e=await s();return e.status>=500&&e.status<600?s():e}function gb(s){return Number(s.replace("s","000"))}function pb(s){return`${Ev} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yb({appConfig:s,heartbeatServiceProvider:e},{fid:i}){const r=Av(s),u=Rv(s),h=e.getImmediate({optional:!0});if(h){const v=await h.getHeartbeatsHeader();v&&u.append("x-firebase-client",v)}const d={fid:i,authVersion:Ev,appId:s.appId,sdkVersion:vv},g={method:"POST",headers:u,body:JSON.stringify(d)},_=await wv(()=>fetch(r,g));if(_.ok){const v=await _.json();return{fid:v.fid||i,registrationStatus:2,refreshToken:v.refreshToken,authToken:Sv(v.authToken)}}else throw await bv("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(s){return new Promise(e=>{setTimeout(e,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=/^[cdef][\w-]{21}$/,Kf="";function Eb(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=Tb(s);return vb.test(i)?i:Kf}catch{return Kf}}function Tb(s){return _b(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=new Map;function Iv(s,e){const i=nc(s);Vv(i,e),Ab(i,e)}function Vv(s,e){const i=Dv.get(s);if(i)for(const r of i)r(e)}function Ab(s,e){const i=Sb();i&&i.postMessage({key:s,fid:e}),bb()}let cs=null;function Sb(){return!cs&&"BroadcastChannel"in self&&(cs=new BroadcastChannel("[Firebase] FID Change"),cs.onmessage=s=>{Vv(s.data.key,s.data.fid)}),cs}function bb(){Dv.size===0&&cs&&(cs.close(),cs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="firebase-installations-database",wb=1,gs="firebase-installations-store";let Ef=null;function Td(){return Ef||(Ef=s_(Rb,wb,{upgrade:(s,e)=>{switch(e){case 0:s.createObjectStore(gs)}}})),Ef}async function ju(s,e){const i=nc(s),u=(await Td()).transaction(gs,"readwrite"),h=u.objectStore(gs),d=await h.get(i);return await h.put(e,i),await u.done,(!d||d.fid!==e.fid)&&Iv(s,e.fid),e}async function Ov(s){const e=nc(s),r=(await Td()).transaction(gs,"readwrite");await r.objectStore(gs).delete(e),await r.done}async function ic(s,e){const i=nc(s),u=(await Td()).transaction(gs,"readwrite"),h=u.objectStore(gs),d=await h.get(i),g=e(d);return g===void 0?await h.delete(i):await h.put(g,i),await u.done,g&&(!d||d.fid!==g.fid)&&Iv(s,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(s){let e;const i=await ic(s.appConfig,r=>{const u=Cb(r),h=Db(s,u);return e=h.registrationPromise,h.installationEntry});return i.fid===Kf?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function Cb(s){const e=s||{fid:Eb(),registrationStatus:0};return Nv(e)}function Db(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const u=Promise.reject(ms.create("app-offline"));return{installationEntry:e,registrationPromise:u}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Ib(s,i);return{installationEntry:i,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Vb(s)}:{installationEntry:e}}async function Ib(s,e){try{const i=await yb(s,e);return ju(s.appConfig,i)}catch(i){throw Tv(i)&&i.customData.serverCode===409?await Ov(s.appConfig):await ju(s.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function Vb(s){let e=await Gy(s.appConfig);for(;e.registrationStatus===1;)await Cv(100),e=await Gy(s.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await Ad(s);return r||i}return e}function Gy(s){return ic(s,e=>{if(!e)throw ms.create("installation-not-found");return Nv(e)})}function Nv(s){return Ob(s)?{fid:s.fid,registrationStatus:0}:s}function Ob(s){return s.registrationStatus===1&&s.registrationTime+_v<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nb({appConfig:s,heartbeatServiceProvider:e},i){const r=Mb(s,i),u=mb(s,i),h=e.getImmediate({optional:!0});if(h){const v=await h.getHeartbeatsHeader();v&&u.append("x-firebase-client",v)}const d={installation:{sdkVersion:vv,appId:s.appId}},g={method:"POST",headers:u,body:JSON.stringify(d)},_=await wv(()=>fetch(r,g));if(_.ok){const v=await _.json();return Sv(v)}else throw await bv("Generate Auth Token",_)}function Mb(s,{fid:e}){return`${Av(s)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sd(s,e=!1){let i;const r=await ic(s.appConfig,h=>{if(!Mv(h))throw ms.create("not-registered");const d=h.authToken;if(!e&&zb(d))return h;if(d.requestStatus===1)return i=xb(s,e),h;{if(!navigator.onLine)throw ms.create("app-offline");const g=kb(h);return i=Ub(s,g),g}});return i?await i:r.authToken}async function xb(s,e){let i=await Qy(s.appConfig);for(;i.authToken.requestStatus===1;)await Cv(100),i=await Qy(s.appConfig);const r=i.authToken;return r.requestStatus===0?Sd(s,e):r}function Qy(s){return ic(s,e=>{if(!Mv(e))throw ms.create("not-registered");const i=e.authToken;return Bb(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Ub(s,e){try{const i=await Nb(s,e),r=Object.assign(Object.assign({},e),{authToken:i});return await ju(s.appConfig,r),i}catch(i){if(Tv(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await Ov(s.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ju(s.appConfig,r)}throw i}}function Mv(s){return s!==void 0&&s.registrationStatus===2}function zb(s){return s.requestStatus===2&&!Lb(s)}function Lb(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+cb}function kb(s){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},s),{authToken:e})}function Bb(s){return s.requestStatus===1&&s.requestTime+_v<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(s){const e=s,{installationEntry:i,registrationPromise:r}=await Ad(e);return r?r.catch(console.error):Sd(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qb(s,e=!1){const i=s;return await Pb(i),(await Sd(i,e)).token}async function Pb(s){const{registrationPromise:e}=await Ad(s);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(s){if(!s||!s.options)throw Tf("App Configuration");if(!s.name)throw Tf("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!s.options[i])throw Tf(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Tf(s){return ms.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="installations",Gb="installations-internal",Qb=s=>{const e=s.getProvider("app").getImmediate(),i=Hb(e),r=Fl(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Fb=s=>{const e=s.getProvider("app").getImmediate(),i=Fl(e,xv).getImmediate();return{getId:()=>jb(i),getToken:u=>qb(i,u)}};function Kb(){Aa(new Oi(xv,Qb,"PUBLIC")),Aa(new Oi(Gb,Fb,"PRIVATE"))}Kb();ti(yv,Ed);ti(yv,Ed,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu="analytics",Yb="firebase_id",Xb="origin",Zb=60*1e3,$b="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn=new $f("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},hn=new Hu("analytics","Analytics",Jb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(s){if(!s.startsWith(bd)){const e=hn.create("invalid-gtag-resource",{gtagURL:s});return nn.warn(e.message),""}return s}function Uv(s){return Promise.all(s.map(e=>e.catch(i=>i)))}function tR(s,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(s,e)),i}function eR(s,e){const i=tR("firebase-js-sdk-policy",{createScriptURL:Wb}),r=document.createElement("script"),u=`${bd}?l=${s}&id=${e}`;r.src=i?i==null?void 0:i.createScriptURL(u):u,r.async=!0,document.head.appendChild(r)}function nR(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function iR(s,e,i,r,u,h){const d=r[u];try{if(d)await e[d];else{const _=(await Uv(i)).find(v=>v.measurementId===u);_&&await e[_.appId]}}catch(g){nn.error(g)}s("config",u,h)}async function aR(s,e,i,r,u){try{let h=[];if(u&&u.send_to){let d=u.send_to;Array.isArray(d)||(d=[d]);const g=await Uv(i);for(const _ of d){const v=g.find(U=>U.measurementId===_),R=v&&e[v.appId];if(R)h.push(R);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),s("event",r,u||{})}catch(h){nn.error(h)}}function sR(s,e,i,r){async function u(h,...d){try{if(h==="event"){const[g,_]=d;await aR(s,e,i,g,_)}else if(h==="config"){const[g,_]=d;await iR(s,e,i,r,g,_)}else if(h==="consent"){const[g,_]=d;s("consent",g,_)}else if(h==="get"){const[g,_,v]=d;s("get",g,_,v)}else if(h==="set"){const[g]=d;s("set",g)}else s(h,...d)}catch(g){nn.error(g)}}return u}function rR(s,e,i,r,u){let h=function(...d){window[r].push(arguments)};return window[u]&&typeof window[u]=="function"&&(h=window[u]),window[u]=sR(h,s,e,i),{gtagCore:h,wrappedGtag:window[u]}}function lR(s){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(bd)&&i.src.includes(s))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=30,uR=1e3;class cR{constructor(e={},i=uR){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const zv=new cR;function hR(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function fR(s){var e;const{appId:i,apiKey:r}=s,u={method:"GET",headers:hR(r)},h=$b.replace("{app-id}",i),d=await fetch(h,u);if(d.status!==200&&d.status!==304){let g="";try{const _=await d.json();!((e=_.error)===null||e===void 0)&&e.message&&(g=_.error.message)}catch{}throw hn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:g})}return d.json()}async function dR(s,e=zv,i){const{appId:r,apiKey:u,measurementId:h}=s.options;if(!r)throw hn.create("no-app-id");if(!u){if(h)return{measurementId:h,appId:r};throw hn.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new pR;return setTimeout(async()=>{g.abort()},Zb),Lv({appId:r,apiKey:u,measurementId:h},d,g,e)}async function Lv(s,{throttleEndTimeMillis:e,backoffCount:i},r,u=zv){var h;const{appId:d,measurementId:g}=s;try{await mR(r,e)}catch(_){if(g)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:d,measurementId:g};throw _}try{const _=await fR(s);return u.deleteThrottleMetadata(d),_}catch(_){const v=_;if(!gR(v)){if(u.deleteThrottleMetadata(d),g)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:d,measurementId:g};throw _}const R=Number((h=v==null?void 0:v.customData)===null||h===void 0?void 0:h.httpStatus)===503?Bp(i,u.intervalMillis,oR):Bp(i,u.intervalMillis),U={throttleEndTimeMillis:Date.now()+R,backoffCount:i+1};return u.setThrottleMetadata(d,U),nn.debug(`Calling attemptFetch again in ${R} millis`),Lv(s,U,r,u)}}function mR(s,e){return new Promise((i,r)=>{const u=Math.max(e-Date.now(),0),h=setTimeout(i,u);s.addEventListener(()=>{clearTimeout(h),r(hn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function gR(s){if(!(s instanceof Ia)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class pR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function yR(s,e,i,r,u){if(u&&u.global){s("event",i,r);return}else{const h=await e,d=Object.assign(Object.assign({},r),{send_to:h});s("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(){if(e_())try{await n_()}catch(s){return nn.warn(hn.create("indexeddb-unavailable",{errorInfo:s==null?void 0:s.toString()}).message),!1}else return nn.warn(hn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function vR(s,e,i,r,u,h,d){var g;const _=dR(s);_.then(Q=>{i[Q.measurementId]=Q.appId,s.options.measurementId&&Q.measurementId!==s.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${Q.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Q=>nn.error(Q)),e.push(_);const v=_R().then(Q=>{if(Q)return r.getId()}),[R,U]=await Promise.all([_,v]);lR(h)||eR(h,R.measurementId),u("js",new Date);const j=(g=d==null?void 0:d.config)!==null&&g!==void 0?g:{};return j[Xb]="firebase",j.update=!0,U!=null&&(j[Yb]=U),u("config",R.measurementId,j),R.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.app=e}_delete(){return delete Bl[this.app.options.appId],Promise.resolve()}}let Bl={},Fy=[];const Ky={};let Af="dataLayer",TR="gtag",Yy,kv,Xy=!1;function AR(){const s=[];if(LE()&&s.push("This is a browser extension environment."),BE()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,u)=>`(${u+1}) ${r}`).join(" "),i=hn.create("invalid-analytics-context",{errorInfo:e});nn.warn(i.message)}}function SR(s,e,i){AR();const r=s.options.appId;if(!r)throw hn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw hn.create("no-api-key");if(Bl[r]!=null)throw hn.create("already-exists",{id:r});if(!Xy){nR(Af);const{wrappedGtag:h,gtagCore:d}=rR(Bl,Fy,Ky,Af,TR);kv=h,Yy=d,Xy=!0}return Bl[r]=vR(s,Fy,Ky,e,Yy,Af,i),new ER(s)}function bR(s=l_()){s=Zf(s);const e=Fl(s,qu);return e.isInitialized()?e.getImmediate():RR(s)}function RR(s,e={}){const i=Fl(s,qu);if(i.isInitialized()){const u=i.getImmediate();if(jl(e,i.getOptions()))return u;throw hn.create("already-initialized")}return i.initialize({options:e})}function wR(s,e,i,r){s=Zf(s),yR(kv,Bl[s.app.options.appId],e,i,r).catch(u=>nn.error(u))}const Zy="@firebase/analytics",$y="0.10.12";function CR(){Aa(new Oi(qu,(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),u=e.getProvider("installations-internal").getImmediate();return SR(r,u,i)},"PUBLIC")),Aa(new Oi("analytics-internal",s,"PRIVATE")),ti(Zy,$y),ti(Zy,$y,"esm2017");function s(e){try{const i=e.getProvider(qu).getImmediate();return{logEvent:(r,u,h)=>wR(i,r,u,h)}}catch(i){throw hn.create("interop-component-reg-failed",{reason:i})}}}CR();const DR={apiKey:"AIzaSyAuaeSyx21PlFZPpw4Nso8A2_J5Z1KGR_4",authDomain:"ruslana-cakes.firebaseapp.com",projectId:"ruslana-cakes",storageBucket:"ruslana-cakes.firebasestorage.app",messagingSenderId:"645062619826",appId:"1:645062619826:web:f752b588fc41d417978fab",measurementId:"G-NE6QB30C2V"},Bv=r_(DR);bR(Bv);const Sf=K1(Bv),IR=()=>{const[s,e]=In.useState([]),[i,r]=In.useState([]),[u,h]=In.useState([]),[d,g]=In.useState(""),[_,v]=In.useState("cakes"),[R,U]=In.useState(0),[j,Q]=In.useState(!0),[J,rt]=In.useState(""),W=async()=>{Q(!0);try{const ht=_f(Sf,"cakes"),yt=(await vf(ht)).docs.map(N=>({id:N.id,Image:N.data().Image,Description:N.data().Description,Price:N.data().Price}));e(yt);const Ct=_f(Sf,"bento"),b=(await vf(Ct)).docs.map(N=>({id:N.id,Image:N.data().Image,Description:N.data().Description,Price:N.data().Price}));r(b);const A=_f(Sf,"cupcake"),V=(await vf(A)).docs.map(N=>({id:N.id,Image:N.data().Image,Description:N.data().Description,Price:N.data().Price}));h(V)}catch(ht){rt("Ошибка при загрузке данных: "+ht.message),console.error("Ошибка при загрузке данных:",ht)}finally{Q(!1)}};In.useEffect(()=>{W()},[]),In.useEffect(()=>{(()=>{_==="cakes"&&s.length>0?U(3):_==="bento"&&i.length>0?U(1):_==="cupcake"&&u.length>0&&U(0)})()},[_,s,i,u]);const Rt=ht=>{v(ht),g(ht)};if(j)return H.jsx("div",{children:"Загрузка..."});const mt=_==="cakes"?s:_==="bento"?i:_==="cupcake"?u:[];return H.jsxs("div",{className:"catalog-container",id:"catalog",children:[H.jsxs("div",{className:"catalog-list",children:[H.jsx("h2",{className:"catalog-list-title",children:"Catalog"}),H.jsxs("ul",{className:"catalog-list-items",children:[H.jsx("li",{className:`catalog-list-item ${d==="cakes"?"active":""}`,onClick:()=>Rt("cakes"),children:"Торты"}),H.jsx("li",{className:`catalog-list-item ${d==="bento"?"active":""}`,onClick:()=>Rt("bento"),children:"Бенто торты"}),H.jsx("li",{className:`catalog-list-item ${d==="cupcake"?"active":""}`,onClick:()=>Rt("cupcake"),children:"Капкейки"})]})]}),J&&H.jsx("p",{children:J}),H.jsxs("div",{className:"catalog-cards-container",children:[H.jsx("div",{className:"catalog-cards",children:mt.length>0?mt.map(ht=>H.jsx(zp,{cake:ht},ht.id)):H.jsx("p",{children:"Нет доступных товаров в этой категории."})}),H.jsxs("div",{className:"catalog-cards-top",children:[H.jsx("p",{className:"catalog-top-seller-title",children:"Top seller"}),mt.length>0&&H.jsx(zp,{cake:mt[R]})]})]})]})},VR="/Ruslana_Cakes/assets/logo_text_light-DiZRjzKz.png",Pu=s=>{const e=document.getElementById(s);e&&e.scrollIntoView({behavior:"smooth"})},OR="_links_1kkya_1",NR={links:OR},jv=()=>H.jsxs("div",{className:NR.links,children:[H.jsxs("a",{href:"https://www.instagram.com/ruslanacakes/",target:"blank",children:[H.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/174/174855.png",alt:"Instagram"}),H.jsx("span",{})]}),H.jsxs("a",{href:"https://vk.com/ruslanacakes",target:"blank",children:[H.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/145/145813.png",alt:"VK"}),H.jsx("span",{})]}),H.jsxs("a",{href:"https://t.me/ruslanacakes",target:"blank",children:[H.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/2111/2111646.png",alt:"Telegram"}),H.jsx("span",{})]})]}),MR=()=>H.jsxs("div",{className:"footer",children:[H.jsxs("div",{className:"footer-container-up",children:[H.jsx("div",{className:"footer-logo",children:H.jsx("img",{src:VR,alt:"",loading:"lazy",width:"200px",height:"auto"})}),H.jsxs("ul",{className:"footer-menu",children:[H.jsx("li",{children:"Заказать"}),H.jsx("li",{className:"footer-menu-item",children:H.jsx("a",{onClick:()=>Pu("catalog"),children:"Каталог"})}),H.jsx("li",{className:"footer-menu-item",children:H.jsx("a",{onClick:()=>Pu("location"),children:"Контакты"})})]})]}),H.jsxs("div",{className:"footer-container-down",children:[H.jsx("div",{className:"footer-empty"}),H.jsx("div",{className:"footer-social-links",children:H.jsx(jv,{})})]}),H.jsx("hr",{className:"footer-hr"}),H.jsx("p",{children:"© 2022 Ruslana Cakes"})]}),xR="/Ruslana_Cakes/assets/trolley-BalS_m93.png",UR=()=>H.jsx("header",{className:"header",children:H.jsxs("ul",{className:"header-menu-list",children:[H.jsx("li",{className:"header-menu-item header-menu-item-language",children:H.jsx("a",{onClick:()=>Pu("location"),children:"Контакты"})}),H.jsx("li",{className:"header-menu-item",children:H.jsx("a",{onClick:()=>Pu("catalog"),children:"Каталог"})}),H.jsx("li",{className:"header-menu-item"}),H.jsx("li",{className:"header-menu-item",children:"Order"}),H.jsx("li",{className:"header-menu-item",children:H.jsx("a",{children:H.jsx("img",{className:"header-menu-cart",src:xR,alt:"cart"})})})]})}),zR=()=>H.jsxs("div",{className:"location-container",id:"location",children:[H.jsx("h3",{className:"location-title",children:"Как нас найти"}),H.jsxs("div",{className:"location-map-container",children:[H.jsxs("div",{className:"location-info-container",children:[H.jsxs("div",{className:"location-info-contacts",children:[H.jsxs("div",{children:[H.jsx("h4",{className:"location-info-title",children:"Контакты"}),H.jsxs("ul",{className:"location-info-contacts-list",children:[H.jsx("li",{className:"location-info-contacts-phone",children:H.jsx("a",{href:"tel:+79092841484",children:"📞 +7 (909) 284-14-84"})}),H.jsxs("li",{className:"location-info-contacts-phone",children:[" ",H.jsx("a",{href:"https://t.me/ruslanacakes",target:"_blank",children:"📧 https://t.me/ruslanacakes"})]})]})]}),H.jsxs("div",{children:[H.jsx("h4",{className:"location-info-title",children:"Адрес"}),H.jsx("ul",{className:"location-info-contacts-list",children:H.jsx("li",{className:"location-info-contacts-phone",children:H.jsx("a",{href:"https://yandex.ru/maps/-/CHF8MS8v",target:"_blank",children:"Нижний Новгород, улица Академика Сахарова, 117"})})})]})]}),H.jsxs("div",{children:[H.jsx("h4",{className:"location-info-title",children:"Важная информация!"}),H.jsxs("ul",{children:[H.jsxs("li",{children:[" ","🍰 Я домашний кондитер, испеку для вас на заказ торт, капкейки, бенто."]}),H.jsx("li",{children:"🛑 С мастикой не работаю!"}),H.jsx("li",{children:" ❗ Работаю исключительно по предоплате 50%"})]})]})]}),H.jsx("div",{className:"location-map",children:H.jsx("iframe",{src:"https://yandex.ru/map-widget/v1/?um=constructor%3Ad7af66d2a8d5f484f1c3620262fab411684d5663752ff04adff718f50dfbb1f4&source=constructor",width:"100%",height:"100%",frameBorder:"0"})})]}),H.jsxs("div",{className:"location-links-container",children:[H.jsx("h3",{className:"location-title",children:"Мы в социальных сетях"}),H.jsx(jv,{})]})]}),LR="/Ruslana_Cakes/assets/2%20logo%20Ruslana%20Cakes-rz6J5luV.png",kR=({onClose:s})=>H.jsx("div",{className:"modal-container",children:H.jsxs("div",{className:"modal-content",children:[H.jsx("p",{className:"modal-title",children:"Внесите данные для заказа"}),H.jsxs("form",{onSubmit:e=>e.preventDefault(),children:[H.jsx("input",{className:"modal-input input",type:"text",placeholder:"Имя",required:!0}),H.jsx("input",{className:"modal-input input",type:"tel",placeholder:"Телефон",required:!0}),H.jsx("input",{className:"modal-input input",type:"email",placeholder:"Почта",required:!0}),H.jsxs("select",{className:"modal-select input",required:!0,defaultValue:"Торт",children:[H.jsx("option",{defaultValue:"DEFAULT",disabled:!0,children:"Торт"}),H.jsx("option",{value:"chocolate",children:"Шоколадный"}),H.jsx("option",{value:"vanilla",children:"Ванильный"}),H.jsx("option",{value:"strawberry",children:"Яблочный"})]}),H.jsx("button",{className:"modal-button",onClick:s,children:"Закрыть"}),H.jsx("button",{className:"modal-button",onClick:s,type:"submit",children:"Отправить"})]})]})}),BR=()=>{const[s,e]=In.useState(!1);return H.jsxs("main",{className:"main",children:[H.jsx("h1",{className:"visually-hidden",children:"Торты на заказ в Нижнем Новгороде"}),H.jsx("img",{className:"main-logo",src:LR,alt:"Ruslana cakes"}),H.jsx("button",{className:"main-button",onClick:()=>e(!0),children:"Сделать заказ"}),s&&H.jsx(kR,{onClose:()=>e(!1)})]})};function jR(){return H.jsxs(H.Fragment,{children:[H.jsx(UR,{}),H.jsx(BR,{}),H.jsx(IR,{}),H.jsx(zR,{}),H.jsx(MR,{})]})}EE.createRoot(document.getElementById("root")).render(H.jsx(In.StrictMode,{children:H.jsx(jR,{})}));
